<?php
    $installHandler = $product->isTheme
        ? $this->updaterWidget->getEventHandler('onInstallTheme')
        : $this->updaterWidget->getEventHandler('onInstallPlugin');

    $removeHandler = $product->isTheme
        ? $this->updaterWidget->getEventHandler('onRemoveTheme')
        : $this->updaterWidget->getEventHandler('onRemovePlugin');
?>
<?php if ($projectDetails): ?>
    <div data-control="toolbar" class="loading-indicator-container m-y text-center">
        <?php if (!$product->installed()): ?>
            <a
                href="javascript:;"
                data-control="popup"
                data-handler="<?= $installHandler ?>"
                data-request-data="code: '<?= e($product->code) ?>'"
                class="btn btn-success oc-icon-plus">
                Install
            </a>
        <?php else: ?>
            <a
                href="javascript:;"
                data-control="popup"
                data-handler="<?= $removeHandler ?>"
                data-request-data="code: '<?= e($product->code) ?>'"
                class="btn btn-danger oc-icon-trash-o">
                Remove
            </a>
        <?php endif ?>
    </div>
<?php else: ?>
    <div data-control="toolbar" class="loading-indicator-container m-y text-center">
        <a
            href="javascript:;"
            class="btn btn-success oc-icon-plus disabled">
            Install
        </a>
    </div>
<?php endif ?>
