function unregisterServiceWorkers(){"https:"===location.protocol&&navigator.serviceWorker.getRegistrations().then((function(registrations){for(var index=0;index<registrations.length;index++)registrations[index].unregister({immediate:!0})}))}!function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.foundation&&($.oc.foundation={}),$.oc.foundation._proxyCounter=0;var Base=function(){this.proxiedMethods={}};Base.prototype.dispose=function(){for(var key in this.proxiedMethods)this.proxiedMethods[key]=null;this.proxiedMethods=null},Base.prototype.proxy=function(method){return void 0===method.ocProxyId&&($.oc.foundation._proxyCounter++,method.ocProxyId=$.oc.foundation._proxyCounter),void 0!==this.proxiedMethods[method.ocProxyId]||(this.proxiedMethods[method.ocProxyId]=method.bind(this)),this.proxiedMethods[method.ocProxyId]},$.oc.foundation.base=Base}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.foundation&&($.oc.foundation={});var Element={hasClass:function(el,className){return el.classList?el.classList.contains(className):new RegExp("(^| )"+className+"( |$)","gi").test(el.className)},addClass:function(el,className){for(var classes=className.split(" "),i=0,len=classes.length;i<len;i++){var currentClass=classes[i].trim();if(this.hasClass(el,currentClass))return;el.classList?el.classList.add(currentClass):el.className+=" "+currentClass}},removeClass:function(el,className){el.classList?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")},toggleClass:function(el,className,add){void 0===add&&(this.hasClass(el,className)?this.removeClass(el,className):this.addClass(el,className)),!add||this.hasClass(el,className)?add||!this.hasClass(el,className)||this.removeClass(el,className):this.addClass(el,className)},absolutePosition:function(element,ignoreScrolling){var top=!0===ignoreScrolling?0:document.body.scrollTop,left=0;do{top+=element.offsetTop||0,!0!==ignoreScrolling&&(top-=element.scrollTop||0),left+=element.offsetLeft||0,element=element.offsetParent}while(element);return{top:top,left:left}},getCaretPosition:function(input){if(document.selection){var selection=document.selection.createRange();return selection.moveStart("character",-input.value.length),selection.text.length}return void 0!==input.selectionStart?input.selectionStart:0},setCaretPosition:function(input,position){if(document.selection){var range=input.createTextRange();setTimeout((function(){range.collapse(!0),range.moveStart("character",position),range.moveEnd("character",0),range.select(),range=null,input=null}),0)}void 0!==input.selectionStart&&setTimeout((function(){input.selectionStart=position,input.selectionEnd=position,input=null}),0)},elementContainsPoint:function(element,point){var elementPosition=$.oc.foundation.element.absolutePosition(element),elementRight=elementPosition.left+element.offsetWidth,elementBottom=elementPosition.top+element.offsetHeight;return point.x>=elementPosition.left&&point.x<=elementRight&&point.y>=elementPosition.top&&point.y<=elementBottom}};$.oc.foundation.element=Element}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.foundation&&($.oc.foundation={});var Event={getTarget:function(ev,tag){var target=ev.target?ev.target:ev.srcElement;if(void 0===tag)return target;for(var tagName=target.tagName;tagName!=tag;){if(!(target=target.parentNode))return null;tagName=target.tagName}return target},stop:function(ev){ev.stopPropagation?ev.stopPropagation():ev.cancelBubble=!0,ev.preventDefault?ev.preventDefault():ev.returnValue=!1},pageCoordinates:function(ev){return ev.pageX||ev.pageY?{x:ev.pageX,y:ev.pageY}:ev.clientX||ev.clientY?{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop}:{x:0,y:0}}};$.oc.foundation.event=Event}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.foundation&&($.oc.foundation={});var ControlUtils={markDisposable:function(el){el.setAttribute("data-disposable","")},disposeControls:function(container){for(var controls=container.querySelectorAll("[data-disposable]"),i=0,len=controls.length;i<len;i++)$(controls[i]).triggerHandler("dispose-control");container.hasAttribute("data-disposable")&&$(container).triggerHandler("dispose-control")}};$.oc.foundation.controlUtils=ControlUtils,$(document).on("ajaxBeforeReplace",(function(ev){$.oc.foundation.controlUtils.disposeControls(ev.target)}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,ChangeMonitor=function(element,options){this.$el=$(element),this.paused=!1,this.options=options||{},$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.init()};(ChangeMonitor.prototype=Object.create(BaseProto)).constructor=ChangeMonitor,ChangeMonitor.prototype.init=function(){this.$el.on("change",this.proxy(this.change)),this.$el.on("unchange.oc.changeMonitor",this.proxy(this.unchange)),this.$el.on("pause.oc.changeMonitor",this.proxy(this.pause)),this.$el.on("resume.oc.changeMonitor",this.proxy(this.resume)),this.$el.on("pauseUnloadListener.oc.changeMonitor",this.proxy(this.pauseUnloadListener)),this.$el.on("resumeUnloadListener.oc.changeMonitor",this.proxy(this.resumeUnloadListener)),this.$el.on("keyup input paste","input:not(.ace_search_field), textarea:not(.ace_text-input)",this.proxy(this.onInputChange)),$("input:not([type=hidden]):not(.ace_search_field), textarea:not(.ace_text-input)",this.$el).each((function(){$(this).data("oldval.oc.changeMonitor",$(this).val())})),this.options.windowCloseConfirm&&$(window).on("beforeunload",this.proxy(this.onBeforeUnload)),this.$el.one("dispose-control",this.proxy(this.dispose)),this.$el.trigger("ready.oc.changeMonitor")},ChangeMonitor.prototype.dispose=function(){null!==this.$el&&(this.unregisterHandlers(),this.$el.removeData("oc.changeMonitor"),this.$el=null,this.options=null,BaseProto.dispose.call(this))},ChangeMonitor.prototype.unregisterHandlers=function(){this.$el.off("change",this.proxy(this.change)),this.$el.off("unchange.oc.changeMonitor",this.proxy(this.unchange)),this.$el.off("pause.oc.changeMonitor ",this.proxy(this.pause)),this.$el.off("resume.oc.changeMonitor ",this.proxy(this.resume)),this.$el.off("keyup input paste","input:not(.ace_search_field), textarea:not(.ace_text-input)",this.proxy(this.onInputChange)),this.$el.off("dispose-control",this.proxy(this.dispose)),this.options.windowCloseConfirm&&$(window).off("beforeunload",this.proxy(this.onBeforeUnload))},ChangeMonitor.prototype.change=function(ev,inputChange){if(!this.paused&&"ace_search_field"!==ev.target.className){if(!inputChange){var type=$(ev.target).attr("type");if("text"===type||"password"===type)return}this.$el.hasClass("oc-data-changed")||(this.$el.trigger("changed.oc.changeMonitor"),this.$el.addClass("oc-data-changed"))}},ChangeMonitor.prototype.unchange=function(){this.paused||this.$el.hasClass("oc-data-changed")&&(this.$el.trigger("unchanged.oc.changeMonitor"),this.$el.removeClass("oc-data-changed"))},ChangeMonitor.prototype.onInputChange=function(ev){if(!this.paused){var $el=$(ev.target);$el.data("oldval.oc.changeMonitor")!==$el.val()&&($el.data("oldval.oc.changeMonitor",$el.val()),this.change(ev,!0))}},ChangeMonitor.prototype.pause=function(){this.paused=!0},ChangeMonitor.prototype.resume=function(){this.paused=!1},ChangeMonitor.prototype.pauseUnloadListener=function(){this.unloadListenerPaused=!0},ChangeMonitor.prototype.resumeUnloadListener=function(){this.unloadListenerPaused=!1},ChangeMonitor.prototype.onBeforeUnload=function(){if($.contains(document.documentElement,this.$el.get(0))&&this.$el.hasClass("oc-data-changed")&&!this.unloadListenerPaused)return this.options.windowCloseConfirm},ChangeMonitor.DEFAULTS={windowCloseConfirm:!1};var old=$.fn.changeMonitor;$.fn.changeMonitor=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.changeMonitor"),options=$.extend({},ChangeMonitor.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.changeMonitor",data=new ChangeMonitor(this,options))}))},$.fn.changeMonitor.Constructor=ChangeMonitor,$.fn.changeMonitor.noConflict=function(){return $.fn.changeMonitor=old,this},$(document).render((function(){$("[data-change-monitor]").changeMonitor()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,HotKey=function(element,options){if(!options.hotkey)throw new Error("No hotkey has been defined.");this.$el=$(element),this.$target=$(options.hotkeyTarget),this.options=options||{},this.keyConditions=[],this.keyMap=null,$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.init()};(HotKey.prototype=Object.create(BaseProto)).constructor=HotKey,HotKey.prototype.dispose=function(){null!==this.$el&&(this.unregisterHandlers(),this.$el.removeData("oc.hotkey"),this.$target=null,this.$el=null,this.keyConditions=null,this.keyMap=null,this.options=null,BaseProto.dispose.call(this))},HotKey.prototype.init=function(){this.initKeyMap();for(var keys=this.options.hotkey.toLowerCase().split(","),i=0,len=keys.length;i<len;i++){var keysTrimmed=this.trim(keys[i]);this.keyConditions.push(this.makeCondition(keysTrimmed))}this.$target.on("keydown",this.proxy(this.onKeyDown)),this.$el.one("dispose-control",this.proxy(this.dispose))},HotKey.prototype.unregisterHandlers=function(){this.$target.off("keydown",this.proxy(this.onKeyDown)),this.$el.off("dispose-control",this.proxy(this.dispose))},HotKey.prototype.makeCondition=function(keyBind){for(var condition={shift:!1,ctrl:!1,cmd:!1,alt:!1,specific:-1},keys=keyBind.split("+"),i=0,len=keys.length;i<len;i++)switch(keys[i]){case"shift":condition.shift=!0;break;case"ctrl":condition.ctrl=!0;break;case"command":case"cmd":case"meta":condition.cmd=!0;break;case"alt":case"option":condition.alt=!0}return condition.specific=this.keyMap[keys[keys.length-1]],void 0===condition.specific&&(condition.specific=keys[keys.length-1].toUpperCase().charCodeAt()),condition},HotKey.prototype.initKeyMap=function(){this.keyMap={esc:27,tab:9,space:32,return:13,enter:13,backspace:8,scroll:145,capslock:20,numlock:144,pause:19,break:19,insert:45,home:36,delete:46,suppr:46,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}},HotKey.prototype.trim=function(str){return str.replace(/^\s+/,"").replace(/\s+$/,"")},HotKey.prototype.testConditions=function(ev){for(var i=0,len=this.keyConditions.length;i<len;i++){var condition=this.keyConditions[i];if(ev.which===condition.specific&&ev.originalEvent.shiftKey===condition.shift&&ev.originalEvent.ctrlKey===condition.ctrl&&ev.originalEvent.metaKey===condition.cmd&&ev.originalEvent.altKey===condition.alt)return!0}return!1},HotKey.prototype.onKeyDown=function(ev){if(this.testConditions(ev)){if(this.options.hotkeyVisible&&!this.$el.is(":visible"))return;if(this.options.callback)return this.options.callback(this.$el,ev.currentTarget,ev)}},HotKey.DEFAULTS={hotkey:null,hotkeyTarget:"html",hotkeyVisible:!0,callback:function(element){return element.trigger("click"),!1}};var old=$.fn.hotKey;$.fn.hotKey=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.hotkey"),options=$.extend({},HotKey.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.hotkey",data=new HotKey(this,options)),"string"==typeof option&&data[option].apply(data,args)}))},$.fn.hotKey.Constructor=HotKey,$.fn.hotKey.noConflict=function(){return $.fn.hotKey=old,this},$(document).render((function(){$("[data-hotkey]").hotKey()}))}(window.jQuery),function($){"use strict";$.oc.presetEngine=new function(){var SPECIFIC_MAPS={de:{"Ä":"AE","Ö":"OE","Ü":"UE","ä":"ae","ö":"oe","ü":"ue"}},ALL_MAPS=[{"Á":"A","À":"A","Ã":"A","Ả":"A","Ạ":"A","Ắ":"A","Ằ":"A","Ẵ":"A","Ẳ":"A","Ặ":"A","Ấ":"A","Ầ":"A","Ẫ":"A","Ẩ":"A","Ậ":"A","Đ":"D","É":"E","È":"E","Ẽ":"E","Ẻ":"E","Ẹ":"E","Ế":"E","Ề":"E","Ễ":"E","Ể":"E","Ệ":"E","Ó":"O","Ò":"O","Ỏ":"O","Õ":"O","Ọ":"O","Ố":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ơ":"O","Ớ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ợ":"O","Í":"I","Ì":"I","Ỉ":"I","Ĩ":"I","Ị":"I","Ú":"U","Ù":"U","Ủ":"U","Ũ":"U","Ụ":"U","Ư":"U","Ứ":"U","Ừ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","Ỳ":"Y","Ỷ":"Y","Ỹ":"Y","Ỵ":"Y","á":"a","à":"a","ã":"a","ả":"a","ạ":"a","ắ":"a","ằ":"a","ẵ":"a","ẳ":"a","ặ":"a","ấ":"a","ầ":"a","ẫ":"a","ẩ":"a","ậ":"a","đ":"d","é":"e","è":"e","ẽ":"e","ẻ":"e","ẹ":"e","ế":"e","ề":"e","ễ":"e","ể":"e","ệ":"e","ó":"o","ò":"o","ỏ":"o","õ":"o","ọ":"o","ố":"o","ồ":"o","ổ":"o","ỗ":"o","ộ":"o","ơ":"o","ớ":"o","ờ":"o","ở":"o","ỡ":"o","ợ":"o","í":"i","ì":"i","ỉ":"i","ĩ":"i","ị":"i","ú":"u","ù":"u","ủ":"u","ũ":"u","ụ":"u","ư":"u","ứ":"u","ừ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ỳ":"y","ỷ":"y","ỹ":"y","ỵ":"y"},{"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ő":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ű":"U","Ý":"Y","Þ":"TH","Ÿ":"Y","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ő":"o","ø":"o","ō":"o","œ":"oe","ù":"u","ú":"u","û":"u","ü":"u","ű":"u","ý":"y","þ":"th","ÿ":"y"},{"©":"(c)"},{"α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ά":"a","έ":"e","ί":"i","ό":"o","ύ":"y","ή":"h","ώ":"w","ς":"s","ϊ":"i","ΰ":"y","ϋ":"y","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ά":"A","Έ":"E","Ί":"I","Ό":"O","Ύ":"Y","Ή":"H","Ώ":"W","Ϊ":"I","Ϋ":"Y"},{"ş":"s","Ş":"S","ı":"i","İ":"I","ç":"c","Ç":"C","ü":"u","Ü":"U","ö":"o","Ö":"O","ğ":"g","Ğ":"G"},{"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"shch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"Yo","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Shch","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya"},{"Є":"Ye","І":"I","Ї":"Yi","Ґ":"G","є":"ye","і":"i","ї":"yi","ґ":"g"},{"č":"c","ď":"d","ě":"e","ň":"n","ř":"r","š":"s","ť":"t","ů":"u","ž":"z","Č":"C","Ď":"D","Ě":"E","Ň":"N","Ř":"R","Š":"S","Ť":"T","Ů":"U","Ž":"Z"},{"ą":"a","ć":"c","ę":"e","ł":"l","ń":"n","ó":"o","ś":"s","ź":"z","ż":"z","Ą":"A","Ć":"C","Ę":"E","Ł":"L","Ń":"N","Ó":"O","Ś":"S","Ź":"Z","Ż":"Z"},{"ā":"a","č":"c","ē":"e","ģ":"g","ī":"i","ķ":"k","ļ":"l","ņ":"n","š":"s","ū":"u","ž":"z","Ā":"A","Č":"C","Ē":"E","Ģ":"G","Ī":"I","Ķ":"K","Ļ":"L","Ņ":"N","Š":"S","Ū":"U","Ž":"Z"},{"أ":"a","ب":"b","ت":"t","ث":"th","ج":"g","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"d","ط":"t","ظ":"th","ع":"aa","غ":"gh","ف":"f","ق":"k","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"o","ي":"y"},{"آ":"a","ا":"a","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"gh","ی":"y"},{"ą":"a","č":"c","ę":"e","ė":"e","į":"i","š":"s","ų":"u","ū":"u","ž":"z","Ą":"A","Č":"C","Ę":"E","Ė":"E","Į":"I","Š":"S","Ų":"U","Ū":"U","Ž":"Z"},{"ђ":"dj","ј":"j","љ":"lj","њ":"nj","ћ":"c","џ":"dz","đ":"d","Ђ":"Dj","Ј":"j","Љ":"Lj","Њ":"Nj","Ћ":"C","Џ":"Dz","Đ":"D"},{"ç":"c","ə":"e","ğ":"g","ı":"i","ö":"o","ş":"s","ü":"u","Ç":"C","Ə":"E","Ğ":"G","İ":"I","Ö":"O","Ş":"S","Ü":"U"},{"ă":"a","â":"a","î":"i","ș":"s","ț":"t","Ă":"A","Â":"A","Î":"I","Ș":"S","Ț":"T"},{"ў":"w","Ў":"W"}],removeList=["a","an","as","at","before","but","by","for","from","is","in","into","like","of","off","on","onto","per","since","than","the","this","that","to","up","via","with"],locale=$('meta[name="backend-locale"]').attr("content"),Downcoder={Initialize:function(){if(!Downcoder.map){Downcoder.map={},Downcoder.chars=[],"object"==typeof SPECIFIC_MAPS[locale]&&ALL_MAPS.push(SPECIFIC_MAPS[locale]);for(var i=0;i<ALL_MAPS.length;i++){var lookup=ALL_MAPS[i];for(var c in lookup)lookup.hasOwnProperty(c)&&(Downcoder.map[c]=lookup[c])}for(var k in Downcoder.map)Downcoder.map.hasOwnProperty(k)&&Downcoder.chars.push(k);Downcoder.regex=new RegExp(Downcoder.chars.join("|"),"g")}}};function removeStopWords(str,options){if(options.inputPresetRemoveWords){var regex=new RegExp("\\b("+removeList.join("|")+")\\b","gi");str=str.replace(regex,"")}return str}function toCamel(slug,numChars,options){return Downcoder.Initialize(),(slug=(slug=(slug=(slug=(slug=(slug=(slug=removeStopWords(slug=slug.replace(Downcoder.regex,(function(m){return Downcoder.map[m]})),options)).toLowerCase()).replace(/(\b|-)\w/g,(function(m){return m.toUpperCase()}))).replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"")).substr(0,1).toLowerCase()+slug.substr(1)).substring(0,numChars)}this.formatValue=function(options,srcValue){var value;return void 0===srcValue?"":"exact"==options.inputPresetType?srcValue:"namespace"==options.inputPresetType?function(srcValue,options){var value=toCamel(srcValue,void 0,options);return value.substr(0,1).toUpperCase()+value.substr(1)}(srcValue,options):(value="camel"==options.inputPresetType?toCamel(srcValue,void 0,options):function(slug,numChars,options){return Downcoder.Initialize(),(slug=(slug=(slug=(slug=(slug=removeStopWords(slug=slug.replace(Downcoder.regex,(function(m){return Downcoder.map[m]})),options)).replace(/[^-\w\s]/g,"")).replace(/^\s+|\s+$/g,"")).replace(/[-\s]+/g,"-")).toLowerCase()).substring(0,numChars)}(srcValue,void 0,options),"url"==options.inputPresetType&&(value="/"+value),value.replace(/\s/gi,"-"))}}}(window.jQuery),function($){"use strict";var InputPreset=function(element,options){var $el=this.$el=$(element);this.options=options||{},this.cancelled=!1;var parent=void 0!==options.inputPresetClosestParent?$el.closest(options.inputPresetClosestParent):void 0,self=this,prefix="";void 0!==options.inputPresetPrefixInput&&(prefix=$(options.inputPresetPrefixInput,parent).val()),void 0===prefix&&(prefix=""),$el.val().length&&$el.val()!=prefix||($el.val(prefix).trigger("oc.inputPreset.afterUpdate"),this.$src=$(options.inputPreset,parent),this.$src.on("input paste",(function(event){if(!self.cancelled){var timeout="paste"===event.type?100:0,updateValue=function(self,el,prefix){!1!==el.data("update")&&el.val(prefix+$.oc.presetEngine.formatValue(options,self.$src.val())).trigger("oc.inputPreset.afterUpdate")},src=$(this);setTimeout((function(){$el.trigger("oc.inputPreset.beforeUpdate",[src]),setTimeout(updateValue,100,self,$el,prefix)}),timeout)}})),this.$el.on("change",(function(){self.cancelled=!0})))};InputPreset.DEFAULTS={inputPreset:"",inputPresetType:"slug",inputPresetClosestParent:void 0,inputPresetPrefixInput:void 0,inputPresetRemoveWords:!0};var old=$.fn.inputPreset;$.fn.inputPreset=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.inputPreset"),options=$.extend({},InputPreset.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.inputPreset",data=new InputPreset(this,options))}))},$.fn.inputPreset.Constructor=InputPreset,$.fn.inputPreset.noConflict=function(){return $.fn.inputPreset=old,this},$(document).render((function(){$("[data-input-preset]").inputPreset()}))}(window.jQuery),function($){"use strict";var TriggerOn=function(element,options){var $el=this.$el=$(element);if(this.options=options||{},!1===this.options.triggerCondition)throw new Error("Trigger condition is not specified.");if(!1===this.options.trigger)throw new Error("Trigger selector is not specified.");if(!1===this.options.triggerAction)throw new Error("Trigger action is not specified.");if(this.triggerCondition=this.options.triggerCondition,0==this.options.triggerCondition.indexOf("value")){var match=this.options.triggerCondition.match(/[^[\]]+(?=])/g);this.triggerCondition="value",this.triggerConditionValue=match||[""]}if(this.triggerParent=void 0,void 0!==this.options.triggerClosestParent)for(var closestParentElements=this.options.triggerClosestParent.split(","),i=0;i<closestParentElements.length;i++){var $triggerElement=$el.closest(closestParentElements[i]);if($triggerElement.length){this.triggerParent=$triggerElement;break}}"checked"!=this.triggerCondition&&"unchecked"!=this.triggerCondition&&"value"!=this.triggerCondition||$(document).on("change",this.options.trigger,$.proxy(this.onConditionChanged,this));var self=this;$el.on("oc.triggerOn.update",(function(e){e.stopPropagation(),self.onConditionChanged()})),self.onConditionChanged()};TriggerOn.prototype.onConditionChanged=function(){if("checked"==this.triggerCondition)this.updateTarget(!!$(this.options.trigger+":checked",this.triggerParent).length);else if("unchecked"==this.triggerCondition)this.updateTarget(!$(this.options.trigger+":checked",this.triggerParent).length);else if("value"==this.triggerCondition){var trigger,triggered=!1;(trigger=$(this.options.trigger,this.triggerParent).not("input[type=checkbox], input[type=radio], input[type=button], input[type=submit]")).length||(trigger=$(this.options.trigger,this.triggerParent).not(":not(input[type=checkbox]:checked, input[type=radio]:checked)"));var self=this;trigger.each((function(){var triggerValue=$(this).val();return $.each($.isArray(triggerValue)?triggerValue:[triggerValue],(function(key,val){return!(triggered=-1!=$.inArray(val,self.triggerConditionValue))})),!triggered})),this.updateTarget(triggered)}},TriggerOn.prototype.updateTarget=function(status){var self=this,actions=this.options.triggerAction.split("|");$.each(actions,(function(index,action){self.updateTargetAction(action,status)})),$(window).trigger("resize"),this.$el.trigger("oc.triggerOn.afterUpdate",status)},TriggerOn.prototype.updateTargetAction=function(action,status){"show"==action?this.$el.toggleClass("oc-hide",!status).trigger("hide.oc.triggerapi",[!status]):"hide"==action?this.$el.toggleClass("oc-hide",status).trigger("hide.oc.triggerapi",[status]):"enable"==action?this.$el.prop("disabled",!status).toggleClass("control-disabled",!status).trigger("disable.oc.triggerapi",[!status]):"disable"==action?this.$el.prop("disabled",status).toggleClass("control-disabled",status).trigger("disable.oc.triggerapi",[status]):"empty"==action&&status&&(this.$el.not("input[type=checkbox], input[type=radio], input[type=button], input[type=submit]").val(""),this.$el.not(":not(input[type=checkbox], input[type=radio])").prop("checked",!1),this.$el.trigger("empty.oc.triggerapi").trigger("change")),"show"!=action&&"hide"!=action||this.fixButtonClasses()},TriggerOn.prototype.fixButtonClasses=function(){this.$el.closest(".btn-group").length>0&&this.$el.is(":last-child")&&this.$el.prev().toggleClass("last",this.$el.hasClass("oc-hide"))},TriggerOn.DEFAULTS={triggerAction:!1,triggerCondition:!1,triggerClosestParent:void 0,trigger:!1};var old=$.fn.triggerOn;$.fn.triggerOn=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.triggerOn"),options=$.extend({},TriggerOn.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.triggerOn",data=new TriggerOn(this,options))}))},$.fn.triggerOn.Constructor=TriggerOn,$.fn.triggerOn.noConflict=function(){return $.fn.triggerOn=old,this},$(document).render((function(){$("[data-trigger]").triggerOn()}))}(window.jQuery),function($){"use strict";var DragValue=function(element,options){this.options=options,this.$el=$(element),this.init()};DragValue.DEFAULTS={dragClick:!1},DragValue.prototype.init=function(){this.$el.prop("draggable",!0),this.textValue=this.$el.data("textValue"),this.$el.on("dragstart",$.proxy(this.handleDragStart,this)),this.$el.on("drop",$.proxy(this.handleDrop,this)),this.$el.on("dragend",$.proxy(this.handleDragEnd,this)),this.options.dragClick&&(this.$el.on("click",$.proxy(this.handleClick,this)),this.$el.on("mouseover",$.proxy(this.handleMouseOver,this)))},DragValue.prototype.handleDragStart=function(event){var e=event.originalEvent;e.dataTransfer.effectAllowed="all",e.dataTransfer.setData("text/plain",this.textValue),this.$el.css({opacity:.5}).addClass("dragvalue-dragging")},DragValue.prototype.handleDrop=function(event){return event.stopPropagation(),!1},DragValue.prototype.handleDragEnd=function(event){this.$el.css({opacity:1}).removeClass("dragvalue-dragging")},DragValue.prototype.handleMouseOver=function(event){var el=document.activeElement;el&&(el.isContentEditable||"input"==el.tagName.toLowerCase()&&"text"==el.type||"textarea"==el.tagName.toLowerCase())&&(this.lastElement=el)},DragValue.prototype.handleClick=function(event){if(this.lastElement){var $el=$(this.lastElement);return $el.hasClass("ace_text-input")?this.handleClickCodeEditor(event,$el):this.lastElement.isContentEditable?this.handleClickContentEditable():void this.insertAtCaret(this.lastElement,this.textValue)}},DragValue.prototype.handleClickCodeEditor=function(event,$el){var $editorArea=$el.closest("[data-control=codeeditor]");$editorArea.length&&$editorArea.codeEditor("getEditorObject").insert(this.textValue)},DragValue.prototype.handleClickContentEditable=function(){var sel,range;window.getSelection?(sel=window.getSelection()).getRangeAt&&sel.rangeCount&&((range=sel.getRangeAt(0)).deleteContents(),range.insertNode(document.createTextNode(this.textValue))):document.selection&&document.selection.createRange&&(document.selection.createRange().text=this.textValue)},DragValue.prototype.insertAtCaret=function(el,insertValue){if(document.selection)el.focus(),document.selection.createRange().text=insertValue,el.focus();else if(el.selectionStart||"0"==el.selectionStart){var startPos=el.selectionStart,endPos=el.selectionEnd,scrollTop=el.scrollTop;el.value=el.value.substring(0,startPos)+insertValue+el.value.substring(endPos,el.value.length),el.focus(),el.selectionStart=startPos+insertValue.length,el.selectionEnd=startPos+insertValue.length,el.scrollTop=scrollTop}else el.value+=insertValue,el.focus()};var old=$.fn.dragValue;$.fn.dragValue=function(option){var result,args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.dragvalue"),options=$.extend({},DragValue.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.dragvalue",data=new DragValue(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||this},$.fn.dragValue.Constructor=DragValue,$.fn.dragValue.noConflict=function(){return $.fn.dragValue=old,this},$(document).render((function(){$('[data-control="dragvalue"]').dragValue()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Sortable=function(element,options){this.$el=$(element),this.options=options||{},this.cursorAdjustment=null,$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.init()};(Sortable.prototype=Object.create(BaseProto)).constructor=Sortable,Sortable.prototype.init=function(){this.$el.one("dispose-control",this.proxy(this.dispose));var self=this,sortableOverrides={},sortableDefaults={onDragStart:this.proxy(this.onDragStart),onDrag:this.proxy(this.onDrag),onDrop:this.proxy(this.onDrop)};this.options.onDragStart&&(sortableOverrides.onDragStart=function($item,container,_super,event){self.options.onDragStart($item,container,sortableDefaults.onDragStart,event)}),this.options.onDrag&&(sortableOverrides.onDrag=function($item,position,_super,event){self.options.onDrag($item,position,sortableDefaults.onDrag,event)}),this.options.onDrop&&(sortableOverrides.onDrop=function($item,container,_super,event){self.options.onDrop($item,container,sortableDefaults.onDrop,event)}),this.$el.jqSortable($.extend({},sortableDefaults,this.options,sortableOverrides))},Sortable.prototype.dispose=function(){this.$el.jqSortable("destroy"),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.sortable"),this.$el=null,this.options=null,this.cursorAdjustment=null,BaseProto.dispose.call(this)},Sortable.prototype.onDragStart=function($item,container,_super,event){var offset=$item.offset(),pointer=container.rootGroup.pointer;this.cursorAdjustment=pointer?{left:pointer.left-offset.left,top:pointer.top-offset.top}:null,this.options.tweakCursorAdjustment&&(this.cursorAdjustment=this.options.tweakCursorAdjustment(this.cursorAdjustment)),$item.css({height:$item.height(),width:$item.width()}),$item.addClass("dragged"),$("body").addClass("dragging"),this.$el.addClass("dragging"),this.options.useAnimation&&$item.data("oc.animated",!0),this.options.usePlaceholderClone&&$(container.rootGroup.placeholder).html($item.html()),this.options.useDraggingClone||$item.hide()},Sortable.prototype.onDrag=function($item,position,_super,event){this.cursorAdjustment?$item.css({left:position.left-this.cursorAdjustment.left,top:position.top-this.cursorAdjustment.top}):$item.css(position)},Sortable.prototype.onDrop=function($item,container,_super,event){$item.removeClass("dragged").removeAttr("style"),$("body").removeClass("dragging"),this.$el.removeClass("dragging"),$item.data("oc.animated")&&$item.hide().slideDown(200)},Sortable.prototype.enable=function(){this.$el.jqSortable("enable")},Sortable.prototype.disable=function(){this.$el.jqSortable("disable")},Sortable.prototype.refresh=function(){this.$el.jqSortable("refresh")},Sortable.prototype.serialize=function(){this.$el.jqSortable("serialize")},Sortable.prototype.destroy=function(){this.dispose()},Sortable.prototype.destroyGroup=function(){var jqSortable=this.$el.data("jqSortable");jqSortable.group&&jqSortable.group._destroy()},Sortable.DEFAULTS={useAnimation:!1,usePlaceholderClone:!1,useDraggingClone:!0,tweakCursorAdjustment:null};var old=$.fn.sortable;$.fn.sortable=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.sortable"),options=$.extend({},Sortable.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.sortable",data=new Sortable(this,options)),"string"==typeof option&&data[option].apply(data,args)}))},$.fn.sortable.Constructor=Sortable,$.fn.sortable.noConflict=function(){return $.fn.sortable=old,this}}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,DragScroll=function(element,options){this.options=$.extend({},DragScroll.DEFAULTS,options),this.touchDragStarted=!1,this.onTouchMove=function(event){if(!self.touchDragStarted)return;moveDrag(event.touches[0]),isNative||event.preventDefault()};var $el=$(element),el=$el.get(0),dragStart=0,startOffset=0,self=this,dragging=!1,eventElementName=this.options.vertical?"pageY":"pageX",isNative=this.options.useNative&&$("html").hasClass("mobile");function startDrag(event){self.paused||(dragStart=event[eventElementName],startOffset=self.options.vertical?$el.scrollTop():$el.scrollLeft(),Modernizr.touchevents&&$(window).on("touchend.dragScroll",(function(event){stopDrag()})),$(window).on("mousemove.dragScroll",(function(event){return moveDrag(event),!1})),$(window).on("mouseup.dragScroll",(function(mouseUpEvent){return stopDrag(event.pageX==mouseUpEvent.pageX&&event.pageY==mouseUpEvent.pageY),!1})))}function moveDrag(event){var current=event[eventElementName],offset=dragStart-current;Math.abs(offset)>3&&(dragging||(dragging=!0,$el.trigger("start.oc.dragScroll"),self.options.start(),$(document.body).addClass(self.options.dragClass)),isNative||(self.options.vertical?$el.scrollTop(startOffset+offset):$el.scrollLeft(startOffset+offset)),self.fixScrollClasses(!0),$el.trigger("drag.oc.dragScroll"),self.options.drag())}function stopDrag(click){$(window).off(".dragScroll"),self.touchDragStarted=!1,dragging=!1,click?$(document.body).removeClass(self.options.dragClass):self.fixScrollClasses(),window.setTimeout((function(){click||($(document.body).removeClass(self.options.dragClass),$el.trigger("stop.oc.dragScroll"),self.options.stop(),self.fixScrollClasses())}),100)}this.el=$el,this.scrollClassContainer=this.options.scrollClassContainer?$(this.options.scrollClassContainer):$el,this.isScrollable=!0,Base.call(this),this.options.scrollMarkerContainer&&$(this.options.scrollMarkerContainer).append($('<span class="before scroll-marker"></span><span class="after scroll-marker"></span>')),(this.options.scrollSelector?$(this.options.scrollSelector,$el):$el).mousewheel((function(event){if(self.options.useScroll&&!self.paused){var offset,offsetX=event.deltaFactor*event.deltaX,offsetY=event.deltaFactor*event.deltaY;offset=!offsetX&&self.options.useComboScroll?-1*offsetY:!offsetY&&self.options.useComboScroll?offsetX:self.options.vertical?-1*offsetY:offsetX,self.options.vertical||(event.preventDefault(),event.stopPropagation());var scrolled=function(offset){if(self.paused)return;startOffset=self.options.vertical?el.scrollTop:el.scrollLeft,self.options.vertical?$el.scrollTop(startOffset+offset):$el.scrollLeft(startOffset+offset);var scrolled=self.options.vertical?el.scrollTop!=startOffset:el.scrollLeft!=startOffset;$el.trigger("drag.oc.dragScroll"),self.options.drag(),scrolled&&(void 0!==self.wheelUpdateTimer&&!1!==self.wheelUpdateTimer&&window.clearInterval(self.wheelUpdateTimer),self.wheelUpdateTimer=window.setTimeout((function(){self.wheelUpdateTimer=!1,self.fixScrollClasses()}),100));return scrolled}(offset);return!scrolled&&self.options.noOverScroll&&(event.preventDefault(),event.stopPropagation()),!scrolled}})),this.options.useDrag&&$el.on("mousedown.dragScroll",this.options.dragSelector,(function(event){if(!self.paused&&(!event.target||"INPUT"!==event.target.tagName)&&self.isScrollable)return startDrag(event),!1})),Modernizr.touchevents&&($el.on("touchstart.dragScroll",this.options.dragSelector,(function(event){if(!self.paused){var touchEvent=event.originalEvent;1==touchEvent.touches.length&&(startDrag(touchEvent.touches[0]),self.touchDragStarted=!0,event.stopPropagation())}})),window.addEventListener("touchmove",self.onTouchMove,{passive:!1})),$el.on("click.dragScroll",(function(){if($(document.body).hasClass(self.options.dragClass))return!1})),this.options.noScrollClasses||($(document).on("ready",this.proxy(this.fixScrollClasses)),$(window).on("resize",this.proxy(this.fixScrollClasses)),this.el.on("scroll",this.proxy(this.fixScrollClasses))),this.fixScrollClasses()};DragScroll.prototype=Object.create(BaseProto),DragScroll.prototype.constructor=DragScroll,DragScroll.DEFAULTS={vertical:!1,useDrag:!0,useScroll:!0,useNative:!1,useComboScroll:!0,scrollClassContainer:!1,scrollMarkerContainer:!1,scrollSelector:null,dragSelector:null,noOverScroll:!1,dragClass:"drag",start:function(){},drag:function(){},stop:function(){}},DragScroll.prototype.fixScrollClasses=function(isThrottle){if(!this.options.noScrollClasses){if(this.fixScrollClassesIntervalId){if(isThrottle)return;window.clearTimeout(this.fixScrollClassesIntervalId),this.fixScrollClassesIntervalId=null}var that=this;this.fixScrollClassesIntervalId=window.setTimeout((function(){that.fixScrollClassesIntervalId=null;var isStart=that.isStart(),isEnd=that.isEnd();that.scrollClassContainer.toggleClass("scroll-before",!isStart),that.scrollClassContainer.toggleClass("scroll-after",!isEnd),that.scrollClassContainer.toggleClass("scroll-active-before",that.isActiveBefore()),that.scrollClassContainer.toggleClass("scroll-active-after",that.isActiveAfter()),that.isScrollable=!isStart||!isEnd}),30)}},DragScroll.prototype.isStart=function(){return this.options.vertical?this.el.scrollTop()<=0:this.el.scrollLeft()<=0},DragScroll.prototype.isEnd=function(){return this.options.vertical?this.el[0].scrollHeight-(this.el.scrollTop()+this.el.outerHeight())-1<=0:this.el[0].scrollWidth-(this.el.scrollLeft()+this.el.outerWidth())-1<=0},DragScroll.prototype.goToStart=function(){return this.options.vertical?this.el.scrollTop(0):this.el.scrollLeft(0)},DragScroll.prototype.isActiveAfter=function(){var activeElement=$(".active",this.el);return 0!=activeElement.length&&(this.options.vertical?activeElement.get(0).offsetTop>this.el.scrollTop()+this.el.height():activeElement.get(0).offsetLeft>this.el.scrollLeft()+this.el.width())},DragScroll.prototype.isActiveBefore=function(){var activeElement=$(".active",this.el);return 0!=activeElement.length&&(this.options.vertical?activeElement.get(0).offsetTop+activeElement.height()<this.el.scrollTop():activeElement.get(0).offsetLeft+activeElement.width()<this.el.scrollLeft())},DragScroll.prototype.goToElement=function(element,callback,options){var $el=$(element);if($el.length){var self=this,params={duration:300,queue:!1,complete:function(){self.fixScrollClasses(),void 0!==callback&&callback()}};params=$.extend(params,options||{});var animated=!1;if(this.options.vertical)if($el.get(0).offsetTop-this.el.scrollTop()<0)this.el.animate({scrollTop:$el.get(0).offsetTop},params),animated=!0;else{var heightOffset=0;params.alignBottom&&(heightOffset=$el.height()),$el.get(0).offsetTop+heightOffset-(this.el.scrollTop()+this.el.height())>0&&(this.el.animate({scrollTop:$el.get(0).offsetTop+$el.height()-this.el.height()+heightOffset},params),animated=!0)}else $el.get(0).offsetLeft-this.el.scrollLeft()<0?(this.el.animate({scrollLeft:$el.get(0).offsetLeft},params),animated=!0):$el.get(0).offsetLeft+$el.width()-(this.el.scrollLeft()+this.el.width())>0&&(this.el.animate({scrollLeft:$el.get(0).offsetLeft+$el.width()-this.el.width()},params),animated=!0);animated||void 0===callback||callback()}},DragScroll.prototype.pause=function(){this.paused=!0},DragScroll.prototype.resume=function(){this.paused=!1},DragScroll.prototype.dispose=function(){this.scrollClassContainer=null,this.options.noScrollClasses||($(document).off("ready",this.proxy(this.fixScrollClasses)),$(window).off("resize",this.proxy(this.fixScrollClasses)),this.el.off("scroll",this.proxy(this.fixScrollClasses))),this.el.off(".dragScroll"),this.el.removeData("oc.dragScroll"),window.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.el=null,BaseProto.dispose.call(this)};var old=$.fn.dragScroll;$.fn.dragScroll=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.dragScroll"),options="object"==typeof option&&option;if(data||$this.data("oc.dragScroll",data=new DragScroll(this,options)),"string"==typeof option){for(var methodArgs=[],i=1;i<args.length;i++)methodArgs.push(args[i]);data[option].apply(data,methodArgs)}}))},$.fn.dragScroll.Constructor=DragScroll,$.fn.dragScroll.noConflict=function(){return $.fn.dragScroll=old,this}}(window.jQuery),function($){"use strict";var RowLink=function(element,options){this.options=options,this.$el=$(element),("TR"==this.$el.prop("tagName")?this.$el:this.$el.find("tr:has(td)")).each((function(){var link=$(this).find(options.target).filter((function(){return!$(this).closest("td").hasClass(options.excludeClass)&&!$(this).hasClass(options.excludeClass)})).first();if(link.length){var href=link.attr("href"),onclick="function"==typeof link.get(0).onclick?link.get(0).onclick:null,popup=link.is("[data-control=popup]"),request=link.is("[data-request]"),skipNextBubble=!1,$row=$(this).not("."+options.excludeClass);$row.on("click","td:not(."+options.excludeClass+") > ."+options.excludeClass,(function(e){skipNextBubble=!0})),$row.on("click","td:not(."+options.excludeClass+")",(function(e){handleClick(e)})),$row.on("mousedown","td:not(."+options.excludeClass+")",(function(e){2==e.which&&window.open(href)})),$row.on("keypress",(function(e){if("(Space character)"===e.key||"Spacebar"===e.key||" "===e.key)return handleClick(e),!1})),$(this).addClass(options.linkedClass),link.hide().after(link.contents())}function handleClick(e){skipNextBubble?skipNextBubble=!1:$(document.body).hasClass("drag")||(onclick?onclick.apply(link.get(0)):request?link.request():popup?link.popup():e.ctrlKey||e.metaKey?window.open(href):window.location=href)}})),$("tr.rowlink").attr("tabindex",0)};RowLink.DEFAULTS={target:"a",excludeClass:"nolink",linkedClass:"rowlink"};var old=$.fn.rowLink;$.fn.rowLink=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.rowlink"),options=$.extend({},RowLink.DEFAULTS,$this.data(),"object"==typeof option&&option);data?"string"==typeof option&&data[option].apply(data,args):$this.data("oc.rowlink",data=new RowLink(this,options))}))},$.fn.rowLink.Constructor=RowLink,$.fn.rowLink.noConflict=function(){return $.fn.rowLink=old,this},$(document).render((function(){$('[data-control="rowlink"]').rowLink()}))}(window.jQuery),function($){"use strict";var Autocomplete=function(element,options){this.$element=$(element),this.options=$.extend({},$.fn.autocomplete.defaults,options),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=$(this.options.menu),this.shown=!1,this.listen()};Autocomplete.prototype={constructor:Autocomplete,select:function(){var val=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(val)).change(),this.hide()},updater:function(item){return item},show:function(){var offset=this.options.bodyContainer?this.$element.offset():this.$element.position(),pos=$.extend({},offset,{height:this.$element[0].offsetHeight}),cssOptions={top:pos.top+pos.height,left:pos.left};return this.options.matchWidth&&(cssOptions.width=this.$element[0].offsetWidth),this.$menu.css(cssOptions),this.options.bodyContainer?$(document.body).append(this.$menu):this.$menu.insertAfter(this.$element),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(event){var items;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(items=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source)?this.process(items):this},itemValue:function(item){return"object"==typeof item?item.value:item},itemLabel:function(item){return"object"==typeof item?item.label:item},itemsToArray:function(items){var newArray=[];return $.each(items,(function(value,label){newArray.push({label:label,value:value})})),newArray},process:function(items){var that=this;return"object"==typeof items&&(items=this.itemsToArray(items)),items=$.grep(items,(function(item){return that.matcher(item)})),(items=this.sorter(items)).length?this.render(items.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(item){return~this.itemValue(item).toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(items){for(var item,itemValue,beginswith=[],caseSensitive=[],caseInsensitive=[];item=items.shift();)(itemValue=this.itemValue(item)).toLowerCase().indexOf(this.query.toLowerCase())?~itemValue.indexOf(this.query)?caseSensitive.push(item):caseInsensitive.push(item):beginswith.push(item);return beginswith.concat(caseSensitive,caseInsensitive)},highlighter:function(item){var query=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return item.replace(new RegExp("("+query+")","ig"),(function($1,match){return"<strong>"+match+"</strong>"}))},render:function(items){var that=this;return(items=$(items).map((function(i,item){return(i=$(that.options.item).attr("data-value",that.itemValue(item))).find("a").html(that.highlighter(that.itemLabel(item))),i[0]}))).first().addClass("active"),this.$menu.html(items),this},next:function(event){var next=this.$menu.find(".active").removeClass("active").next();next.length||(next=$(this.$menu.find("li")[0])),next.addClass("active")},prev:function(event){var prev=this.$menu.find(".active").removeClass("active").prev();prev.length||(prev=this.$menu.find("li").last()),prev.addClass("active")},listen:function(){this.$element.on("focus.autocomplete",$.proxy(this.focus,this)).on("blur.autocomplete",$.proxy(this.blur,this)).on("keypress.autocomplete",$.proxy(this.keypress,this)).on("keyup.autocomplete",$.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown.autocomplete",$.proxy(this.keydown,this)),this.$menu.on("click.autocomplete",$.proxy(this.click,this)).on("mouseenter.autocomplete","li",$.proxy(this.mouseenter,this)).on("mouseleave.autocomplete","li",$.proxy(this.mouseleave,this))},eventSupported:function(eventName){var isSupported=eventName in this.$element;return isSupported||(this.$element.setAttribute(eventName,"return;"),isSupported="function"==typeof this.$element[eventName]),isSupported},move:function(e){if(this.shown){switch(e.key){case"Tab":case"Enter":case"Escape":e.preventDefault();break;case"ArrowUp":e.preventDefault(),this.prev();break;case"ArrowDown":e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~$.inArray(e.key,["ArrowDown","ArrowUp","Tab","Enter","Escape"]),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),$(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()},destroy:function(){this.hide(),this.$element.removeData("autocomplete"),this.$menu.remove(),this.$element.off(".autocomplete"),this.$menu.off(".autocomplete"),this.$element=null,this.$menu=null}};var old=$.fn.autocomplete;$.fn.autocomplete=function(option){return this.each((function(){var $this=$(this),data=$this.data("autocomplete"),options="object"==typeof option&&option;data||$this.data("autocomplete",data=new Autocomplete(this,options)),"string"==typeof option&&data[option]()}))},$.fn.autocomplete.defaults={source:[],items:8,menu:'<ul class="autocomplete dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1,bodyContainer:!1},$.fn.autocomplete.Constructor=Autocomplete,$.fn.autocomplete.noConflict=function(){return $.fn.autocomplete=old,this},$(document).on("focus.autocomplete.data-api",'[data-control="autocomplete"]',(function(e){var $this=$(this);if(!$this.data("autocomplete")){var opts=$this.data();opts.source&&(opts.source=function(name,value){if(void 0===value&&(value=""),"object"==typeof value)return value;try{return ocJSON("{"+value+"}")}catch(e){throw new Error("Error parsing the "+name+" attribute value. "+e)}}("data-source",opts.source)),$this.autocomplete(opts)}}))}(window.jQuery),function($){"use strict";var BalloonSelector=function(element,options){this.$el=$(element),this.$field=$("input",this.$el),this.options=options||{};var self=this;$("li",this.$el).click((function(){self.$el.hasClass("control-disabled")||($("li",self.$el).removeClass("active"),$(this).addClass("active"),self.$field.val($(this).data("value")).trigger("change"))}))};BalloonSelector.DEFAULTS={};var old=$.fn.balloonSelector;$.fn.balloonSelector=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.balloon-selector"),options=$.extend({},BalloonSelector.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.balloon-selector",data=new BalloonSelector(this,options))}))},$.fn.balloonSelector.Constructor=BalloonSelector,$.fn.balloonSelector.noConflict=function(){return $.fn.balloonSelector=old,this},$(document).on("render",(function(){$("div[data-control=balloon-selector]").balloonSelector()}))}(window.jQuery),function($){"use strict";var dismiss='[data-dismiss="callout"]',Callout=function(el){$(el).on("click",dismiss,this.close)};Callout.prototype.close=function(e){var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"));var $parent=$(selector);function removeElement(){$parent.trigger("closed.oc.callout").remove()}e&&e.preventDefault(),$parent.length||($parent=$this.hasClass("callout")?$this:$this.parent()),$parent.trigger(e=$.Event("close.oc.callout")),e.isDefaultPrevented()||($parent.removeClass("show"),$parent.hasClass("fade")?$parent.one("transitionend",removeElement):removeElement())};var old=$.fn.callout;$.fn.callout=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.callout");data||$this.data("oc.callout",data=new Callout(this)),"string"==typeof option&&data[option].call($this)}))},$.fn.callout.Constructor=Callout,$.fn.callout.noConflict=function(){return $.fn.callout=old,this},$(document).on("click.oc.callout.data-api",dismiss,Callout.prototype.close)}(jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,ContextMenu=function(element,options){this.$el=$(element),$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.$menu=$("<menu />").addClass("control-contextmenu"),$(document.body).append(this.$menu),options.show&&this.openContextMenu(options.pageX,options.pageY,options.items)};(ContextMenu.prototype=Object.create(BaseProto)).constructor=ContextMenu,ContextMenu.DEFAULTS={show:!1,pageX:0,pageY:0,items:[]},ContextMenu.prototype.openMenu=function(options){var self=this;const time=this.isOpen()?100:0;this.hide(),setTimeout((function(){options.items&&self.buildOptions(options.items),self.show(options.pageX,options.pageY)}),time),$(document).on("click",$.proxy(this.hideContextMenu,this))},ContextMenu.prototype.closeMenu=function(){$(document).off("click",$.proxy(this.hideContextMenu,this)),this.hide()},ContextMenu.prototype.buildOptions=function(options){var self=this;this.$menu.empty(),$.each(options,(function(i,option){self.buildOption(option)}))},ContextMenu.prototype.buildOption=function(option){var item,li=$("<li />").addClass("contextmenu-item");if(option.action){var span=$("<span />").addClass("contextmenu-text").html(option.name);(item=$("<button />").addClass("contextmenu-btn")).append(span),li.on("click",option.action),li.append(item)}else item=$("<span />").addClass("contextmenu-title").html(option.name),li.append(item);if(option.icon){var i=$("<i />").addClass("contextmenu-icon").addClass("icon-"+option.icon);item.prepend(i)}if(option.label){var lbl=$("<span />").addClass("contextmenu-label").html(option.label);item.append(lbl)}this.$menu.append(li)},ContextMenu.prototype.show=function(x,y){const w=window.innerWidth,h=window.innerHeight,mw=this.$menu.get(0).offsetWidth,mh=this.$menu.get(0).offsetHeight;x+mw>w&&(x-=mw),y+mh>h&&(y-=mh),this.$menu.css("left",x+"px"),this.$menu.css("top",y+"px"),this.$menu.addClass("is-visible")},ContextMenu.prototype.hide=function(){this.$menu.removeClass("is-visible")},ContextMenu.prototype.isOpen=function(){return this.$menu.hasClass("is-visible")},ContextMenu.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.contextmenu"),this.$menu=null,this.$el=null,this.options=null,BaseProto.dispose.call(this)};var old=$.fn.contextMenu;$.fn.contextMenu=function(option){var result,args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.contextmenu"),options=$.extend({},ContextMenu.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.contextmenu",data=new ContextMenu(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||this},$.fn.contextMenu.Constructor=ContextMenu,$.fn.contextMenu.noConflict=function(){return $.fn.contextMenu=old,this}}(jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,DatePicker=function(element,options){this.$el=$(element),this.options=options||{},$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.init()};(DatePicker.prototype=Object.create(BaseProto)).constructor=DatePicker,DatePicker.prototype.init=function(){var self=this,changeMonitor=this.$el.closest("form").data("oc.changeMonitor");void 0!==changeMonitor&&changeMonitor.pause(),this.dbDateTimeFormat="YYYY-MM-DD HH:mm:ss",this.dbDateFormat="YYYY-MM-DD",this.dbTimeFormat="HH:mm:ss",this.$dataLocker=$("[data-datetime-value]",this.$el),this.$datePicker=$("[data-datepicker]",this.$el),this.$timePicker=$("[data-timepicker]",this.$el),this.hasDate=!!this.$datePicker.length,this.hasTime=!!this.$timePicker.length,this.ignoreTimezone=!!this.$el.get(0).hasAttribute("data-ignore-timezone"),this.defaultTimeMidnight=!!this.$el.get(0).hasAttribute("data-default-time-midnight"),this.initRegion(),this.hasDate&&this.initDatePicker(),this.hasTime&&this.initTimePicker(),void 0!==changeMonitor&&changeMonitor.resume(),this.$timePicker.on("change.oc.datepicker",(function(){$.trim($(this).val())?self.onSelectTimePicker():self.emptyValues()})),this.$datePicker.on("change.oc.datepicker",(function(){$.trim($(this).val())||self.emptyValues()})),this.$el.one("dispose-control",this.proxy(this.dispose))},DatePicker.prototype.dispose=function(){this.$timePicker.off("change.oc.datepicker"),this.$datePicker.off("change.oc.datepicker"),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.datePicker"),this.$el=null,this.options=null,BaseProto.dispose.call(this)},DatePicker.prototype.initDatePicker=function(){var self=this,dateFormat=this.getDateFormat(),now=moment().tz(this.timezone).format(dateFormat),pikadayOptions={yearRange:this.options.yearRange,firstDay:this.options.firstDay,showWeekNumber:this.options.showWeekNumber,format:dateFormat,setDefaultDate:now,onOpen:function(){var $field=$(this._o.trigger);$(this.el).css({left:"auto",right:$(window).width()-$field.offset().left-$field.outerWidth()})},onSelect:function(){self.onSelectDatePicker.call(self,this.getMoment())}},lang=this.getLang("datepicker",!1);lang&&(pikadayOptions.i18n=lang),this.$datePicker.val(this.getDataLockerValue(dateFormat)),this.options.minDate&&(pikadayOptions.minDate=new Date(this.options.minDate)),this.options.maxDate&&(pikadayOptions.maxDate=new Date(this.options.maxDate)),this.$datePicker.pikaday(pikadayOptions)},DatePicker.prototype.onSelectDatePicker=function(pickerMoment){var pickerValue=pickerMoment.format(this.dbDateFormat),timeValue=this.getTimePickerValue(),lockerValue=moment.tz(pickerValue+" "+timeValue,this.dbDateTimeFormat,this.timezone).tz(this.appTimezone).format(this.dbDateTimeFormat);this.$dataLocker.val(lockerValue)},DatePicker.prototype.getDatePickerValue=function(){var value=this.$datePicker.val();return this.hasDate&&value?moment(value,this.getDateFormat()).format(this.dbDateFormat):moment.tz(this.appTimezone).tz(this.timezone).format(this.dbDateFormat)},DatePicker.prototype.getDateFormat=function(){var format="YYYY-MM-DD";return this.options.format?format=this.options.format:this.locale&&(format=moment().locale(this.locale).localeData().longDateFormat("l")),format},DatePicker.prototype.initTimePicker=function(){this.$timePicker.clockpicker({autoclose:"true",placement:"auto",align:"right",twelvehour:this.isTimeTwelveHour(),afterDone:this.proxy(this.onChangeTimePicker)}),this.$timePicker.val(this.getDataLockerValue(this.getTimeFormat()))},DatePicker.prototype.onSelectTimePicker=function(){var pickerValue=this.$timePicker.val(),timeValue=moment(pickerValue,this.getTimeFormat()).format(this.dbTimeFormat),dateValue=this.getDatePickerValue(),lockerValue=moment.tz(dateValue+" "+timeValue,this.dbDateTimeFormat,this.timezone).tz(this.appTimezone).format(this.dbDateTimeFormat);this.$dataLocker.val(lockerValue)},DatePicker.prototype.onChangeTimePicker=function(){this.$timePicker.trigger("change")},DatePicker.prototype.getTimePickerValue=function(){var value=this.$timePicker.val();return this.hasTime&&value?moment(value,this.getTimeFormat()).format(this.dbTimeFormat):this.defaultTimeMidnight?"00:00:00":moment.tz(this.appTimezone).tz(this.timezone).format(this.dbTimeFormat)},DatePicker.prototype.getTimeFormat=function(){return this.isTimeTwelveHour()?"hh:mm A":"HH:mm"},DatePicker.prototype.isTimeTwelveHour=function(){return!1},DatePicker.prototype.emptyValues=function(){this.$dataLocker.val(""),this.$datePicker.val(""),this.$timePicker.val("")},DatePicker.prototype.getDataLockerValue=function(format){var value=this.$dataLocker.val();return value?this.getMomentLoadValue(value,format):null},DatePicker.prototype.getMomentLoadValue=function(value,format){var momentObj=moment.tz(value,this.appTimezone);return this.locale&&(momentObj=momentObj.locale(this.locale)),(momentObj=momentObj.tz(this.timezone)).format(format)},DatePicker.prototype.initRegion=function(){this.locale=$('meta[name="backend-locale"]').attr("content"),this.timezone=$('meta[name="backend-timezone"]').attr("content"),this.appTimezone=$('meta[name="app-timezone"]').attr("content"),this.appTimezone||(this.appTimezone="UTC"),this.timezone||(this.timezone="UTC"),this.ignoreTimezone&&(this.appTimezone="UTC",this.timezone="UTC")},DatePicker.prototype.getLang=function(name,defaultValue){return void 0===$.oc||void 0===$.oc.lang?defaultValue:$.oc.lang.get(name,defaultValue)},DatePicker.DEFAULTS={minDate:null,maxDate:null,format:null,yearRange:10,firstDay:0,showWeekNumber:!1};var old=$.fn.datePicker;$.fn.datePicker=function(option){var items,result,args=Array.prototype.slice.call(arguments,1);return items=this.each((function(){var $this=$(this),data=$this.data("oc.datePicker"),options=$.extend({},DatePicker.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.datePicker",data=new DatePicker(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||items},$.fn.datePicker.Constructor=DatePicker,$.fn.datePicker.noConflict=function(){return $.fn.datePicker=old,this},$(document).on("render",(function(){$('[data-control="datepicker"]').datePicker()}))}(window.jQuery),function($){"use strict";var $dropdown,$container,$target;function fixDropdownPosition(){var position=$container.offset();$dropdown.css({position:"fixed",top:position.top-1-$(window).scrollTop()+$target.outerHeight(),left:position.left})}$(document).on("shown.bs.dropdown",".dropdown",(function(ev){$(document.body).addClass("dropdown-open");var dropdown=$(ev.relatedTarget).siblings(".dropdown-menu"),dropdownContainer=$(this).data("dropdown-container");if(0===dropdown.length&&(dropdown=$(".dropdown-menu",this)),dropdown.hasClass("control-dropdown")||($("li > a",dropdown).addClass("dropdown-item"),$("li:first-child",dropdown).addClass("first-item"),$("li:last-child",dropdown).addClass("last-item"),dropdown.addClass("control-dropdown")),void 0!==dropdownContainer&&"body"==dropdownContainer){$(this).data("oc.dropdown",dropdown),$(document.body).append(dropdown),dropdown.css({visibility:"hidden",left:0,top:0,display:"block"});var targetOffset=$(this).offset(),targetHeight=$(this).height(),targetWidth=$(this).width(),position={x:targetOffset.left,y:targetOffset.top+targetHeight},leftOffset=targetWidth<30?-16:0,dropdownHeight=($(document).height(),dropdown.height());dropdownHeight+position.y>$(document).height()?(position.y=targetOffset.top-dropdownHeight-12,dropdown.addClass("top")):dropdown.removeClass("top"),dropdown.css({left:position.x+leftOffset,top:position.y,visibility:"visible"})}0==$(".dropdown-overlay",document.body).length&&$(document.body).prepend($("<div/>").addClass("dropdown-overlay"))})),$(document).on("hidden.bs.dropdown",".dropdown",(function(){var dropdown=$(this).data("oc.dropdown");void 0!==dropdown&&(dropdown.css("display","none"),$(this).append(dropdown)),$(document.body).removeClass("dropdown-open")})),$(document).on("shown.bs.dropdown",".dropdown.dropdown-fixed",(function(ev){$container=$(this),$dropdown=$(".dropdown-menu",$container),$target=$(ev.relatedTarget),fixDropdownPosition(),$dropdown.addClass("is-fixed"),$(window).on("scroll.oc.dropdown, resize.oc.dropdown",fixDropdownPosition)})),$(document).on("hidden.bs.dropdown",".dropdown.dropdown-fixed",(function(){$(window).off("scroll.oc.dropdown, resize.oc.dropdown",fixDropdownPosition)}))}(window.jQuery),jQuery((function(){var isOuterPage=$(document.body).hasClass("message-outer-layout")||!$.oc.vueComponentHelpers,FlashMessage=function(options,el){options=$.extend({},FlashMessage.DEFAULTS,options);var $element=$(el);$("[data-control=flash-message]").remove();var isValidationError=options.validationError,text=$element.text(),className=$element.attr("class"),isError=className&&-1!==className.indexOf("error"),timeout=options.interval?1e3*options.interval:5e3;if(!isError||isValidationError||isOuterPage){0==$element.length&&($element=$("<p />").addClass(options.class).html(options.text)),$element.addClass("flash-message fade"),$element.attr("data-control",null),$element.append('<button type="button" class="close" aria-hidden="true">&times;</button>'),$element.on("click","button",remove),$element.on("click",remove),$(document.body).append($element),setTimeout((function(){$element.addClass("show")}),100);var timer=window.setTimeout(remove,timeout)}else $.oc.alert(text);function removeElement(){$element.remove()}function remove(){window.clearInterval(timer),$element.removeClass("show"),$element.hasClass("fade")?$element.one("transitionend",removeElement):removeElement()}};function triggerFlash(){$("[data-control=flash-message]").each((function(){$.oc.flashMsg($(this).data(),this)}))}if(FlashMessage.DEFAULTS={class:"success",text:"Default text",interval:5},void 0===$.oc&&($.oc={}),$.oc.flashMsg=FlashMessage,$(document).render(triggerFlash),isOuterPage)triggerFlash();else var intervalId=setInterval((function(){$.oc.vueComponentHelpers.modalUtils&&(clearInterval(intervalId),triggerFlash())}),25)})),function($){"use strict";var Popover=function(element,options){this.$el=$(element),this.options=options||{},this.arrowSize=15,this.docClickHandler=null,this.show()};Popover.prototype.hide=function(){var e=$.Event("hiding.oc.popover",{relatedTarget:this.$el});this.$el.trigger(e,this),e.isDefaultPrevented()||(this.$container.removeClass("show"),this.options.modal&&this.$overlay.removeClass("show"),this.disposeControls(),this.$container.hasClass("fade")?this.$container.one("transitionend",$.proxy(this.hidePopover,this)):this.hidePopover())},Popover.prototype.disposeControls=function(){this.$container&&$.oc.foundation.controlUtils.disposeControls(this.$container.get(0))},Popover.prototype.hidePopover=function(){this.$container.remove(),this.$overlay&&this.$overlay.remove(),this.$el.removeClass("popover-highlight"),this.$el.trigger("hide.oc.popover"),this.$overlay=!1,this.$container=!1,this.$el.data("oc.popover",null),$(document.body).removeClass("popover-open"),$(document).unbind("mousedown",this.docClickHandler),$(document).off(".oc.popover"),this.docClickHandler=null,this.options.onCheckDocumentClickTarget=null},Popover.prototype.show=function(options){var self=this,e=$.Event("showing.oc.popover",{relatedTarget:this.$el});if(this.$el.trigger(e,this),!e.isDefaultPrevented()){this.$container=$("<div />").addClass("control-popover"),this.options.containerClass&&this.$container.addClass(this.options.containerClass),this.options.useAnimation&&this.$container.addClass("fade");var $content=$("<div />").html(this.getContent());this.$container.append($content),this.options.width&&this.$container.width(this.options.width),this.$overlay=$("<div />").addClass("popover-overlay"),$(document.body).append(this.$overlay),this.options.highlightModalTarget&&(this.$el.addClass("popover-highlight"),this.$el.blur()),this.options.container?$(this.options.container).append(this.$container):$(document.body).append(this.$container),this.reposition(),$(window).on("resize",(function(){self.$container&&self.reposition()})),this.$container.addClass("show"),this.options.modal&&this.$overlay.addClass("show"),$(document.body).addClass("popover-open");var showEvent=jQuery.Event("show.oc.popover",{relatedTarget:this.$container.get(0)});this.$el.trigger(showEvent),this.$container.on("close.oc.popover",(function(e){self.hide()})),this.$container.on("click","[data-dismiss=popover]",(function(e){return self.hide(),!1})),this.docClickHandler=$.proxy(this.onDocumentClick,this),$(document).bind("mousedown",this.docClickHandler),this.options.closeOnEsc&&$(document).on("keyup.oc.popover",(function(e){return!$(e.target).hasClass("select2-offscreen")&&(!!self.options.closeOnEsc&&("Escape"===e.key?(self.hide(),!1):void 0))}))}},Popover.prototype.reposition=function(){var placement=this.calcPlacement(),position=this.calcPosition(placement);this.$container.removeClass("placement-center placement-bottom placement-top placement-left placement-right"),this.$container.css({left:position.x,top:position.y}).addClass("placement-"+placement)},Popover.prototype.getContainer=function(){return this.$container.get(0)},Popover.prototype.getContent=function(){return this.options.contentFrom?$(this.options.contentFrom).html():"function"==typeof this.options.content?this.options.content.call(this.$el[0],this):this.options.content},Popover.prototype.calcDimensions=function(){var documentWidth=$(document).width(),documentHeight=$(document).height(),targetOffset=this.$el.offset(),targetWidth=this.$el.outerWidth(),targetHeight=this.$el.outerHeight();return{containerWidth:this.$container.outerWidth()+this.arrowSize,containerHeight:this.$container.outerHeight()+this.arrowSize,targetOffset:targetOffset,targetHeight:targetHeight,targetWidth:targetWidth,spaceLeft:targetOffset.left,spaceRight:documentWidth-(targetWidth+targetOffset.left),spaceTop:targetOffset.top,spaceBottom:documentHeight-(targetHeight+targetOffset.top),spaceHorizontalBottom:documentHeight-targetOffset.top,spaceVerticalRight:documentWidth-targetOffset.left,documentWidth:documentWidth}},Popover.prototype.fitsLeft=function(dimensions){return dimensions.spaceLeft>=dimensions.containerWidth&&dimensions.spaceHorizontalBottom>=dimensions.containerHeight},Popover.prototype.fitsRight=function(dimensions){return dimensions.spaceRight>=dimensions.containerWidth&&dimensions.spaceHorizontalBottom>=dimensions.containerHeight},Popover.prototype.fitsBottom=function(dimensions){return dimensions.spaceBottom>=dimensions.containerHeight&&dimensions.spaceVerticalRight>=dimensions.containerWidth},Popover.prototype.fitsTop=function(dimensions){return dimensions.spaceTop>=dimensions.containerHeight&&dimensions.spaceVerticalRight>=dimensions.containerWidth},Popover.prototype.calcPlacement=function(){var placement=this.options.placement,dimensions=this.calcDimensions();if("center"==placement)return placement;"bottom"!=placement&&"top"!=placement&&"left"!=placement&&"right"!=placement&&(placement="bottom");var placementFunctions={top:this.fitsTop,bottom:this.fitsBottom,left:this.fitsLeft,right:this.fitsRight};if(placementFunctions[placement](dimensions))return placement;for(var index in placementFunctions)if(placementFunctions[index](dimensions))return index;return this.options.fallbackPlacement},Popover.prototype.calcPosition=function(placement){var result,dimensions=this.calcDimensions();switch(placement){case"left":var realOffset=void 0===this.options.offsetY?this.options.offset:this.options.offsetY;result={x:dimensions.targetOffset.left-dimensions.containerWidth,y:dimensions.targetOffset.top+realOffset};break;case"top":realOffset=void 0===this.options.offsetX?this.options.offset:this.options.offsetX;result={x:dimensions.targetOffset.left+realOffset,y:dimensions.targetOffset.top-dimensions.containerHeight};break;case"bottom":realOffset=void 0===this.options.offsetX?this.options.offset:this.options.offsetX;result={x:dimensions.targetOffset.left+realOffset,y:dimensions.targetOffset.top+dimensions.targetHeight+this.arrowSize};break;case"right":realOffset=void 0===this.options.offsetY?this.options.offset:this.options.offsetY;result={x:dimensions.targetOffset.left+dimensions.targetWidth+this.arrowSize,y:dimensions.targetOffset.top+realOffset};break;case"center":var windowHeight=$(window).height();(result={x:dimensions.documentWidth/2-dimensions.containerWidth/2,y:windowHeight/2-dimensions.containerHeight/2}).y<40&&(result.y=40)}if(!this.options.container)return result;var containerOffset=$(this.options.container).offset();return result.x-=containerOffset.left,result.y-=containerOffset.top,result},Popover.prototype.onDocumentClick=function(e){this.options.closeOnPageClick&&(this.options.onCheckDocumentClickTarget&&this.options.onCheckDocumentClickTarget(e.target)||$.contains(this.$container.get(0),e.target)||this.hide())},Popover.DEFAULTS={placement:"bottom",fallbackPlacement:"bottom",content:"<p>Popover content<p>",contentFrom:null,width:!1,modal:!1,highlightModalTarget:!1,closeOnPageClick:!0,closeOnEsc:!0,container:!1,containerClass:null,offset:15,useAnimation:!1,onCheckDocumentClickTarget:null};var old=$.fn.ocPopover;$.fn.ocPopover=function(option){var result,args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.popover"),options=$.extend({},Popover.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.popover",data=new Popover(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||this},$.fn.ocPopover.Constructor=Popover,$.fn.ocPopover.noConflict=function(){return $.fn.ocPopover=old,this},$(document).on("click","[data-control=popover]",(function(e){return $(this).ocPopover(),!1}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Popup=function(element,options){this.options=options,this.$el=$(element),this.$container=null,this.$modal=null,this.$backdrop=null,this.isOpen=!1,this.isLoading=!1,this.firstDiv=null,this.allowHide=!0,this.$container=this.createPopupContainer(),this.$content=$(".modal-content:first",this.$container),this.$dialog=$(".modal-dialog:first",this.$container),this.$modal=this.$container.modal({show:!1,backdrop:!1,keyboard:this.options.keyboard,focus:!1}),$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.initEvents(),this.init()};(Popup.prototype=Object.create(BaseProto)).constructor=Popup,Popup.DEFAULTS={ajax:null,handler:null,keyboard:!0,extraData:{},content:null,size:null,adaptiveHeight:!1,zIndex:null},Popup.prototype.init=function(){var self=this;if(!self.isOpen)if(this.setBackdrop(!0),this.options.content||this.setLoading(!0),this.options.handler)this.$el.request(this.options.handler,{data:paramToObj("data-extra-data",this.options.extraData),afterUpdate:function(data,textStatus,jqXHR){self.setContent(data.result),$(window).trigger("ajaxUpdateComplete",[this,data,textStatus,jqXHR]),self.triggerEvent("popupComplete"),self.triggerEvent("complete.oc.popup")},error:function(jqXHR,textStatus,errorThrown){this.error(jqXHR,textStatus,errorThrown).done((function(){self.isLoading?self.hideLoading():self.hide(),self.triggerEvent("popupError"),self.triggerEvent("error.oc.popup")}))}});else if(this.options.ajax)$.ajax({url:this.options.ajax,data:paramToObj("data-extra-data",this.options.extraData),success:function(data){self.setContent(data)},cache:!1});else if(this.options.content){var content="function"==typeof this.options.content?this.options.content.call(this.$el[0],this):this.options.content;this.setContent(content)}},Popup.prototype.initEvents=function(){var self=this;this.$container.data("oc.popup",this),this.$modal.on("hide.bs.modal",(function(){self.triggerEvent("hide.oc.popup"),self.isOpen=!1,self.setBackdrop(!1)})),this.$modal.on("hidden.bs.modal",(function(){self.triggerEvent("hidden.oc.popup"),$.oc.foundation.controlUtils.disposeControls(self.$container.get(0)),self.$container.remove(),$(document.body).removeClass("modal-open"),self.dispose()})),this.$modal.on("show.bs.modal",(function(){self.isOpen=!0,self.setBackdrop(!0),$(document.body).addClass("modal-open")})),this.$modal.on("shown.bs.modal",(function(){self.triggerEvent("shown.oc.popup")})),this.$modal.on("close.oc.popup",(function(){return self.hide(),!1}))},Popup.prototype.dispose=function(){this.$modal.off("hide.bs.modal"),this.$modal.off("hidden.bs.modal"),this.$modal.off("show.bs.modal"),this.$modal.off("shown.bs.modal"),this.$modal.off("close.oc.popup"),this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.popup"),this.$container.removeData("oc.popup"),this.$container=null,this.$content=null,this.$dialog=null,this.$modal=null,this.$el=null,this.options=null,BaseProto.dispose.call(this)},Popup.prototype.createPopupContainer=function(){var modal=$("<div />").prop({class:"control-popup modal fade",role:"dialog",tabindex:-1}),modalDialog=$("<div />").addClass("modal-dialog"),modalContent=$("<div />").addClass("modal-content");return this.options.size&&modalDialog.addClass("size-"+this.options.size),this.options.adaptiveHeight&&modalDialog.addClass("adaptive-height"),null!==this.options.zIndex&&modal.css("z-index",this.options.zIndex+20),modal.append(modalDialog.append(modalContent))},Popup.prototype.setContent=function(contents){this.setLoading(!1),this.$modal.modal("show"),this.$content.html(contents),this.triggerShowEvent(),this.firstDiv=this.$content.find(">div:first"),this.firstDiv.length>0&&this.firstDiv.data("oc.popup",this);var $defaultFocus=$("[default-focus]",this.$content);$defaultFocus.is(":visible")&&window.setTimeout((function(){$defaultFocus.focus(),$defaultFocus=null}),300)},Popup.prototype.setBackdrop=function(val){val&&!this.$backdrop?(this.$backdrop=$('<div class="popup-backdrop fade" />'),null!==this.options.zIndex&&this.$backdrop.css("z-index",this.options.zIndex),this.$backdrop.appendTo(document.body),this.$backdrop.addClass("show"),this.$backdrop.append($('<div class="modal-content popup-loading-indicator" />'))):!val&&this.$backdrop&&(this.$backdrop.remove(),this.$backdrop=null)},Popup.prototype.setLoading=function(val){if(this.$backdrop){this.isLoading=val;var self=this;val?setTimeout((function(){self.$backdrop.addClass("loading")}),100):setTimeout((function(){self.$backdrop.removeClass("loading")}),100)}},Popup.prototype.setShake=function(){var self=this;this.$content.addClass("popup-shaking"),setTimeout((function(){self.$content.removeClass("popup-shaking")}),1e3)},Popup.prototype.hideLoading=function(val){this.setLoading(!1);var self=this;setTimeout((function(){self.setBackdrop(!1)}),250),setTimeout((function(){self.hide()}),500)},Popup.prototype.triggerEvent=function(eventName,params){params||(params=[this.$el,this.$modal]);var eventObject=jQuery.Event(eventName,{relatedTarget:this.$container.get(0)});this.$el.trigger(eventObject,params),this.firstDiv&&this.firstDiv.trigger(eventObject,params)},Popup.prototype.reload=function(){this.init()},Popup.prototype.show=function(){this.$modal.modal("show"),this.triggerShowEvent()},Popup.prototype.triggerShowEvent=function(){this.$modal.on("click.dismiss.popup",'[data-dismiss="popup"]',$.proxy(this.hide,this)),this.triggerEvent("popupShow"),this.triggerEvent("show.oc.popup"),this.$dialog.css("transform","inherit")},Popup.prototype.hide=function(){this.isOpen&&(this.triggerEvent("popupHide"),this.triggerEvent("hide.oc.popup"),this.allowHide&&this.$modal.modal("hide"),this.$dialog.css("transform",""))},Popup.prototype.visible=function(val){val?this.$modal.addClass("show"):this.$modal.removeClass("show"),this.setBackdrop(val)},Popup.prototype.toggle=function(){this.triggerEvent("toggle.oc.popup",[this.$modal]),this.$modal.modal("toggle")},Popup.prototype.lock=function(val){this.allowHide=!val};var old=$.fn.popup;function paramToObj(name,value){if(void 0===value&&(value=""),"object"==typeof value)return value;try{return ocJSON("{"+value+"}")}catch(e){throw new Error("Error parsing the "+name+" attribute value. "+e)}}$.fn.popup=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.popup"),options=$.extend({},Popup.DEFAULTS,$this.data(),"object"==typeof option&&option);data?"string"==typeof option?data[option].apply(data,args):data.reload():$this.data("oc.popup",data=new Popup(this,options))}))},$.fn.popup.Constructor=Popup,$.popup=function(option){return $("<a />").popup(option)},$.fn.popup.noConflict=function(){return $.fn.popup=old,this},$(document).on("click.oc.popup",'[data-control="popup"]',(function(event){event.preventDefault(),$(this).popup()})),$(document).on("ajaxPromise","[data-popup-load-indicator]",(function(event,context){$(this).data("request")==context.handler&&$(this).closest(".control-popup").removeClass("show").popup("setLoading",!0)})).on("ajaxFail","[data-popup-load-indicator]",(function(event,context){$(this).data("request")==context.handler&&$(this).closest(".control-popup").addClass("show").popup("setLoading",!1).popup("setShake")})).on("ajaxDone","[data-popup-load-indicator]",(function(event,context){$(this).data("request")==context.handler&&$(this).closest(".control-popup").popup("hideLoading")}))}(window.jQuery),function($){$(document).render((function(){var formatSelectOption=function(state){var text=$("<span>").text(state.text).html();if(void 0===state.id)return text;var $option=$(state.element),statusColor=state.status?state.status:$option.data("status"),iconClass=state.icon?state.icon:$option.data("icon"),imageSrc=state.image?state.image:$option.data("image");return statusColor?'<span class="select-status status-indicator" style="background:'+statusColor+'"></span> '+text:iconClass?'<i class="select-icon '+iconClass+'"></i> '+text:imageSrc?'<img class="select-image" src="'+imageSrc+'" alt="" /> '+text:text},selectOptions={templateResult:formatSelectOption,templateSelection:formatSelectOption,escapeMarkup:function(m){return m},width:"style"};$("select.custom-select").each((function(){var $element=$(this),extraOptions={containerCssClass:"",dropdownCssClass:"",selectionCssClass:""};if(null!=$element.data("select2"))return!0;$element.attr("data-disposable","data-disposable"),$element.one("dispose-control",(function(){$element.data("select2")&&$element.select2("destroy")})),$element.hasClass("select-no-search")&&(extraOptions.minimumResultsForSearch=1/0),$element.hasClass("select-no-dropdown")&&(extraOptions.dropdownCssClass+=" select-no-dropdown",extraOptions.selectionCssClass+=" select-no-dropdown"),$element.hasClass("select-hide-selected")&&(extraOptions.dropdownCssClass+=" select-hide-selected"),$element.hasClass("select-dropdown-auto-width")&&(extraOptions.dropdownAutoWidth=!0),$element.hasClass("form-control-sm")&&(extraOptions.containerCssClass+=" form-control-sm"),$element.hasClass("form-control-lg")&&(extraOptions.containerCssClass+=" form-control-lg");var language=$element.data("language");language||(language=$('meta[name="backend-locale"]').attr("content")),language&&(extraOptions.language=language);var source=$element.data("handler");source&&(extraOptions.ajax={transport:function(params,success,failure){var $request=$element.request(source,{data:params.data});return $request.done(success),$request.fail(failure),$request},processResults:function(data,params){var results=data.result||data.results,options=[];if(delete data.result,results[0]&&"object"==typeof results[0])options=results;else for(var i in results)results.hasOwnProperty(i)&&options.push({id:i,text:results[i]});return data.results=options,data},dataType:"json"});var separators=$element.data("token-separators");separators&&(extraOptions.tags=!0,extraOptions.tokenSeparators=separators.split("|"),$element.hasClass("select-no-dropdown")&&(extraOptions.selectOnClose=!0,extraOptions.closeOnSelect=!1,extraOptions.minimumInputLength=1,$element.on("select2:closing",(function(){var highlightedEls=$(".select2-dropdown.select-no-dropdown:first .select2-results__option--highlighted");highlightedEls.length>0&&(highlightedEls.removeClass("select2-results__option--highlighted"),$(".select2-dropdown.select-no-dropdown:first .select2-results__option:first").addClass("select2-results__option--highlighted"))}))));var placeholder=$element.data("placeholder");placeholder&&(extraOptions.placeholder=placeholder,extraOptions.allowClear=!0),$element.select2($.extend({},selectOptions,extraOptions)),$element.data("select2").$container.addClass(extraOptions.containerCssClass),$element.on("select2:open",(function(){setTimeout((function(){document.querySelector(".select2-container--open .select2-search__field").focus()}),100)}))}))})),$(document).on("disable","select.custom-select",(function(event,status){null!=$(this).data("select2")&&$(this).select2("enable",!status)}))}(jQuery),function($){"use strict";var Tab=function(element,options){var $el=this.$el=$(element);this.options=options||{},this.$tabsContainer=$(".nav-tabs:first",$el),this.$pagesContainer=$(".tab-content:first",$el),this.tabId="tabs"+$el.parents().length+Math.round(1e3*Math.random()),this.options.closable&&$el.attr("data-closable",""),""===this.options.linkable&&(this.options.linkable=!0),this.init()};Tab.DEFAULTS={closable:null,slidable:null,linkable:null,paneClasses:null,titleAsFileNames:null,maxTitleSymbols:null,closeConfirmation:null},Tab.prototype.init=function(){var self=this;if($("> li",this.$tabsContainer).each((function(index){self.initTab(this)})),this.$el.on("close.oc.tab",(function(ev,data){ev.preventDefault();var force=void 0!==data&&void 0!==data.force&&data.force;self.closeTab($(ev.target).closest("ul.nav-tabs > li, div.tab-content > div"),force)})),this.$el.on("mousedown","li[data-tab-id]",(function(ev){"2"===ev.key&&$(ev.target).trigger("close.oc.tab")})),this.$el.on("toggleCollapse.oc.tab",(function(ev,data){ev.preventDefault(),$(ev.target).closest("div.tab-content > div").toggleClass("collapsed")})),this.$el.on("modified.oc.tab",(function(ev){ev.preventDefault(),self.modifyTab($(ev.target).closest("ul.nav-tabs > li, div.tab-content > div"))})),this.$el.on("unmodified.oc.tab",(function(ev){ev.preventDefault(),self.unmodifyTab($(ev.target).closest("ul.nav-tabs > li, div.tab-content > div"))})),this.$tabsContainer.on("shown.bs.tab","li",(function(){$(window).trigger("oc.updateUi"),$(this).addClass("active").siblings(".active").removeClass("active");var tabUrl=$("> a",this).data("tabUrl");!tabUrl&&self.options.linkable&&(tabUrl=$("> a",this).attr("href")),tabUrl&&window.history.replaceState({},"Tab link reference",tabUrl)})),this.options.slidable&&this.$pagesContainer.touchwipe({wipeRight:function(){self.prev()},wipeLeft:function(){self.next()},preventDefaultEvents:!1,min_move_x:60}),this.$tabsContainer.toolbar({scrollClassContainer:this.$el}),this.updateClasses(),location.hash&&this.options.linkable){var $hashedAnchor=$('li > a[href="'+location.hash+'"]',this.$tabsContainer);$hashedAnchor.tab("show"),setTimeout((function(){$hashedAnchor.trigger("shownLinkable.oc.tab")}),1)}},Tab.prototype.initTab=function(li){var tabIndex=$(">li",this.$tabsContainer).index(li),time=(new Date).getTime(),targetId=this.tabId+"-tab-"+tabIndex+time,$anchor=$("a",li);if($anchor.data("target","#"+targetId).attr("data-bs-target","#"+targetId).attr("data-bs-toggle","tab"),$anchor.find("> span.title > span").length<1){var html=$anchor.html();$anchor.html("").append($('<span class="title"></span>').append($("<span></span>").html(html)))}var pane=$("> .tab-pane",this.$pagesContainer).eq(tabIndex).attr("id",targetId);$("span.tab-close",li).length||$(li).append($('<span class="tab-close"><i>&times;</i></span>').click((function(){return $(this).trigger("close.oc.tab"),!1}))),pane.data("tab",li),this.$el.trigger("initTab.oc.tab",[{pane:pane,tab:li}])},Tab.prototype.addTab=function(title,content,identifier,tabClass){var processedTitle=this.generateTitleText(title,-1),$link=$("<a/>").attr("href","javascript:;").text(processedTitle),$li=$("<li/>"),$pane=$("<div>").html(content).addClass("tab-pane");$link.attr("title",title),$li.append($link),this.$tabsContainer.append($li),this.$pagesContainer.append($pane),void 0!==tabClass&&$link.addClass(tabClass),void 0!==identifier&&$li.attr("data-tab-id",identifier),this.options.paneClasses&&$pane.addClass(this.options.paneClasses),this.initTab($li),$link.tab("show"),$(window).trigger("resize"),this.$tabsContainer.dragScroll("goToElement",$li);var defaultFocus=$("[default-focus]",$pane);defaultFocus.is(":visible")&&defaultFocus.focus(),this.updateClasses()},Tab.prototype.updateTab=function(tab,title,content){var tabIndex=this.findTabIndex(tab);if(-1!=tabIndex){var processedTitle=this.generateTitleText(title,-1),$tab=$("> li",this.$tabsContainer).eq(tabIndex),$pane=$("> div",this.$pagesContainer).eq(tabIndex);$("a",$tab).text(processedTitle).attr("title",title),$pane.html(content),this.initTab($tab),this.updateClasses()}},Tab.prototype.generateTitleText=function(title,tabIndex){var newTitle=title;return this.options.titleAsFileNames&&(newTitle=title.replace(/^.*[\\\/]/,"")),this.options.maxTitleSymbols&&newTitle.length>this.options.maxTitleSymbols&&(newTitle="..."+newTitle.substring(newTitle.length-this.options.maxTitleSymbols)),newTitle},Tab.prototype.closeTab=function(tab,force){var tabIndex=this.findTabIndex(tab);if(-1!=tabIndex){var $tab=$("> li",this.$tabsContainer).eq(tabIndex),$pane=$("> div",this.$pagesContainer).eq(tabIndex),isActive=$tab.hasClass("active");if(!(void 0!==$tab.attr("data-modified"))||!this.options.closeConfirmation||!0===force||confirm(this.options.closeConfirmation)){var e=$.Event("beforeClose.oc.tab",{relatedTarget:$pane});this.$el.trigger(e),e.isDefaultPrevented()||($.oc.foundation.controlUtils.disposeControls($pane.get(0)),$pane.remove(),$tab.remove(),isActive&&$("> li > a",this.$tabsContainer).eq(tabIndex-1).tab("show"),0==$("> li > a",this.$tabsContainer).length&&this.$el.trigger("afterAllClosed.oc.tab"),this.$el.trigger("closed.oc.tab",[$tab,$pane]),$(window).trigger("resize"),this.updateClasses())}}},Tab.prototype.updateClasses=function(){this.$tabsContainer.children().length>0?this.$el.addClass("has-tabs"):this.$el.removeClass("has-tabs")},Tab.prototype.modifyTab=function(tab){var tabIndex=this.findTabIndex(tab);-1!=tabIndex&&($("> li",this.$tabsContainer).eq(tabIndex).attr("data-modified",""),$("> div",this.$pagesContainer).eq(tabIndex).attr("data-modified",""))},Tab.prototype.unmodifyTab=function(tab){var tabIndex=this.findTabIndex(tab);-1!=tabIndex&&($("> li",this.$tabsContainer).eq(tabIndex).removeAttr("data-modified"),$("> div",this.$pagesContainer).eq(tabIndex).removeAttr("data-modified"))},Tab.prototype.findTabIndex=function(tab){var tabToFind=tab;void 0===tab&&(tabToFind=$("li.active",this.$tabsContainer));var tabParent=this.$pagesContainer;return $(tabToFind).parent().hasClass("nav-tabs")&&(tabParent=this.$tabsContainer),tabParent.children().index($(tabToFind))},Tab.prototype.findTabFromPane=function(pane){var id="#"+$(pane).attr("id");return $('[data-target="'+id+'"]',this.$tabsContainer)},Tab.prototype.findPaneFromTab=function(tab){var id=$(tab).find("> a").data("target");return this.$pagesContainer.find(id)},Tab.prototype.goTo=function(identifier){var $tab=$('[data-tab-id="'+identifier+'" ]',this.$tabsContainer);if(0==$tab.length)return!1;var tabIndex=this.findTabIndex($tab);return-1!=tabIndex&&(this.goToIndex(tabIndex),this.$tabsContainer.dragScroll("goToElement",$tab),!0)},Tab.prototype.goToPane=function(pane){var $pane=$(pane),$tab=this.findTabFromPane($pane);if(0!=$pane.length){$pane.removeClass("collapsed");var tabIndex=this.findTabIndex($pane);return-1!=tabIndex&&(this.goToIndex(tabIndex),$tab.length>0&&this.$tabsContainer.dragScroll("goToElement",$tab),!0)}},Tab.prototype.goToElement=function(element){return this.goToPane(element.closest(".tab-pane"))},Tab.prototype.findByIdentifier=function(identifier){return $('[data-tab-id="'+identifier+'" ]',this.$tabsContainer)},Tab.prototype.updateIdentifier=function(tab,identifier){var index=this.findTabIndex(tab);-1!=index&&$("> li",this.$tabsContainer).eq(index).attr("data-tab-id",identifier)},Tab.prototype.updateTitle=function(tab,title){var index=this.findTabIndex(tab);if(-1!=index){var processedTitle=this.generateTitleText(title,index),$link=$("> li > a span.title",this.$tabsContainer).eq(index);$link.attr("title",title),$link.text(processedTitle)}},Tab.prototype.goToIndex=function(index){$("> li > a",this.$tabsContainer).eq(index).tab("show")},Tab.prototype.prev=function(){var tabIndex=this.findTabIndex();tabIndex<=0||this.goToIndex(tabIndex-1)},Tab.prototype.next=function(){var tabIndex=this.findTabIndex();-1!=tabIndex&&this.goToIndex(tabIndex+1)};var old=$.fn.ocTab;$.fn.ocTab=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.tab"),options=$.extend({},Tab.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.tab",data=new Tab(this,options)),"string"==typeof option){for(var methodArgs=[],i=1;i<args.length;i++)methodArgs.push(args[i]);data[option].apply(data,methodArgs)}}))},$.fn.ocTab.Constructor=Tab,$.fn.ocTab.noConflict=function(){return $.fn.ocTab=old,this},$(document).render((function(){$("[data-control=tab]").ocTab()})),$(window).on("ajaxInvalidField",(function(event,element,name,messages,isFirst){if(isFirst){event.preventDefault();var $el=$(element);$el.closest("[data-control=tab]").ocTab("goToElement",$el),$el.focus()}}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Toolbar=function(element,options){var $el=this.$el=$(element),$toolbar=$el.closest(".control-toolbar");$.oc.foundation.controlUtils.markDisposable(element),this.$toolbar=$toolbar,this.options=options||{};var noDragSupport=void 0!==options.noDragSupport&&options.noDragSupport;Base.call(this);var scrollClassContainer=void 0!==options.scrollClassContainer?options.scrollClassContainer:$el.parent();function update(){$(window).trigger("resize")}this.options.useNativeDrag&&$el.addClass("is-native-drag"),$el.dragScroll({scrollClassContainer:scrollClassContainer,useDrag:!noDragSupport,useNative:this.options.useNativeDrag,vertical:this.options.vertical,noOverScroll:this.options.vertical}),$(".form-control.growable",$toolbar).on("focus.toolbar",(function(){update()})),$(".form-control.growable",$toolbar).on("blur.toolbar",(function(){update()})),this.$el.one("dispose-control",this.proxy(this.dispose))};(Toolbar.prototype=Object.create(BaseProto)).constructor=Toolbar,Toolbar.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),$(".form-control.growable",this.$toolbar).off(".toolbar"),this.$el.dragScroll("dispose"),this.$el.removeData("oc.toolbar"),this.$el=null,BaseProto.dispose.call(this)},Toolbar.DEFAULTS={useNativeDrag:!1,vertical:!1};var old=$.fn.toolbar;$.fn.toolbar=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.toolbar"),options=$.extend({},Toolbar.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.toolbar",data=new Toolbar(this,options)),"string"==typeof option&&data[option].apply(data,args)}))},$.fn.toolbar.Constructor=Toolbar,$.fn.toolbar.noConflict=function(){return $.fn.toolbar=old,this},$(document).on("render",(function(){$("[data-control=toolbar]").toolbar()}))}(window.jQuery),function($){$(document).render((function(){$('[data-control="tooltip"], [data-bs-toggle="tooltip"], [data-toggle="tooltip"]').tooltip()}))}(jQuery),function($){$(document).render((function(){$(".form-check.is-indeterminate > input").each((function(){var $el=$(this);switch($el.data("checked")){case 1:$el.prop("indeterminate",!0);break;case 2:$el.prop("indeterminate",!1),$el.prop("checked",!0);break;default:$el.prop("indeterminate",!1),$el.prop("checked",!1)}}))})),$(document).on("click",".form-check.is-indeterminate > input",(function(){var $el=$(this),checked=$el.data("checked");switch(void 0===checked&&(checked=$el.is(":checked")?1:0),checked){case 0:$el.data("checked",1),$el.prop("indeterminate",!0);break;case 1:$el.data("checked",2),$el.prop("indeterminate",!1),$el.prop("checked",!0);break;default:$el.data("checked",0),$el.prop("indeterminate",!1),$el.prop("checked",!1)}}))}(jQuery),function($){"use strict";var LoadIndicator=function(element,options){this.$el=$(element),this.options=options||{},this.tally=0,this.show()};LoadIndicator.prototype.hide=function(){this.tally--,this.tally<=0&&($("div.loading-indicator",this.$el).remove(),this.$el.removeClass("in-progress"))},LoadIndicator.prototype.show=function(options){options&&(this.options=options),this.hide();var indicator=$('<div class="loading-indicator"></div>');indicator.append($("<div></div>").text(this.options.text)),indicator.append($("<span></span>")),void 0!==this.options.opaque&&indicator.addClass("is-opaque"),void 0!==this.options.centered&&indicator.addClass("indicator-center"),"small"===this.options.size&&indicator.addClass("size-small"),this.$el.prepend(indicator),this.$el.addClass("in-progress"),this.tally++},LoadIndicator.prototype.destroy=function(){this.$el.removeData("oc.loadIndicator"),this.$el=null},LoadIndicator.DEFAULTS={text:""};var old=$.fn.loadIndicator;$.fn.loadIndicator=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.loadIndicator"),options=$.extend({},LoadIndicator.DEFAULTS,"object"==typeof option&&option);if(data)if("string"!=typeof option)data.show(options);else{for(var methodArgs=[],i=1;i<args.length;i++)methodArgs.push(args[i]);data[option].apply(data,methodArgs)}else{if("string"==typeof option)return;$this.data("oc.loadIndicator",data=new LoadIndicator(this,options))}}))},$.fn.loadIndicator.Constructor=LoadIndicator,$.fn.loadIndicator.noConflict=function(){return $.fn.loadIndicator=old,this},$(document).on("ajaxPromise","[data-load-indicator]",(function(){var indicatorContainer=$(this).closest(".loading-indicator-container"),loadingText=$(this).data("load-indicator"),options={opaque:$(this).data("load-indicator-opaque"),centered:$(this).data("load-indicator-centered"),size:$(this).data("load-indicator-size")};loadingText&&(options.text=loadingText),indicatorContainer.loadIndicator(options)})).on("ajaxFail ajaxDone","[data-load-indicator]",(function(){$(this).closest(".loading-indicator-container").loadIndicator("hide")}))}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={});var CursorLoadIndicator=function(){Modernizr.touchevents||(this.counter=0,this.indicator=$("<div/>").addClass("cursor-loading-indicator").addClass("hide"),$(document.body).append(this.indicator))};CursorLoadIndicator.prototype.show=function(event){if(!(Modernizr.touchevents||(this.counter++,this.counter>1))){var self=this;void 0!==event&&void 0!==event.clientY&&self.indicator.css({left:event.clientX+15,top:event.clientY+15}),this.indicator.removeClass("hide"),$(window).on("mousemove.cursorLoadIndicator",(function(e){self.indicator.css({left:e.clientX+15,top:e.clientY+15})}))}},CursorLoadIndicator.prototype.hide=function(force){Modernizr.touchevents||(this.counter--,void 0!==force&&force&&(this.counter=0),this.counter<=0&&(this.indicator.addClass("hide"),$(window).off(".cursorLoadIndicator")))},$(document).ready((function(){$.oc.cursorLoadIndicator=new CursorLoadIndicator})),$(document).on("ajaxPromise","[data-cursor-load-indicator]",(function(){$.oc.cursorLoadIndicator.show()})).on("ajaxFail ajaxDone","[data-cursor-load-indicator]",(function(){$.oc.cursorLoadIndicator.hide()}))}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={});var StripeLoadIndicator=function(){var self=this;this.counter=0,this.indicator=this.makeIndicator(),this.stripe=this.indicator.find(".stripe"),this.animationTimer=null,$(document).ready((function(){$(document.body).append(self.indicator)}))};StripeLoadIndicator.prototype.makeIndicator=function(){return $("<div/>").addClass("stripe-loading-indicator loaded").append($("<div />").addClass("stripe")).append($("<div />").addClass("stripe-loaded"))},StripeLoadIndicator.prototype.show=function(){window.clearTimeout(this.animationTimer),this.indicator.show(),this.counter++,this.stripe.after(this.stripe=this.stripe.clone()).remove(),this.counter>1||(this.indicator.removeClass("loaded"),$(document.body).addClass("loading"))},StripeLoadIndicator.prototype.hide=function(force){if(this.counter--,void 0!==force&&force&&(this.counter=0),this.counter<=0){this.indicator.addClass("loaded"),$(document.body).removeClass("loading");var self=this;this.animationTimer=window.setTimeout((function(){self.indicator.hide()}),1e3)}},$.oc.stripeLoadIndicator=new StripeLoadIndicator,$(document).on("ajaxPromise","[data-stripe-load-indicator]",(function(event){event.stopPropagation(),$.oc.stripeLoadIndicator.show();var $el=$(this);$(window).one("ajaxUpdateComplete",(function(){0===$el.closest("html").length&&$.oc.stripeLoadIndicator.hide()}))})).on("ajaxFail ajaxDone","[data-stripe-load-indicator]",(function(event){event.stopPropagation(),$.oc.stripeLoadIndicator.hide()}))}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.inspector&&($.oc.inspector={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,Surface=function(containerElement,properties,values,inspectorUniqueId,options,parentSurface,group,propertyName){if(void 0===inspectorUniqueId)throw new Error("Inspector surface unique ID should be defined.");this.options=$.extend({},Surface.DEFAULTS,"object"==typeof options&&options),this.rawProperties=properties,this.parsedProperties=$.oc.inspector.engine.processPropertyGroups(properties),this.container=containerElement,this.inspectorUniqueId=inspectorUniqueId,this.values=null!==values?values:{},this.originalValues=$.extend(!0,{},this.values),this.idCounter=1,this.popupCounter=0,this.parentSurface=parentSurface,this.propertyName=propertyName,this.editors=[],this.externalParameterEditors=[],this.tableContainer=null,this.groupManager=null,this.group=null,void 0!==group&&(this.group=group),this.parentSurface||(this.groupManager=new $.oc.inspector.groupManager(this.inspectorUniqueId)),Base.call(this),this.init()};Surface.prototype=Object.create(BaseProto),Surface.prototype.constructor=Surface,Surface.prototype.dispose=function(){this.unregisterHandlers(),this.disposeControls(),this.disposeEditors(),this.removeElements(),this.disposeExternalParameterEditors(),this.container=null,this.tableContainer=null,this.rawProperties=null,this.parsedProperties=null,this.editors=null,this.externalParameterEditors=null,this.values=null,this.originalValues=null,this.options.onChange=null,this.options.onPopupDisplayed=null,this.options.onPopupHidden=null,this.options.onGetInspectableElement=null,this.parentSurface=null,this.groupManager=null,this.group=null,BaseProto.dispose.call(this)},Surface.prototype.init=function(){this.groupManager&&!this.group&&(this.group=this.groupManager.createGroup("root")),this.build(),this.parentSurface||$.oc.foundation.controlUtils.markDisposable(this.tableContainer),this.registerHandlers()},Surface.prototype.registerHandlers=function(){this.parentSurface||($(this.tableContainer).one("dispose-control",this.proxy(this.dispose)),$(this.tableContainer).on("click","tr.group, tr.control-group",this.proxy(this.onGroupClick)),$(this.tableContainer).on("focus-control",this.proxy(this.focusFirstEditor)))},Surface.prototype.unregisterHandlers=function(){this.parentSurface||($(this.tableContainer).off("dispose-control",this.proxy(this.dispose)),$(this.tableContainer).off("click","tr.group, tr.control-group",this.proxy(this.onGroupClick)),$(this.tableContainer).off("focus-control",this.proxy(this.focusFirstEditor)))},Surface.prototype.build=function(){this.tableContainer=document.createElement("div");var dataTable=document.createElement("table"),tbody=document.createElement("tbody");$.oc.foundation.element.addClass(dataTable,"inspector-fields"),this.parsedProperties.hasGroups&&$.oc.foundation.element.addClass(dataTable,"has-groups");for(var currentGroup=this.group,i=0,len=this.parsedProperties.properties.length;i<len;i++){var property=this.parsedProperties.properties[i];"group"==property.itemType?currentGroup=this.getGroupManager().createGroup(property.groupIndex,this.group):void 0===property.groupIndex&&(currentGroup=this.group);var row=this.buildRow(property,currentGroup);"group"==property.itemType?this.applyGroupLevelToRow(row,currentGroup.parentGroup):this.applyGroupLevelToRow(row,currentGroup),tbody.appendChild(row),this.buildEditor(row,property,dataTable,currentGroup)}dataTable.appendChild(tbody),this.tableContainer.appendChild(dataTable),this.container.appendChild(this.tableContainer),this.options.enableExternalParameterEditor&&this.buildExternalParameterEditor(tbody),this.parentSurface||this.focusFirstEditor()},Surface.prototype.moveToContainer=function(newContainer){this.container=newContainer,this.container.appendChild(this.tableContainer)},Surface.prototype.buildRow=function(property,group){var row=document.createElement("tr"),th=document.createElement("th"),titleSpan=document.createElement("span"),description=this.buildPropertyDescription(property);property.property&&(row.setAttribute("data-property",property.property),row.setAttribute("data-property-path",this.getPropertyPath(property.property))),this.applyGroupIndexAttribute(property,row,group),$.oc.foundation.element.addClass(row,this.getRowCssClass(property,group)),this.applyHeadColspan(th,property),titleSpan.setAttribute("class","title-element"),titleSpan.setAttribute("title",this.escapeJavascriptString(property.title)),this.buildGroupExpandControl(titleSpan,property,!1,!1,group),titleSpan.innerHTML+=this.escapeJavascriptString(property.title);var outerDiv=document.createElement("div"),innerDiv=document.createElement("div");return innerDiv.appendChild(titleSpan),description&&innerDiv.appendChild(description),outerDiv.appendChild(innerDiv),th.appendChild(outerDiv),row.appendChild(th),row},Surface.prototype.focusFirstEditor=function(){if(0!=this.editors.length){this.getGroupManager();for(var i=0,len=this.editors.length;i<len;i++){var editor=this.editors[i],group=editor.parentGroup;if(!group||this.groupManager.isGroupExpanded(group)){var externalParameterEditor=this.findExternalParameterEditor(editor.getPropertyName());return externalParameterEditor&&externalParameterEditor.isEditorVisible()?void externalParameterEditor.focus():void editor.focus()}}}},Surface.prototype.getRowCssClass=function(property,group){var result=property.itemType;return"property"==property.itemType&&group.parentGroup&&(result+=this.getGroupManager().isGroupExpanded(group)?" expanded":" collapsed"),"property"!=property.itemType||property.showExternalParam||(result+=" no-external-parameter"),result},Surface.prototype.applyHeadColspan=function(th,property){"group"==property.itemType&&th.setAttribute("colspan",2)},Surface.prototype.buildGroupExpandControl=function(titleSpan,property,force,hasChildSurface,group){if("group"===property.itemType||force){this.getGroupManager().getGroupIndex(group);var statusClass=this.getGroupManager().isGroupExpanded(group)?"expanded":"",anchor=document.createElement("a");anchor.setAttribute("class","expandControl "+statusClass),anchor.setAttribute("href","javascript:;"),anchor.innerHTML="<span>Expand/collapse</span>",titleSpan.appendChild(anchor)}},Surface.prototype.buildPropertyDescription=function(property){if(void 0===property.description||null===property.description)return null;var span=document.createElement("span");return span.setAttribute("data-tooltip-text",this.escapeJavascriptString(property.description)),span.setAttribute("class","info octo-icon-info with-tooltip"),span},Surface.prototype.buildExternalParameterEditor=function(tbody){for(var rows=tbody.children,i=0,len=rows.length;i<len;i++){var row=rows[i],property=row.getAttribute("data-property");if(!$.oc.foundation.element.hasClass(row,"no-external-parameter")&&property){var propertyEditor=this.findPropertyEditor(property);if(!propertyEditor||propertyEditor.supportsExternalParameterEditor()){var cell=row.querySelector("td"),propertyDefinition=this.findPropertyDefinition(property),initialValue=this.getPropertyValue(property);void 0===initialValue&&(initialValue=propertyEditor.getUndefinedValue());var editor=new $.oc.inspector.externalParameterEditor(this,propertyDefinition,cell,initialValue);this.externalParameterEditors.push(editor)}}}},Surface.prototype.applyGroupIndexAttribute=function(property,row,group,isGroupedControl){"group"==property.itemType||isGroupedControl?(row.setAttribute("data-group-index",this.getGroupManager().getGroupIndex(group)),row.setAttribute("data-parent-group-index",this.getGroupManager().getGroupIndex(group.parentGroup))):group.parentGroup&&row.setAttribute("data-parent-group-index",this.getGroupManager().getGroupIndex(group))},Surface.prototype.applyGroupLevelToRow=function(row,group){if(!row.hasAttribute("data-group-level")){var th=this.getRowHeadElement(row);if(null===th)throw new Error("Cannot find TH element for the Inspector row");var groupLevel=group.getLevel();row.setAttribute("data-group-level",groupLevel),th.children[0].style.marginLeft=10*groupLevel+"px"}},Surface.prototype.toggleGroup=function(row,forceExpand){var link=row.querySelector("a"),groupIndex=row.getAttribute("data-group-index"),table=this.getRootTable(),groupManager=this.getGroupManager(),collapse=!0;$.oc.foundation.element.hasClass(link,"expanded")&&!forceExpand?$.oc.foundation.element.removeClass(link,"expanded"):($.oc.foundation.element.addClass(link,"expanded"),collapse=!1);var propertyRows=groupManager.findGroupRows(table,groupIndex,!collapse),duration=Math.round(50/propertyRows.length);this.expandOrCollapseRows(propertyRows,collapse,duration,forceExpand),groupManager.setGroupStatus(groupIndex,!collapse)},Surface.prototype.expandGroupParents=function(group){for(var groups=group.getGroupAndAllParents(),table=this.getRootTable(),i=groups.length-1;i>=0;i--){var row=groups[i].findGroupRow(table);row&&this.toggleGroup(row,!0)}},Surface.prototype.expandOrCollapseRows=function(rows,collapse,duration,noAnimation){var row=rows.pop(),self=this;row&&(noAnimation?($.oc.foundation.element.toggleClass(row,"collapsed",collapse),$.oc.foundation.element.toggleClass(row,"expanded",!collapse),self.expandOrCollapseRows(rows,collapse,duration,noAnimation)):setTimeout((function(){$.oc.foundation.element.toggleClass(row,"collapsed",collapse),$.oc.foundation.element.toggleClass(row,"expanded",!collapse),self.expandOrCollapseRows(rows,collapse,duration,noAnimation)}),duration))},Surface.prototype.getGroupManager=function(){return this.getRootSurface().groupManager},Surface.prototype.buildEditor=function(row,property,dataTable,group){if("property"===property.itemType){this.validateEditorType(property.type);var cell=document.createElement("td"),type=property.type;row.appendChild(cell),void 0===type&&(type="string");var editor=new $.oc.inspector.propertyEditors[type](this,property,cell,group);editor.isGroupedEditor()&&($.oc.foundation.element.addClass(dataTable,"has-groups"),$.oc.foundation.element.addClass(row,"control-group"),this.applyGroupIndexAttribute(property,row,editor.group,!0),this.buildGroupExpandControl(row.querySelector("span.title-element"),property,!0,editor.hasChildSurface(),editor.group),0==cell.children.length&&(row.querySelector("th").setAttribute("colspan",2),row.removeChild(cell))),this.editors.push(editor)}},Surface.prototype.generateSequencedId=function(){return this.idCounter++,this.inspectorUniqueId+"-"+this.idCounter},Surface.prototype.getPropertyValue=function(property){return this.values[property]},Surface.prototype.setPropertyValue=function(property,value,supressChangeEvents,forceEditorUpdate){if(void 0!==value?this.values[property]=value:void 0!==this.values[property]&&delete this.values[property],!supressChangeEvents){void 0!==this.originalValues[property]&&this.comparePropertyValues(this.originalValues[property],value)?this.markPropertyChanged(property,!1):this.markPropertyChanged(property,!0);var propertyPath=this.getPropertyPath(property);this.getRootSurface().notifyEditorsPropertyChanged(propertyPath,value),null!==this.options.onChange&&this.options.onChange(property,value)}if(forceEditorUpdate){var editor=this.findPropertyEditor(property);editor&&editor.updateDisplayedValue(value)}return value},Surface.prototype.notifyEditorsPropertyChanged=function(propertyPath,value){for(var i=0,len=this.editors.length;i<len;i++){var editor=this.editors[i];editor.onInspectorPropertyChanged(propertyPath,value),editor.notifyChildSurfacesPropertyChanged(propertyPath,value)}},Surface.prototype.makeCellActive=function(cell){for(var cells=cell.parentNode.parentNode.parentNode.querySelectorAll("tr td"),i=0,len=cells.length;i<len;i++)$.oc.foundation.element.removeClass(cells[i],"active");$.oc.foundation.element.addClass(cell,"active")},Surface.prototype.markPropertyChanged=function(property,changed){var propertyPath=this.getPropertyPath(property),row=this.tableContainer.querySelector('tr[data-property-path="'+propertyPath+'"]');changed?$.oc.foundation.element.addClass(row,"changed"):$.oc.foundation.element.removeClass(row,"changed")},Surface.prototype.findPropertyEditor=function(property){for(var i=0,len=this.editors.length;i<len;i++)if(this.editors[i].getPropertyName()==property)return this.editors[i];return null},Surface.prototype.findExternalParameterEditor=function(property){for(var i=0,len=this.externalParameterEditors.length;i<len;i++)if(this.externalParameterEditors[i].getPropertyName()==property)return this.externalParameterEditors[i];return null},Surface.prototype.findPropertyDefinition=function(property){for(var i=0,len=this.parsedProperties.properties.length;i<len;i++){var definition=this.parsedProperties.properties[i];if(definition.property==property)return definition}return null},Surface.prototype.validateEditorType=function(type){if(void 0===type&&(type="string"),void 0===$.oc.inspector.propertyEditors[type])throw new Error('The Inspector editor class "'+type+'" is not defined in the $.oc.inspector.propertyEditors namespace.')},Surface.prototype.popupDisplayed=function(){0===this.popupCounter&&null!==this.options.onPopupDisplayed&&this.options.onPopupDisplayed(),this.popupCounter++},Surface.prototype.popupHidden=function(){this.popupCounter--,this.popupCounter<0&&(this.popupCounter=0),0===this.popupCounter&&null!==this.options.onPopupHidden&&this.options.onPopupHidden()},Surface.prototype.getInspectableElement=function(){if(null!==this.options.onGetInspectableElement)return this.options.onGetInspectableElement()},Surface.prototype.getPropertyPath=function(propertyName){var result=[],current=this;for(result.push(propertyName);current;)current.propertyName&&result.push(current.propertyName),current=current.parentSurface;return result.reverse(),result.join(".")},Surface.prototype.findDependentProperties=function(propertyName){var dependents=[];for(var i in this.rawProperties){var property=this.rawProperties[i];property.depends&&(-1!==property.depends.indexOf(propertyName)&&dependents.push(property.property))}return dependents},Surface.prototype.mergeChildSurface=function(surface,mergeAfterRow){var rows=surface.tableContainer.querySelectorAll("table.inspector-fields > tbody > tr");surface.tableContainer=this.getRootSurface().tableContainer;for(var i=rows.length-1;i>=0;i--){var row=rows[i];mergeAfterRow.parentNode.insertBefore(row,mergeAfterRow.nextSibling),this.applyGroupLevelToRow(row,surface.group)}},Surface.prototype.getRowHeadElement=function(row){for(var i=row.children.length-1;i>=0;i--){var element=row.children[i];if("TH"===element.tagName)return element}return null},Surface.prototype.getInspectorUniqueId=function(){return this.inspectorUniqueId},Surface.prototype.getRootSurface=function(){for(var current=this;current;){if(!current.parentSurface)return current;current=current.parentSurface}},Surface.prototype.removeElements=function(){this.parentSurface||this.tableContainer.parentNode.removeChild(this.tableContainer)},Surface.prototype.disposeEditors=function(){for(var i=0,len=this.editors.length;i<len;i++){this.editors[i].dispose()}},Surface.prototype.disposeExternalParameterEditors=function(){for(var i=0,len=this.externalParameterEditors.length;i<len;i++){this.externalParameterEditors[i].dispose()}},Surface.prototype.disposeControls=function(){for(var tooltipControls=this.tableContainer.querySelectorAll(".with-tooltip"),i=0,len=tooltipControls.length;i<len;i++)$(tooltipControls[i]).tooltip("dispose")},Surface.prototype.escapeJavascriptString=function(str){var div=document.createElement("div");return div.appendChild(document.createTextNode(str)),div.innerHTML},Surface.prototype.comparePropertyValues=function(oldValue,newValue){return(void 0!==oldValue||void 0===newValue)&&((void 0===oldValue||void 0!==newValue)&&("object"==typeof oldValue&&"object"==typeof newValue?JSON.stringify(oldValue)==JSON.stringify(newValue):oldValue==newValue))},Surface.prototype.getRootTable=function(){return this.getRootSurface().container.querySelector("table.inspector-fields")},Surface.prototype.getValues=function(){for(var result={},i=0,len=this.parsedProperties.properties.length;i<len;i++){var property=this.parsedProperties.properties[i];if("property"===property.itemType){var value=null,externalParameterEditor=this.findExternalParameterEditor(property.property);if(externalParameterEditor&&externalParameterEditor.isEditorVisible())value="{{ "+(value=externalParameterEditor.getValue())+" }}";else{value=this.getPropertyValue(property.property);var editor=this.findPropertyEditor(property.property);if(void 0===value&&(value=editor?editor.getUndefinedValue():property.default),value===$.oc.inspector.removedProperty)continue;if(void 0!==property.ignoreIfEmpty&&(!0===property.ignoreIfEmpty||"true"===property.ignoreIfEmpty)&&editor&&editor.isEmptyValue(value))continue;if(void 0!==property.ignoreIfDefault&&(!0===property.ignoreIfDefault||"true"===property.ignoreIfDefault)&&editor){if(void 0===property.default)throw new Error("The ignoreIfDefault feature cannot be used without the default property value.");if(this.comparePropertyValues(value,property.default))continue}}result[property.property]=value}}return result},Surface.prototype.getValidValues=function(){var allValues=this.getValues(),result={};for(var property in allValues){var editor=this.findPropertyEditor(property);if(!editor)throw new Error("Cannot find editor for property "+property);var externalEditor=this.findExternalParameterEditor(property);externalEditor&&externalEditor.isEditorVisible()&&!externalEditor.validate(!0)?result[property]=$.oc.inspector.invalidProperty:editor.validate(!0)?result[property]=allValues[property]:result[property]=$.oc.inspector.invalidProperty}return result},Surface.prototype.validate=function(silentMode){this.getGroupManager().unmarkInvalidGroups(this.getRootTable());for(var i=0,len=this.editors.length;i<len;i++){var editor=this.editors[i],externalEditor=this.findExternalParameterEditor(editor.propertyDefinition.property);if(externalEditor&&externalEditor.isEditorVisible()){if(externalEditor.validate(silentMode))continue;return silentMode||editor.markInvalid(),!1}if(!editor.validate(silentMode))return silentMode||editor.markInvalid(),!1}return!0},Surface.prototype.hasChanges=function(originalValues){var values=void 0!==originalValues?originalValues:this.originalValues;return!this.comparePropertyValues(values,this.getValues())},Surface.prototype.onGroupClick=function(ev){var row=ev.currentTarget;return this.toggleGroup(row),$.oc.foundation.event.stop(ev),!1},Surface.DEFAULTS={enableExternalParameterEditor:!1,onChange:null,onPopupDisplayed:null,onPopupHidden:null,onGetInspectableElement:null},$.oc.inspector.surface=Surface,$.oc.inspector.removedProperty={removed:!0},$.oc.inspector.invalidProperty={invalid:!0}}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,InspectorManager=function(){Base.call(this),this.init()};(InspectorManager.prototype=Object.create(BaseProto)).constructor=Base,InspectorManager.prototype.init=function(){$(document).on("click","[data-inspectable]",this.proxy(this.onInspectableClicked))},InspectorManager.prototype.getContainerElement=function($element){var $containerHolder=$element.closest("[data-inspector-container]");if(0===$containerHolder.length)return null;var $container=$containerHolder.find($containerHolder.data("inspector-container"));if(0===$container.length)throw new Error("Inspector container "+$containerHolder.data["inspector-container"]+" element is not found.");return $container},InspectorManager.prototype.loadElementOptions=function($element){var options={};return $element.data("inspector-css-class")&&(options.inspectorCssClass=$element.data("inspector-css-class")),options},InspectorManager.prototype.createInspectorPopup=function($element,containerSupported){var options=$.extend(this.loadElementOptions($element),{containerSupported:containerSupported});new $.oc.inspector.wrappers.popup($element,null,options)},InspectorManager.prototype.createInspectorContainer=function($element,$container){var options=$.extend(this.loadElementOptions($element),{containerSupported:!0,container:$container});new $.oc.inspector.wrappers.container($element,null,options)},InspectorManager.prototype.switchToPopup=function(wrapper){var options=$.extend(this.loadElementOptions(wrapper.$element),{containerSupported:!0});new $.oc.inspector.wrappers.popup(wrapper.$element,wrapper,options),wrapper.cleanupAfterSwitch(),this.setContainerPreference(!1)},InspectorManager.prototype.switchToContainer=function(wrapper){var $container=this.getContainerElement(wrapper.$element),options=$.extend(this.loadElementOptions(wrapper.$element),{containerSupported:!0,container:$container});if(!$container)throw new Error("Cannot switch to container: a container element is not found");new $.oc.inspector.wrappers.container(wrapper.$element,wrapper,options),wrapper.cleanupAfterSwitch(),this.setContainerPreference(!0)},InspectorManager.prototype.createInspector=function(element){var $element=$(element);if($element.data("oc.inspectorVisible"))return!1;var $container=this.getContainerElement($element);if($container){if(!this.applyValuesFromContainer($container)||!this.containerHidingAllowed($container))return;$.oc.foundation.controlUtils.disposeControls($container.get(0)),this.getContainerPreference()?this.createInspectorContainer($element,$container):this.createInspectorPopup($element,!0)}else this.createInspectorPopup($element,!1)},InspectorManager.prototype.getContainerPreference=function(){return!!Modernizr.localstorage&&"true"===localStorage.getItem("oc.inspectorUseContainer")},InspectorManager.prototype.setContainerPreference=function(value){if(Modernizr.localstorage)return localStorage.setItem("oc.inspectorUseContainer",value?"true":"false")},InspectorManager.prototype.applyValuesFromContainer=function($container){var applyEvent=$.Event("apply.oc.inspector");return $container.trigger(applyEvent),!applyEvent.isDefaultPrevented()},InspectorManager.prototype.containerHidingAllowed=function($container){var allowedEvent=$.Event("beforeContainerHide.oc.inspector");return $container.trigger(allowedEvent),!allowedEvent.isDefaultPrevented()},InspectorManager.prototype.onInspectableClicked=function(ev){var $element=$(ev.currentTarget);return!1===this.createInspector($element)||ev.stopPropagation(),!1},$.oc.inspector.manager=new InspectorManager,$.fn.inspector=function(){return this.each((function(){$.oc.inspector.manager.createInspector(this)}))}}(window.jQuery),function($){"use strict";void 0===$.oc.inspector&&($.oc.inspector={}),void 0===$.oc.inspector.wrappers&&($.oc.inspector.wrappers={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,BaseWrapper=function($element,sourceWrapper,options){if(this.$element=$element,this.options=$.extend({},BaseWrapper.DEFAULTS,"object"==typeof options&&options),this.switched=!1,this.configuration=null,Base.call(this),sourceWrapper)this.surface=sourceWrapper.surface,this.title=sourceWrapper.title,this.description=sourceWrapper.description,sourceWrapper=null,this.init();else{if(!this.triggerShowingAndInit())return;this.surface=null,this.title=null,this.description=null}};BaseWrapper.prototype=Object.create(BaseProto),BaseWrapper.prototype.constructor=Base,BaseWrapper.prototype.dispose=function(){this.switched||(this.$element.removeClass("inspector-open"),this.setInspectorVisibleFlag(!1),this.$element.trigger("hidden.oc.inspector")),null!==this.surface&&this.surface.options.onGetInspectableElement===this.proxy(this.onGetInspectableElement)&&(this.surface.options.onGetInspectableElement=null),this.surface=null,this.$element=null,this.title=null,this.description=null,this.configuration=null,BaseProto.dispose.call(this)},BaseWrapper.prototype.init=function(){this.surface?this.adoptSurface():this.loadConfiguration(),this.$element.addClass("inspector-open")},BaseWrapper.prototype.getElementValuesInput=function(){return this.$element.find("> input[data-inspector-values]")},BaseWrapper.prototype.normalizePropertyCode=function(code,configuration){var lowerCaseCode=code.toLowerCase();for(var index in configuration){var propertyInfo=configuration[index];if(propertyInfo.property.toLowerCase()==lowerCaseCode)return propertyInfo.property}return code},BaseWrapper.prototype.isExternalParametersEditorEnabled=function(){return this.$element.closest("[data-inspector-external-parameters]").length>0},BaseWrapper.prototype.initSurface=function(containerElement,properties,values){var options=this.$element.data()||{};options.enableExternalParameterEditor=this.isExternalParametersEditorEnabled(),options.onGetInspectableElement=this.proxy(this.onGetInspectableElement),this.surface=new $.oc.inspector.surface(containerElement,properties,values,$.oc.inspector.helpers.generateElementUniqueId(this.$element.get(0)),options)},BaseWrapper.prototype.isLiveUpdateEnabled=function(){return!1},BaseWrapper.prototype.createSurfaceAndUi=function(properties,values){},BaseWrapper.prototype.setInspectorVisibleFlag=function(value){this.$element.data("oc.inspectorVisible",value)},BaseWrapper.prototype.adoptSurface=function(){this.surface.options.onGetInspectableElement=this.proxy(this.onGetInspectableElement)},BaseWrapper.prototype.cleanupAfterSwitch=function(){this.switched=!0,this.dispose()},BaseWrapper.prototype.loadValues=function(configuration){var $valuesField=this.getElementValuesInput();if($valuesField.length>0){var valuesStr=$.trim($valuesField.val());try{return 0===valuesStr.length?{}:JSON.parse(valuesStr)}catch(err){throw new Error("Error parsing Inspector field values. "+err)}}for(var values={},attributes=this.$element.get(0).attributes,i=0,len=attributes.length;i<len;i++){var matches,attribute=attributes[i];if(matches=attribute.name.match(/^data-property-(.*)$/))values[this.normalizePropertyCode(matches[1],configuration)]=attribute.value}return values},BaseWrapper.prototype.applyValues=function(liveUpdateMode){var $valuesField=this.getElementValuesInput(),values=liveUpdateMode?this.surface.getValidValues():this.surface.getValues();if(liveUpdateMode){var existingValues=this.loadValues(this.configuration);for(var property in values)values[property]!==$.oc.inspector.invalidProperty&&(existingValues[property]=values[property]);var filteredValues={};for(var property in existingValues)values.hasOwnProperty(property)&&(filteredValues[property]=existingValues[property]);values=filteredValues}if($valuesField.length>0)$valuesField.val(JSON.stringify(values));else for(var property in values){var value=values[property];if($.isArray(value)||$.isPlainObject(value))throw new Error("Inspector data-property-xxx attributes do not support complex values. Property: "+property);this.$element.attr("data-property-"+property,value)}if(liveUpdateMode)this.$element.trigger("livechange");else{var hasChanges=!1;if(this.isLiveUpdateEnabled()){var currentValues=this.loadValues(this.configuration);hasChanges=this.surface.hasChanges(currentValues)}else hasChanges=this.surface.hasChanges();hasChanges&&this.$element.trigger("change")}},BaseWrapper.prototype.loadConfiguration=function(){var configString=this.$element.data("inspector-config"),result={properties:{},title:null,description:null};if(result.title=this.$element.data("inspector-title"),result.description=this.$element.data("inspector-description"),void 0!==configString)return result.properties=this.parseConfiguration(configString),void this.configurationLoaded(result);var $configurationField=this.$element.find("> input[data-inspector-config]");if($configurationField.length>0)return result.properties=this.parseConfiguration($configurationField.val()),void this.configurationLoaded(result);var $form=this.$element.closest("form"),data=this.$element.data(),self=this;$.oc.stripeLoadIndicator.show(),$form.request("onGetInspectorConfiguration",{data:data}).done((function(data){self.onConfigurartionRequestDone(data,result)})).always((function(){$.oc.stripeLoadIndicator.hide()}))},BaseWrapper.prototype.parseConfiguration=function(configuration){if($.isArray(configuration)||$.isPlainObject(configuration))return configuration;if(0===$.trim(configuration))return{};try{return JSON.parse(configuration)}catch(err){throw new Error("Error parsing Inspector configuration. "+err)}},BaseWrapper.prototype.configurationLoaded=function(configuration){var values=this.loadValues(configuration.properties);this.title=configuration.title,this.description=configuration.description,this.configuration=configuration,this.createSurfaceAndUi(configuration.properties,values)},BaseWrapper.prototype.onConfigurartionRequestDone=function(data,result){result.properties=this.parseConfiguration(data.configuration.properties),void 0!==data.configuration.title&&(result.title=data.configuration.title),void 0!==data.configuration.description&&(result.description=data.configuration.description),this.configurationLoaded(result)},BaseWrapper.prototype.triggerShowingAndInit=function(){var e=$.Event("showing.oc.inspector");if(this.$element.trigger(e,[{callback:this.proxy(this.init)}]),e.isDefaultPrevented())return this.$element=null,!1;e.isPropagationStopped()||this.init()},BaseWrapper.prototype.triggerHiding=function(){var hidingEvent=$.Event("hiding.oc.inspector"),values=this.surface.getValues();return this.$element.trigger(hidingEvent,[{values:values}]),!hidingEvent.isDefaultPrevented()},BaseWrapper.prototype.onGetInspectableElement=function(){return this.$element},BaseWrapper.DEFAULTS={containerSupported:!1},$.oc.inspector.wrappers.base=BaseWrapper}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.wrappers.base,BaseProto=Base.prototype,InspectorPopup=function($element,surface,options){this.$popoverContainer=null,this.popoverObj=null,this.cleaningUp=!1,Base.call(this,$element,surface,options)};(InspectorPopup.prototype=Object.create(BaseProto)).constructor=Base,InspectorPopup.prototype.dispose=function(){this.unregisterHandlers(),this.$popoverContainer=null,this.popoverObj=null,BaseProto.dispose.call(this)},InspectorPopup.prototype.createSurfaceAndUi=function(properties,values,title,description){this.showPopover(),this.initSurface(this.$popoverContainer.find("[data-surface-container]").get(0),properties,values),this.repositionPopover(),this.registerPopupHandlers()},InspectorPopup.prototype.adoptSurface=function(){this.showPopover(),this.surface.moveToContainer(this.$popoverContainer.find("[data-surface-container]").get(0)),this.repositionPopover(),this.registerPopupHandlers(),BaseProto.adoptSurface.call(this)},InspectorPopup.prototype.cleanupAfterSwitch=function(){this.cleaningUp=!0,this.switched=!0,this.forceClose()},InspectorPopup.prototype.getPopoverContents=function(){return'<div class="popover-head">                                              <h3 data-inspector-title></h3>                                      <p data-inspector-description></p>                                  <button type="button" class="btn-close"                                 data-dismiss="popover"                                              aria-hidden="true"></button>                                </div>                                                              <form autocomplete="off" onsubmit="return false">                       <div data-surface-container></div>                              <form>'},InspectorPopup.prototype.showPopover=function(){var offset=this.$element.data("inspector-offset"),offsetX=this.$element.data("inspector-offset-x"),offsetY=this.$element.data("inspector-offset-y"),placement=this.$element.data("inspector-placement"),fallbackPlacement=this.$element.data("inspector-fallback-placement");if(void 0===offset&&(offset=15),void 0===placement&&(placement="bottom"),void 0===fallbackPlacement&&(fallbackPlacement="bottom"),this.$element.ocPopover({content:this.getPopoverContents(),highlightModalTarget:!0,modal:!0,placement:placement,fallbackPlacement:fallbackPlacement,containerClass:"control-inspector",container:this.$element.data("inspector-container"),offset:offset,offsetX:offsetX,offsetY:offsetY,width:400}),this.setInspectorVisibleFlag(!0),this.popoverObj=this.$element.data("oc.popover"),this.$popoverContainer=this.popoverObj.$container,this.$popoverContainer.addClass("inspector-temporary-placement"),void 0!==this.options.inspectorCssClass&&this.$popoverContainer.addClass(this.options.inspectorCssClass),this.options.containerSupported){var moveToContainerButton=$('<span class="inspector-move-to-container oc-icon-download">');this.$popoverContainer.find(".popover-head").append(moveToContainerButton)}this.$popoverContainer.find("[data-inspector-title]").text(this.title),this.$popoverContainer.find("[data-inspector-description]").text(this.description)},InspectorPopup.prototype.repositionPopover=function(){this.popoverObj.reposition(),this.$popoverContainer.removeClass("inspector-temporary-placement"),this.$popoverContainer.find("div[data-surface-container] > div").trigger("focus-control")},InspectorPopup.prototype.forceClose=function(){this.$popoverContainer.trigger("close.oc.popover")},InspectorPopup.prototype.registerPopupHandlers=function(){this.surface.options.onPopupDisplayed=this.proxy(this.onPopupEditorDisplayed),this.surface.options.onPopupHidden=this.proxy(this.onPopupEditorHidden),this.popoverObj.options.onCheckDocumentClickTarget=this.proxy(this.onCheckDocumentClickTarget),this.$element.on("hiding.oc.popover",this.proxy(this.onBeforeHide)),this.$element.on("hide.oc.popover",this.proxy(this.onHide)),this.$popoverContainer.on("keydown",this.proxy(this.onPopoverKeyDown)),this.options.containerSupported&&this.$popoverContainer.on("click","span.inspector-move-to-container",this.proxy(this.onMoveToContainer))},InspectorPopup.prototype.unregisterHandlers=function(){this.popoverObj.options.onCheckDocumentClickTarget=null,this.$element.off("hiding.oc.popover",this.proxy(this.onBeforeHide)),this.$element.off("hide.oc.popover",this.proxy(this.onHide)),this.$popoverContainer.off("keydown",this.proxy(this.onPopoverKeyDown)),this.options.containerSupported&&this.$popoverContainer.off("click","span.inspector-move-to-container",this.proxy(this.onMoveToContainer)),this.surface.options.onPopupDisplayed=null,this.surface.options.onPopupHidden=null},InspectorPopup.prototype.onBeforeHide=function(ev){if(!this.cleaningUp)return this.surface.validate()&&this.triggerHiding()?void this.applyValues():(ev.preventDefault(),!1)},InspectorPopup.prototype.onHide=function(ev){this.dispose()},InspectorPopup.prototype.onPopoverKeyDown=function(ev){"Enter"===ev.key&&$(ev.currentTarget).trigger("close.oc.popover")},InspectorPopup.prototype.onPopupEditorDisplayed=function(){this.popoverObj.options.closeOnPageClick=!1,this.popoverObj.options.closeOnEsc=!1},InspectorPopup.prototype.onPopupEditorHidden=function(){this.popoverObj.options.closeOnPageClick=!0,this.popoverObj.options.closeOnEsc=!0},InspectorPopup.prototype.onCheckDocumentClickTarget=function(element){if($.contains(this.$element,element)||this.$element.get(0)===element)return!0},InspectorPopup.prototype.onMoveToContainer=function(){$.oc.inspector.manager.switchToContainer(this)},$.oc.inspector.wrappers.popup=InspectorPopup}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.wrappers.base,BaseProto=Base.prototype,InspectorContainer=function($element,surface,options){if(!options.container)throw new Error("Cannot create Inspector container wrapper without a container element.");this.surfaceContainer=null,Base.call(this,$element,surface,options)};(InspectorContainer.prototype=Object.create(BaseProto)).constructor=Base,InspectorContainer.prototype.init=function(){this.registerHandlers(),BaseProto.init.call(this)},InspectorContainer.prototype.dispose=function(){this.unregisterHandlers(),this.removeControls(),this.surfaceContainer=null,BaseProto.dispose.call(this)},InspectorContainer.prototype.createSurfaceAndUi=function(properties,values){this.buildUi(),this.initSurface(this.surfaceContainer,properties,values),this.isLiveUpdateEnabled()&&(this.surface.options.onChange=this.proxy(this.onLiveUpdate))},InspectorContainer.prototype.adoptSurface=function(){this.buildUi(),this.surface.moveToContainer(this.surfaceContainer),this.isLiveUpdateEnabled()&&(this.surface.options.onChange=this.proxy(this.onLiveUpdate)),BaseProto.adoptSurface.call(this)},InspectorContainer.prototype.buildUi=function(){var scrollable=this.isScrollable(),head=this.buildHead(),layoutElements=this.buildLayout();if(layoutElements.headContainer.appendChild(head),scrollable){var scrollpad=this.buildScrollpad();this.surfaceContainer=scrollpad.container,layoutElements.bodyContainer.appendChild(scrollpad.scrollpad),$(scrollpad.scrollpad).scrollpad()}else this.surfaceContainer=layoutElements.bodyContainer;this.setInspectorVisibleFlag(!0)},InspectorContainer.prototype.buildHead=function(){var container=document.createElement("div"),header=document.createElement("h3"),paragraph=document.createElement("p"),detachButton=document.createElement("span"),closeButton=document.createElement("span");return container.setAttribute("class","inspector-header"),detachButton.setAttribute("class","oc-icon-external-link-square detach"),closeButton.setAttribute("class","close"),header.textContent=this.title,paragraph.textContent=this.description,closeButton.innerHTML="&times;",container.appendChild(header),container.appendChild(paragraph),container.appendChild(detachButton),container.appendChild(closeButton),container},InspectorContainer.prototype.buildScrollpad=function(){var scrollpad=document.createElement("div"),scrollWrapper=document.createElement("div"),scrollableContainer=document.createElement("div");return scrollpad.setAttribute("class","control-scrollpad"),scrollpad.setAttribute("data-control","scrollpad"),scrollWrapper.setAttribute("class","scroll-wrapper inspector-wrapper"),scrollpad.appendChild(scrollWrapper),scrollWrapper.appendChild(scrollableContainer),{scrollpad:scrollpad,container:scrollableContainer}},InspectorContainer.prototype.buildLayout=function(){var layout=document.createElement("div"),headRow=document.createElement("div"),bodyRow=document.createElement("div");return layout.setAttribute("class","flex-layout-column fill-container"),headRow.setAttribute("class","flex-layout-item fix"),bodyRow.setAttribute("class","flex-layout-item stretch relative"),layout.appendChild(headRow),layout.appendChild(bodyRow),this.options.container.get(0).appendChild(layout),$.oc.foundation.controlUtils.markDisposable(layout),this.registerLayoutHandlers(layout),{headContainer:headRow,bodyContainer:bodyRow}},InspectorContainer.prototype.validateAndApply=function(){return!!this.surface.validate()&&(this.applyValues(),!0)},InspectorContainer.prototype.isScrollable=function(){return void 0!==this.options.container.data("inspector-scrollable")},InspectorContainer.prototype.isLiveUpdateEnabled=function(){return void 0!==this.options.container.data("inspector-live-update")},InspectorContainer.prototype.getLayout=function(){return this.options.container.get(0).querySelector("div.flex-layout-column")},InspectorContainer.prototype.registerLayoutHandlers=function(layout){var $layout=$(layout);$layout.one("dispose-control",this.proxy(this.dispose)),$layout.on("click","span.close",this.proxy(this.onClose)),$layout.on("click","span.detach",this.proxy(this.onDetach))},InspectorContainer.prototype.registerHandlers=function(){this.options.container.on("apply.oc.inspector",this.proxy(this.onApplyValues)),this.options.container.on("beforeContainerHide.oc.inspector",this.proxy(this.onBeforeHide))},InspectorContainer.prototype.unregisterHandlers=function(){var $layout=$(this.getLayout());this.options.container.off("apply.oc.inspector",this.proxy(this.onApplyValues)),this.options.container.off("beforeContainerHide.oc.inspector",this.proxy(this.onBeforeHide)),$layout.off("dispose-control",this.proxy(this.dispose)),$layout.off("click","span.close",this.proxy(this.onClose)),$layout.off("click","span.detach",this.proxy(this.onDetach)),null!==this.surface&&this.surface.options.onChange===this.proxy(this.onLiveUpdate)&&(this.surface.options.onChange=null)},InspectorContainer.prototype.removeControls=function(){this.isScrollable()&&this.options.container.find(".control-scrollpad").scrollpad("dispose");var layout=this.getLayout();layout.parentNode.removeChild(layout)},InspectorContainer.prototype.onApplyValues=function(ev){if(!this.validateAndApply())return ev.preventDefault(),!1},InspectorContainer.prototype.onBeforeHide=function(ev){if(!this.triggerHiding())return ev.preventDefault(),!1},InspectorContainer.prototype.onClose=function(ev){return this.validateAndApply()&&this.triggerHiding()?(this.surface.dispose(),void this.dispose()):(ev.preventDefault(),!1)},InspectorContainer.prototype.onLiveUpdate=function(){this.applyValues(!0)},InspectorContainer.prototype.onDetach=function(){$.oc.inspector.manager.switchToPopup(this)},$.oc.inspector.wrappers.container=InspectorContainer}(window.jQuery),function($){"use strict";var GroupManager=function(controlId){this.controlId=controlId,this.rootGroup=null,this.cachedGroupStatuses=null};function getInspectorGroupStatuses(){var statuses=document.body.getAttribute("data-inspector-group-statuses");return null!==statuses?JSON.parse(statuses):{}}GroupManager.prototype.createGroup=function(groupId,parentGroup){var group=new Group(groupId);return parentGroup?(parentGroup.groups.push(group),group.parentGroup=parentGroup):this.rootGroup=group,group},GroupManager.prototype.getGroupIndex=function(group){return group.getGroupIndex()},GroupManager.prototype.isParentGroupExpanded=function(group){return!group.parentGroup||this.isGroupExpanded(group.parentGroup)},GroupManager.prototype.isGroupExpanded=function(group){if(!group.parentGroup)return!0;var groupIndex=this.getGroupIndex(group),statuses=this.readGroupStatuses();return void 0!==statuses[groupIndex]&&statuses[groupIndex]},GroupManager.prototype.setGroupStatus=function(groupIndex,expanded){var statuses=this.readGroupStatuses();statuses[groupIndex]=expanded,this.writeGroupStatuses(statuses)},GroupManager.prototype.readGroupStatuses=function(){if(null!==this.cachedGroupStatuses)return this.cachedGroupStatuses;var statuses=getInspectorGroupStatuses();return void 0!==statuses[this.controlId]?this.cachedGroupStatuses=statuses[this.controlId]:this.cachedGroupStatuses={},this.cachedGroupStatuses},GroupManager.prototype.writeGroupStatuses=function(updatedStatuses){var statuses=getInspectorGroupStatuses();statuses[this.controlId]=updatedStatuses,function(statuses){document.body.setAttribute("data-inspector-group-statuses",JSON.stringify(statuses))}(statuses),this.cachedGroupStatuses=updatedStatuses},GroupManager.prototype.findGroupByIndex=function(index){return this.rootGroup.findGroupByIndex(index)},GroupManager.prototype.findGroupRows=function(table,index,ignoreCollapsedSubgroups){var group=this.findGroupByIndex(index);if(!group)throw new Error("Cannot find the requested row group.");return group.findGroupRows(table,ignoreCollapsedSubgroups,this)},GroupManager.prototype.markGroupRowInvalid=function(group,table){for(var currentGroup=group;currentGroup;){var row=currentGroup.findGroupRow(table);row&&$.oc.foundation.element.addClass(row,"invalid"),currentGroup=currentGroup.parentGroup}},GroupManager.prototype.unmarkInvalidGroups=function(table){for(var rows=table.querySelectorAll("tr.invalid"),i=rows.length-1;i>=0;i--)$.oc.foundation.element.removeClass(rows[i],"invalid")},GroupManager.prototype.isRowVisible=function(table,rowGroupIndex){var group=this.findGroupByIndex(index);if(!group)throw new Error("Cannot find the requested row group.");for(var current=group;current;){if(!this.isGroupExpanded(current))return!1;current=current.parentGroup}return!0};var Group=function(groupId){this.groupId=groupId,this.parentGroup=null,this.groupIndex=null,this.groups=[]};Group.prototype.getGroupIndex=function(){if(null!==this.groupIndex)return this.groupIndex;for(var result="",current=this;current;)result=result.length>0?current.groupId+"-"+result:String(current.groupId),current=current.parentGroup;return this.groupIndex=result,result},Group.prototype.findGroupByIndex=function(index){if(this.getGroupIndex()==index)return this;for(var i=this.groups.length-1;i>=0;i--){var groupResult=this.groups[i].findGroupByIndex(index);if(null!==groupResult)return groupResult}return null},Group.prototype.getLevel=function(){for(var current=this,level=-1;current;)level++,current=current.parentGroup;return level},Group.prototype.getGroupAndAllParents=function(){for(var current=this,result=[];current;)result.push(current),current=current.parentGroup;return result},Group.prototype.findGroupRows=function(table,ignoreCollapsedSubgroups,groupManager){for(var groupIndex=this.getGroupIndex(),rows=table.querySelectorAll('tr[data-parent-group-index="'+groupIndex+'"]'),result=Array.prototype.slice.call(rows),i=0,len=this.groups.length;i<len;i++){var subgroup=this.groups[i];if(!ignoreCollapsedSubgroups||groupManager.isGroupExpanded(subgroup))for(var subgroupRows=subgroup.findGroupRows(table,ignoreCollapsedSubgroups,groupManager),j=0,subgroupLen=subgroupRows.length;j<subgroupLen;j++)result.push(subgroupRows[j])}return result},Group.prototype.findGroupRow=function(table){return table.querySelector('tr[data-group-index="'+this.groupIndex+'"]')},$.oc.inspector.groupManager=GroupManager}(window.jQuery),function($){"use strict";function findGroup(group,properties){for(var i=0,len=properties.length;i<len;i++){var property=properties[i];if(void 0!==property.itemType&&"group"==property.itemType&&property.title==group)return property}return null}void 0===$.oc&&($.oc={}),void 0===$.oc.inspector&&($.oc.inspector={}),$.oc.inspector.engine={},$.oc.inspector.engine.processPropertyGroups=function(properties){for(var fields=[],result={hasGroups:!1,properties:[]},groupIndex=0,i=0,len=properties.length;i<len;i++){void 0===(property=properties[i]).sortOrder&&(property.sortOrder=20*(i+1))}properties.sort((function(a,b){return a.sortOrder-b.sortOrder}));for(i=0,len=properties.length;i<len;i++){if((property=properties[i]).itemType="property",void 0===property.group)fields.push(property);else{var group=findGroup(property.group,fields);group||(group={itemType:"group",title:property.group,properties:[],groupIndex:groupIndex},groupIndex++,fields.push(group)),property.groupIndex=group.groupIndex,group.properties.push(property)}}for(i=0,len=fields.length;i<len;i++){var property=fields[i];if(result.properties.push(property),"group"==property.itemType){result.hasGroups=!0;for(var j=0,propertiesLen=property.properties.length;j<propertiesLen;j++)result.properties.push(property.properties[j]);delete property.properties}}return result}}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.inspector&&($.oc.inspector={}),void 0===$.oc.inspector.propertyEditors&&($.oc.inspector.propertyEditors={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,BaseEditor=function(inspector,propertyDefinition,containerCell,group){this.inspector=inspector,this.propertyDefinition=propertyDefinition,this.containerCell=containerCell,this.containerRow=containerCell.parentNode,this.parentGroup=group,this.group=null,this.childInspector=null,this.validationSet=null,this.disposed=!1,Base.call(this),this.init()};(BaseEditor.prototype=Object.create(BaseProto)).constructor=Base,BaseEditor.prototype.dispose=function(){this.disposed=!0,this.disposeValidation(),this.childInspector&&this.childInspector.dispose(),this.inspector=null,this.propertyDefinition=null,this.containerCell=null,this.containerRow=null,this.childInspector=null,this.parentGroup=null,this.group=null,this.validationSet=null,BaseProto.dispose.call(this)},BaseEditor.prototype.init=function(){this.build(),this.registerHandlers(),this.initValidation()},BaseEditor.prototype.build=function(){return null},BaseEditor.prototype.isDisposed=function(){return this.disposed},BaseEditor.prototype.registerHandlers=function(){},BaseEditor.prototype.onInspectorPropertyChanged=function(property,value){},BaseEditor.prototype.notifyChildSurfacesPropertyChanged=function(property,value){this.hasChildSurface()&&this.childInspector.notifyEditorsPropertyChanged(property,value)},BaseEditor.prototype.focus=function(){},BaseEditor.prototype.hasChildSurface=function(){return null!==this.childInspector},BaseEditor.prototype.getRootSurface=function(){return this.inspector.getRootSurface()},BaseEditor.prototype.getPropertyPath=function(){return this.inspector.getPropertyPath(this.propertyDefinition.property)},BaseEditor.prototype.updateDisplayedValue=function(value){},BaseEditor.prototype.getPropertyName=function(){return this.propertyDefinition.property},BaseEditor.prototype.getUndefinedValue=function(){return void 0===this.propertyDefinition.default?void 0:this.propertyDefinition.default},BaseEditor.prototype.throwError=function(errorMessage){throw new Error(errorMessage+" Property: "+this.propertyDefinition.property)},BaseEditor.prototype.getInspectableElement=function(){return this.getRootSurface().getInspectableElement()},BaseEditor.prototype.isEmptyValue=function(value){return null==value||"object"==typeof value&&$.isEmptyObject(value)||"string"==typeof value&&0===$.trim(value).length||"[object Array]"===Object.prototype.toString.call(value)&&0===value.length},BaseEditor.prototype.initValidation=function(){this.validationSet=new $.oc.inspector.validationSet(this.propertyDefinition,this.propertyDefinition.property)},BaseEditor.prototype.disposeValidation=function(){this.validationSet.dispose()},BaseEditor.prototype.getValueToValidate=function(){return this.inspector.getPropertyValue(this.propertyDefinition.property)},BaseEditor.prototype.validate=function(silentMode){var value=this.getValueToValidate();void 0===value&&(value=this.getUndefinedValue());var validationResult=this.validationSet.validate(value);return null===validationResult||(silentMode||$.oc.flashMsg({text:validationResult,class:"error",interval:5}),!1)},BaseEditor.prototype.markInvalid=function(){$.oc.foundation.element.addClass(this.containerRow,"invalid"),this.inspector.getGroupManager().markGroupRowInvalid(this.parentGroup,this.inspector.getRootTable()),this.inspector.getRootSurface().expandGroupParents(this.parentGroup),this.focus()},BaseEditor.prototype.supportsExternalParameterEditor=function(){return!0},BaseEditor.prototype.onExternalPropertyEditorHidden=function(){},BaseEditor.prototype.isGroupedEditor=function(){return!1},BaseEditor.prototype.initControlGroup=function(){this.group=this.inspector.getGroupManager().createGroup(this.propertyDefinition.property,this.parentGroup)},BaseEditor.prototype.createGroupedRow=function(property){var row=this.inspector.buildRow(property,this.group),groupedClass=this.inspector.getGroupManager().isGroupExpanded(this.group)?"expanded":"collapsed";return this.inspector.applyGroupLevelToRow(row,this.group),$.oc.foundation.element.addClass(row,"property"),$.oc.foundation.element.addClass(row,groupedClass),row},$.oc.inspector.propertyEditors.base=BaseEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,StringEditor=function(inspector,propertyDefinition,containerCell,group){Base.call(this,inspector,propertyDefinition,containerCell,group)};(StringEditor.prototype=Object.create(BaseProto)).constructor=Base,StringEditor.prototype.dispose=function(){this.unregisterHandlers(),BaseProto.dispose.call(this)},StringEditor.prototype.build=function(){var editor=document.createElement("input"),placeholder=void 0!==this.propertyDefinition.placeholder?this.propertyDefinition.placeholder:"",value=this.inspector.getPropertyValue(this.propertyDefinition.property);editor.setAttribute("type","text"),editor.setAttribute("class","string-editor"),editor.setAttribute("placeholder",placeholder),void 0===value&&(value=this.propertyDefinition.default),void 0===value&&(value=""),editor.value=value,$.oc.foundation.element.addClass(this.containerCell,"text"),this.containerCell.appendChild(editor)},StringEditor.prototype.updateDisplayedValue=function(value){this.getInput().value=value},StringEditor.prototype.getInput=function(){return this.containerCell.querySelector("input")},StringEditor.prototype.focus=function(){this.getInput().focus(),this.onInputFocus()},StringEditor.prototype.registerHandlers=function(){var input=this.getInput();input.addEventListener("focus",this.proxy(this.onInputFocus)),input.addEventListener("keyup",this.proxy(this.onInputKeyUp))},StringEditor.prototype.unregisterHandlers=function(){var input=this.getInput();input.removeEventListener("focus",this.proxy(this.onInputFocus)),input.removeEventListener("keyup",this.proxy(this.onInputKeyUp))},StringEditor.prototype.onInputFocus=function(ev){this.inspector.makeCellActive(this.containerCell)},StringEditor.prototype.onInputKeyUp=function(){var value=$.trim(this.getInput().value);this.inspector.setPropertyValue(this.propertyDefinition.property,value)},StringEditor.prototype.onExternalPropertyEditorHidden=function(){this.focus()},$.oc.inspector.propertyEditors.string=StringEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,CheckboxEditor=function(inspector,propertyDefinition,containerCell,group){Base.call(this,inspector,propertyDefinition,containerCell,group)};(CheckboxEditor.prototype=Object.create(BaseProto)).constructor=Base,CheckboxEditor.prototype.dispose=function(){this.unregisterHandlers(),BaseProto.dispose.call(this)},CheckboxEditor.prototype.build=function(){var editor=document.createElement("input"),container=document.createElement("div"),value=this.inspector.getPropertyValue(this.propertyDefinition.property),isChecked=(document.createElement("label"),!1),id=this.inspector.generateSequencedId();container.setAttribute("tabindex",0),container.setAttribute("class","form-check"),editor.setAttribute("type","checkbox"),editor.setAttribute("value","1"),editor.setAttribute("placeholder","placeholder"),editor.setAttribute("id",id),editor.setAttribute("class","form-check-input"),container.appendChild(editor),void 0===value?void 0!==this.propertyDefinition.default&&(isChecked=this.normalizeCheckedValue(this.propertyDefinition.default)):isChecked=this.normalizeCheckedValue(value),editor.checked=isChecked,this.containerCell.appendChild(container)},CheckboxEditor.prototype.normalizeCheckedValue=function(value){return"0"!=value&&"false"!=value&&value},CheckboxEditor.prototype.getInput=function(){return this.containerCell.querySelector("input")},CheckboxEditor.prototype.focus=function(){this.getInput().parentNode.focus()},CheckboxEditor.prototype.updateDisplayedValue=function(value){this.getInput().checked=this.normalizeCheckedValue(value)},CheckboxEditor.prototype.isEmptyValue=function(value){return 0===value||"0"===value||"false"===value||BaseProto.isEmptyValue.call(this,value)},CheckboxEditor.prototype.registerHandlers=function(){this.getInput().addEventListener("change",this.proxy(this.onInputChange))},CheckboxEditor.prototype.unregisterHandlers=function(){this.getInput().removeEventListener("change",this.proxy(this.onInputChange))},CheckboxEditor.prototype.onInputChange=function(){var isChecked=this.getInput().checked;this.inspector.setPropertyValue(this.propertyDefinition.property,isChecked?1:0)},$.oc.inspector.propertyEditors.checkbox=CheckboxEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,DropdownEditor=function(inspector,propertyDefinition,containerCell,group){this.indicatorContainer=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(DropdownEditor.prototype=Object.create(BaseProto)).constructor=Base,DropdownEditor.prototype.init=function(){this.dynamicOptions=!this.propertyDefinition.options,this.initialization=!1,BaseProto.init.call(this)},DropdownEditor.prototype.dispose=function(){this.unregisterHandlers(),this.destroyCustomSelect(),this.indicatorContainer=null,BaseProto.dispose.call(this)},DropdownEditor.prototype.build=function(){var select=document.createElement("select");$.oc.foundation.element.addClass(this.containerCell,"dropdown"),$.oc.foundation.element.addClass(select,"custom-select"),this.dynamicOptions||this.loadStaticOptions(select),this.containerCell.appendChild(select),this.initCustomSelect(),this.dynamicOptions&&this.loadDynamicOptions(!0)},DropdownEditor.prototype.formatSelectOption=function(state){if(!state.id)return state.text;var option=state.element,iconClass=option.getAttribute("data-icon"),imageSrc=option.getAttribute("data-image");return iconClass?'<i class="select-icon '+iconClass+'"></i> '+state.text:imageSrc?'<img class="select-image" src="'+imageSrc+'" alt="" /> '+state.text:state.text},DropdownEditor.prototype.createOption=function(select,title,value){var option=document.createElement("option");null!==title&&($.isArray(title)?(-1!==title[1].indexOf(".")?option.setAttribute("data-image",title[1]):option.setAttribute("data-icon",title[1]),option.textContent=title[0]):option.textContent=title),null!==value&&(option.value=value),select.appendChild(option)},DropdownEditor.prototype.createOptions=function(select,options){for(var value in options)this.createOption(select,options[value],value)},DropdownEditor.prototype.initCustomSelect=function(){var select=this.getSelect(),options={dropdownCssClass:"ocInspectorDropdown"};void 0!==this.propertyDefinition.emptyOption&&(options.placeholder=this.propertyDefinition.emptyOption),void 0!==this.propertyDefinition.placeholder&&(options.placeholder=this.propertyDefinition.placeholder),options.templateResult=this.formatSelectOption,options.templateSelection=this.formatSelectOption,options.escapeMarkup=function(m){return m},$(select).select2(options),Modernizr.touchevents||(this.indicatorContainer=$(".select2-container",this.containerCell),this.indicatorContainer.addClass("loading-indicator-container size-small"))},DropdownEditor.prototype.createPlaceholder=function(select){var placeholder=this.propertyDefinition.placeholder||this.propertyDefinition.emptyOption;void 0===placeholder||Modernizr.touchevents||this.createOption(select,null,null),void 0!==placeholder&&Modernizr.touchevents&&this.createOption(select,placeholder,null)},DropdownEditor.prototype.getSelect=function(){return this.containerCell.querySelector("select")},DropdownEditor.prototype.clearOptions=function(select){for(;select.firstChild;)select.removeChild(select.firstChild)},DropdownEditor.prototype.hasOptionValue=function(select,value){for(var options=select.children,i=0,len=options.length;i<len;i++)if(options[i].value==value)return!0;return!1},DropdownEditor.prototype.normalizeValue=function(value){if(!this.propertyDefinition.booleanValues)return value;var str=String(value);return 0===str.length?"":"true"===str},DropdownEditor.prototype.registerHandlers=function(){var select=this.getSelect();$(select).on("change",this.proxy(this.onSelectionChange))},DropdownEditor.prototype.onSelectionChange=function(){var select=this.getSelect();this.inspector.setPropertyValue(this.propertyDefinition.property,this.normalizeValue(select.value),this.initialization)},DropdownEditor.prototype.onInspectorPropertyChanged=function(property){if(this.propertyDefinition.depends&&-1!==this.propertyDefinition.depends.indexOf(property)){var dependencyValues=this.getDependencyValues();void 0!==this.prevDependencyValues&&this.prevDependencyValues==dependencyValues||this.loadDynamicOptions()}},DropdownEditor.prototype.onExternalPropertyEditorHidden=function(){this.dynamicOptions&&this.loadDynamicOptions(!1)},DropdownEditor.prototype.updateDisplayedValue=function(value){this.getSelect().value=value},DropdownEditor.prototype.getUndefinedValue=function(){if(void 0!==this.propertyDefinition.default)return this.propertyDefinition.default;if(void 0===this.propertyDefinition.placeholder){var select=this.getSelect();return select?this.normalizeValue(select.value):void 0}},DropdownEditor.prototype.isEmptyValue=function(value){return this.propertyDefinition.booleanValues?""===value:BaseProto.isEmptyValue.call(this,value)},DropdownEditor.prototype.destroyCustomSelect=function(){var $select=$(this.getSelect());null!=$select.data("select2")&&$select.select2("destroy")},DropdownEditor.prototype.unregisterHandlers=function(){var select=this.getSelect();$(select).off("change",this.proxy(this.onSelectionChange))},DropdownEditor.prototype.loadStaticOptions=function(select){var value=this.inspector.getPropertyValue(this.propertyDefinition.property);this.createPlaceholder(select),this.createOptions(select,this.propertyDefinition.options),void 0===value&&(value=this.propertyDefinition.default),select.value=value},DropdownEditor.prototype.loadDynamicOptions=function(initialization){var currentValue=this.inspector.getPropertyValue(this.propertyDefinition.property),data=this.getRootSurface().getValues(),self=this,$form=$(this.getSelect()).closest("form"),dependents=this.inspector.findDependentProperties(this.propertyDefinition.property);void 0===currentValue&&(currentValue=this.propertyDefinition.default);var callback=function(data){if(self.hideLoadingIndicator(),self.optionsRequestDone(data,currentValue,!0),dependents.length>0)for(var i in dependents){var editor=self.inspector.findPropertyEditor(dependents[i]);editor&&"function"==typeof editor.onInspectorPropertyChanged&&editor.onInspectorPropertyChanged(self.propertyDefinition.property)}};this.propertyDefinition.depends&&this.saveDependencyValues(),data.inspectorProperty=this.getPropertyPath(),data.inspectorClassName=this.inspector.options.inspectorClass,this.showLoadingIndicator(),!1!==this.triggerGetOptions(data,callback)&&$form.request("onInspectableGetOptions",{data:data}).done(callback).always(this.proxy(this.hideLoadingIndicator))},DropdownEditor.prototype.triggerGetOptions=function(values,callback){var $inspectable=this.getInspectableElement();if(!$inspectable)return!0;var optionsEvent=$.Event("dropdownoptions.oc.inspector");return $inspectable.trigger(optionsEvent,[{values:values,callback:callback,property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!optionsEvent.isDefaultPrevented()},DropdownEditor.prototype.saveDependencyValues=function(){this.prevDependencyValues=this.getDependencyValues()},DropdownEditor.prototype.getDependencyValues=function(){for(var result="",i=0,len=this.propertyDefinition.depends.length;i<len;i++){var property=this.propertyDefinition.depends[i],value=this.inspector.getPropertyValue(property);void 0===value&&(value=""),result+=property+":"+value+"-"}return result},DropdownEditor.prototype.showLoadingIndicator=function(){Modernizr.touchevents||this.indicatorContainer.loadIndicator()},DropdownEditor.prototype.hideLoadingIndicator=function(){this.isDisposed()||Modernizr.touchevents||(this.indicatorContainer.loadIndicator("hide"),this.indicatorContainer.loadIndicator("destroy"))},DropdownEditor.prototype.optionsRequestDone=function(data,currentValue,initialization){if(!this.isDisposed()){var select=this.getSelect();if(this.destroyCustomSelect(),this.clearOptions(select),this.initCustomSelect(),this.createPlaceholder(select),data.options)for(var i=0,len=data.options.length;i<len;i++)this.createOption(select,data.options[i].title,data.options[i].value);this.hasOptionValue(select,currentValue)?select.value=currentValue:select.selectedIndex=void 0===this.propertyDefinition.placeholder?0:-1,this.initialization=initialization,$(select).trigger("change"),this.initialization=!1}},$.oc.inspector.propertyEditors.dropdown=DropdownEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,PopupBase=function(inspector,propertyDefinition,containerCell,group){this.popup=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(PopupBase.prototype=Object.create(BaseProto)).constructor=Base,PopupBase.prototype.dispose=function(){this.unregisterHandlers(),this.popup=null,BaseProto.dispose.call(this)},PopupBase.prototype.build=function(){var link=document.createElement("a");$.oc.foundation.element.addClass(link,"trigger"),link.setAttribute("href","#"),this.setLinkText(link),$.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(link)},PopupBase.prototype.setLinkText=function(link,value){},PopupBase.prototype.getPopupContent=function(){return'<form>                                                                                                  <div class="modal-header">                                                                                  <h4 class="modal-title">{{property}}</h4>                                                               <button type="button" class="btn-close" data-dismiss="popup"></button>                              </div>                                                                                                  <div class="modal-body">                                                                                    <div class="form-group">                                                                                </div>                                                                                              </div>                                                                                                  <div class="modal-footer">                                                                                  <button type="submit" class="btn btn-primary">OK</button>                                               <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                  </div>                                                                                                  </form>'},PopupBase.prototype.updateDisplayedValue=function(value){this.setLinkText(this.getLink(),value)},PopupBase.prototype.registerHandlers=function(){var link=this.getLink(),$link=$(link);link.addEventListener("click",this.proxy(this.onTriggerClick)),$link.on("shown.oc.popup",this.proxy(this.onPopupShown)),$link.on("hidden.oc.popup",this.proxy(this.onPopupHidden))},PopupBase.prototype.unregisterHandlers=function(){var link=this.getLink(),$link=$(link);link.removeEventListener("click",this.proxy(this.onTriggerClick)),$link.off("shown.oc.popup",this.proxy(this.onPopupShown)),$link.off("hidden.oc.popup",this.proxy(this.onPopupHidden))},PopupBase.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},PopupBase.prototype.configurePopup=function(popup){},PopupBase.prototype.handleSubmit=function($form){},PopupBase.prototype.hidePopup=function(){$(this.getLink()).popup("hide")},PopupBase.prototype.onTriggerClick=function(ev){$.oc.foundation.event.stop(ev);var content=this.getPopupContent();return content=content.replace("{{property}}",this.propertyDefinition.title),$(ev.target).popup({content:content}),!1},PopupBase.prototype.onPopupShown=function(ev,link,popup){$(popup).on("submit.inspector","form",this.proxy(this.onSubmit)),this.popup=popup.get(0),this.configurePopup(popup),this.getRootSurface().popupDisplayed()},PopupBase.prototype.onPopupHidden=function(ev,link,popup){$(popup).off(".inspector","form",this.proxy(this.onSubmit)),this.popup=null,this.getRootSurface().popupHidden()},PopupBase.prototype.onSubmit=function(ev){return ev.preventDefault(),!1===this.handleSubmit($(ev.target))||(this.setLinkText(this.getLink()),this.hidePopup()),!1},$.oc.inspector.propertyEditors.popupBase=PopupBase}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.popupBase,BaseProto=Base.prototype,TextEditor=function(inspector,propertyDefinition,containerCell,group){Base.call(this,inspector,propertyDefinition,containerCell,group)};(TextEditor.prototype=Object.create(BaseProto)).constructor=Base,TextEditor.prototype.setLinkText=function(link,value){void 0===(value=void 0!==value?value:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(value=this.propertyDefinition.default),value?$.oc.foundation.element.removeClass(link,"cell-placeholder"):(value=this.propertyDefinition.placeholder,$.oc.foundation.element.addClass(link,"cell-placeholder")),"string"==typeof value&&(value=value.replace(/(?:\r\n|\r|\n)/g," "),value=(value=$.trim(value)).substring(0,300)),link.textContent=value},TextEditor.prototype.getPopupContent=function(){return'<form>                                                                                                   <div class="modal-header">                                                                                   <h4 class="modal-title">{{property}}</h4>                                                                <button type="button" class="btn-close" data-dismiss="popup"></button>                               </div>                                                                                                   <div class="modal-body">                                                                                     <div class="form-group">                                                                                     <p class="inspector-field-comment"></p>                                                                  <textarea class="form-control size-small field-textarea" name="name"></textarea>                     </div>                                                                                               </div>                                                                                                   <div class="modal-footer">                                                                                   <button type="submit" class="btn btn-primary">OK</button>                                                <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                   </div>                                                                                                   </form>'},TextEditor.prototype.configureComment=function(popup){this.propertyDefinition.description&&$(popup).find("p.inspector-field-comment").text(this.propertyDefinition.description)},TextEditor.prototype.configurePopup=function(popup){var $textarea=$(popup).find("textarea"),value=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.placeholder&&$textarea.attr("placeholder",this.propertyDefinition.placeholder),void 0===value&&(value=this.propertyDefinition.default),$textarea.val(value),$textarea.focus(),this.configureComment(popup)},TextEditor.prototype.handleSubmit=function($form){var $textarea=$form.find("textarea"),value=(this.getLink(),$.trim($textarea.val()));this.inspector.setPropertyValue(this.propertyDefinition.property,value)},$.oc.inspector.propertyEditors.text=TextEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,SetEditor=function(inspector,propertyDefinition,containerCell,group){this.editors=[],this.loadedItems=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(SetEditor.prototype=Object.create(BaseProto)).constructor=Base,SetEditor.prototype.init=function(){this.initControlGroup(),BaseProto.init.call(this)},SetEditor.prototype.dispose=function(){this.disposeEditors(),this.disposeControls(),this.editors=null,BaseProto.dispose.call(this)},SetEditor.prototype.build=function(){var link=document.createElement("a");$.oc.foundation.element.addClass(link,"trigger"),link.setAttribute("href","#"),this.setLinkText(link),$.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(link),void 0!==this.propertyDefinition.items?this.loadStaticItems():this.loadDynamicItems()},SetEditor.prototype.loadStaticItems=function(){var itemArray=[];for(var itemValue in this.propertyDefinition.items)itemArray.push({value:itemValue,title:this.propertyDefinition.items[itemValue]});for(var i=itemArray.length-1;i>=0;i--)this.buildItemEditor(itemArray[i].value,itemArray[i].title)},SetEditor.prototype.setLinkText=function(link,value){var text="[ ]";if(void 0===(value=null!=value?value:this.getNormalizedValue())&&(value=this.propertyDefinition.default),void 0!==value&&void 0!==value.length&&value.length>0&&"string"!=typeof value){for(var textValues=[],i=0,len=value.length;i<len;i++)textValues.push(this.valueToText(value[i]));text="["+textValues.join(", ")+"]",$.oc.foundation.element.removeClass(link,"cell-placeholder")}else("string"==typeof(text=this.propertyDefinition.placeholder)&&0==text.length||void 0===text)&&(text="[ ]"),$.oc.foundation.element.addClass(link,"cell-placeholder");link.textContent=text},SetEditor.prototype.buildItemEditor=function(value,text){var property={title:text,itemType:"property",groupIndex:this.group.getGroupIndex()},newRow=this.createGroupedRow(property),currentRow=this.containerCell.parentNode,tbody=this.containerCell.parentNode.parentNode,cell=document.createElement("td");this.buildCheckbox(cell,value,text),newRow.appendChild(cell),tbody.insertBefore(newRow,currentRow.nextSibling)},SetEditor.prototype.buildCheckbox=function(cell,value,title){var property={property:value,title:title,default:this.isCheckedByDefault(value)},editor=new $.oc.inspector.propertyEditors.checkbox(this,property,cell,this.group);this.editors.push[editor]},SetEditor.prototype.isCheckedByDefault=function(value){return!!this.propertyDefinition.default&&this.propertyDefinition.default.indexOf(value)>-1},SetEditor.prototype.showLoadingIndicator=function(){$(this.getLink()).loadIndicator()},SetEditor.prototype.hideLoadingIndicator=function(){if(!this.isDisposed()){var $link=$(this.getLink());$link.loadIndicator("hide"),$link.loadIndicator("destroy")}},SetEditor.prototype.loadDynamicItems=function(){var link=this.getLink(),data=this.inspector.getValues(),$form=$(link).closest("form");$.oc.foundation.element.addClass(link,"loading-indicator-container size-small"),this.showLoadingIndicator(),data.inspectorProperty=this.getPropertyPath(),data.inspectorClassName=this.inspector.options.inspectorClass,$form.request("onInspectableGetOptions",{data:data}).done(this.proxy(this.itemsRequestDone)).always(this.proxy(this.hideLoadingIndicator))},SetEditor.prototype.itemsRequestDone=function(data,currentValue,initialization){if(!this.isDisposed()){if(this.loadedItems={},data.options)for(var i=data.options.length-1;i>=0;i--)this.buildItemEditor(data.options[i].value,data.options[i].title),this.loadedItems[data.options[i].value]=data.options[i].title;this.setLinkText(this.getLink())}},SetEditor.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},SetEditor.prototype.getItemsSource=function(){return void 0!==this.propertyDefinition.items?this.propertyDefinition.items:this.loadedItems},SetEditor.prototype.valueToText=function(value){var source=this.getItemsSource();if(!source)return value;for(var itemValue in source)if(itemValue==value)return source[itemValue];return value},SetEditor.prototype.cleanUpValue=function(value){if(!value)return value;for(var result=[],source=this.getItemsSource(),i=0,len=value.length;i<len;i++){var currentValue=value[i];void 0!==source[currentValue]&&result.push(currentValue)}return result},SetEditor.prototype.getNormalizedValue=function(){var value=this.inspector.getPropertyValue(this.propertyDefinition.property);return null===value&&(value=void 0),void 0===value||void 0!==value.length&&"string"!=typeof value?value:void 0},SetEditor.prototype.supportsExternalParameterEditor=function(){return!1},SetEditor.prototype.isGroupedEditor=function(){return!0},SetEditor.prototype.getPropertyValue=function(checkboxValue){var value=this.getNormalizedValue();return void 0===value?this.isCheckedByDefault(checkboxValue):!!value&&value.indexOf(checkboxValue)>-1},SetEditor.prototype.setPropertyValue=function(checkboxValue,isChecked){var currentValue=this.getNormalizedValue();void 0===currentValue&&(currentValue=this.propertyDefinition.default),currentValue||(currentValue=[]);var resultValue=[],items=this.getItemsSource();for(var itemValue in items)itemValue!==checkboxValue?-1!==currentValue.indexOf(itemValue)&&resultValue.push(itemValue):isChecked&&resultValue.push(itemValue);this.inspector.setPropertyValue(this.propertyDefinition.property,this.cleanUpValue(resultValue)),this.setLinkText(this.getLink())},SetEditor.prototype.generateSequencedId=function(){return this.inspector.generateSequencedId()},SetEditor.prototype.disposeEditors=function(){for(var i=0,len=this.editors.length;i<len;i++){this.editors[i].dispose()}},SetEditor.prototype.disposeControls=function(){var link=this.getLink();void 0===this.propertyDefinition.items&&$(link).loadIndicator("destroy"),link.parentNode.removeChild(link)},$.oc.inspector.propertyEditors.set=SetEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,ObjectListEditor=function(inspector,propertyDefinition,containerCell,group){if(this.currentRowInspector=null,this.popup=null,void 0===propertyDefinition.titleProperty)throw new Error("The titleProperty property should be specified in the objectList editor configuration. Property: "+propertyDefinition.property);if(void 0===propertyDefinition.itemProperties)throw new Error("The itemProperties property should be specified in the objectList editor configuration. Property: "+propertyDefinition.property);Base.call(this,inspector,propertyDefinition,containerCell,group)};(ObjectListEditor.prototype=Object.create(BaseProto)).constructor=Base,ObjectListEditor.prototype.init=function(){if(this.isKeyValueMode()&&!this.getKeyProperty())throw new Error("Object list key property "+this.propertyDefinition.keyProperty+" is not defined in itemProperties. Property: "+this.propertyDefinition.property);BaseProto.init.call(this)},ObjectListEditor.prototype.dispose=function(){this.unregisterHandlers(),this.removeControls(),this.currentRowInspector=null,this.popup=null,BaseProto.dispose.call(this)},ObjectListEditor.prototype.supportsExternalParameterEditor=function(){return!1},ObjectListEditor.prototype.build=function(){var link=document.createElement("a");$.oc.foundation.element.addClass(link,"trigger"),link.setAttribute("href","#"),this.setLinkText(link),$.oc.foundation.element.addClass(this.containerCell,"trigger-cell"),this.containerCell.appendChild(link)},ObjectListEditor.prototype.setLinkText=function(link,value){if(null===(value=null!=value?value:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(value=void 0),void 0===value){var placeholder=this.propertyDefinition.placeholder;void 0!==placeholder?($.oc.foundation.element.addClass(link,"cell-placeholder"),link.textContent=placeholder):link.textContent="Items: 0"}else{var itemCount=0;if(this.isKeyValueMode()){if("object"!=typeof value)throw new Error("Object list value should be an object. Property: "+this.propertyDefinition.property);itemCount=this.getValueKeys(value).length}else{if(void 0===value.length)throw new Error("Object list value should be an array. Property: "+this.propertyDefinition.property);itemCount=value.length}$.oc.foundation.element.removeClass(link,"cell-placeholder"),link.textContent="Items: "+itemCount}},ObjectListEditor.prototype.getPopupContent=function(){return'<form>                                                                                                  <div class="modal-header">                                                                                  <h4 class="modal-title">{{property}}</h4>                                                               <button type="button" class="btn-close" data-dismiss="popup"></button>                              </div>                                                                                                  <div>                                                                                                       <div class="layout inspector-columns-editor">                                                               <div class="layout-row">                                                                                    <div class="layout-cell items-column">                                                                      <div class="layout-relative">                                                                               <div class="layout">                                                                                        <div class="layout-row min-size">                                                                           <div class="control-toolbar toolbar-padded">                                                                <div class="toolbar-item">                                                                                  <div class="btn-group">                                                                                     <button type="button" class="btn btn-primary                                                                oc-icon-plus"                                                                                           data-cmd="create-item">Add</button>                                                                 <button type="button" class="btn btn-default                                                                empty oc-icon-trash-o"                                                                                  data-cmd="delete-item"></button>                                                                </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="layout-row">                                                                                    <div class="layout-cell">                                                                                   <div class="layout-relative">                                                                               <div class="layout-absolute">                                                                               <div class="control-scrollpad"                                                                              data-control="scrollpad">                                                                               <div class="scroll-wrapper">                                                                                <table class="table data                                                                                    no-offset-bottom                                                                                        inspector-table-list">                                                                              </table>                                                                                            </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="layout-cell">                                                                                   <div class="layout-relative">                                                                               <div class="layout-absolute">                                                                               <div class="control-scrollpad" data-control="scrollpad">                                                    <div class="scroll-wrapper inspector-wrapper">                                                              <div data-inspector-container>                                                                          </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="modal-footer">                                                                                  <button type="submit" class="btn btn-primary">OK</button>                                               <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                  </div>                                                                                                  </form>'},ObjectListEditor.prototype.buildPopupContents=function(popup){this.buildItemsTable(popup)},ObjectListEditor.prototype.buildItemsTable=function(popup){var table=popup.querySelector("table"),tbody=document.createElement("tbody"),items=this.inspector.getPropertyValue(this.propertyDefinition.property),titleProperty=this.propertyDefinition.titleProperty;if(void 0===items||0===this.getValueKeys(items).length){var row=this.buildEmptyRow();tbody.appendChild(row)}else{var firstRow=void 0;for(var key in items){var item=items[key],itemInspectorValue=this.addKeyProperty(key,item),itemText=item[titleProperty];(row=this.buildTableRow(itemText,"rowlink")).setAttribute("data-inspector-values",JSON.stringify(itemInspectorValue)),tbody.appendChild(row),void 0===firstRow&&(firstRow=row)}}table.appendChild(tbody),void 0!==firstRow&&this.selectRow(firstRow,!0),this.updateScrollpads()},ObjectListEditor.prototype.buildEmptyRow=function(){return this.buildTableRow("No items found","no-data","nolink")},ObjectListEditor.prototype.removeEmptyRow=function(){var tbody=this.getTableBody(),row=tbody.querySelector("tr.no-data");row&&tbody.removeChild(row)},ObjectListEditor.prototype.buildTableRow=function(text,rowClass,cellClass){var row=document.createElement("tr"),cell=document.createElement("td");return cell.textContent=text,void 0!==rowClass&&$.oc.foundation.element.addClass(row,rowClass),void 0!==cellClass&&$.oc.foundation.element.addClass(cell,cellClass),row.appendChild(cell),row},ObjectListEditor.prototype.updateScrollpads=function(){$(".control-scrollpad",this.popup).scrollpad("update")},ObjectListEditor.prototype.selectRow=function(row,forceSelect){row.parentNode;var inspectorContainer=this.getInspectorContainer(),selectedRow=this.getSelectedRow();if(selectedRow!==row||forceSelect){if(selectedRow){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(selectedRow),$.oc.foundation.element.removeClass(selectedRow,"active")}this.disposeInspector(),$.oc.foundation.element.addClass(row,"active"),this.createInspectorForRow(row,inspectorContainer)}},ObjectListEditor.prototype.createInspectorForRow=function(row,inspectorContainer){var dataStr=row.getAttribute("data-inspector-values");if(void 0===dataStr||"string"!=typeof dataStr)throw new Error("Values not found for the selected row.");var properties=this.propertyDefinition.itemProperties,values=JSON.parse(dataStr),options={enableExternalParameterEditor:!1,onChange:this.proxy(this.onInspectorDataChange),inspectorClass:this.inspector.options.inspectorClass};this.currentRowInspector=new $.oc.inspector.surface(inspectorContainer,properties,values,$.oc.inspector.helpers.generateElementUniqueId(inspectorContainer),options)},ObjectListEditor.prototype.disposeInspector=function(){$.oc.foundation.controlUtils.disposeControls(this.popup.querySelector("[data-inspector-container]")),this.currentRowInspector=null},ObjectListEditor.prototype.applyDataToRow=function(row){if(null!==this.currentRowInspector){var data=this.currentRowInspector.getValues();row.setAttribute("data-inspector-values",JSON.stringify(data))}},ObjectListEditor.prototype.updateRowText=function(property,value){var selectedRow=this.getSelectedRow();if(!selectedRow)throw new Exception("A row is not found for the updated data");property===this.propertyDefinition.titleProperty&&(0===(value=$.trim(value)).length?(value="[No title]",$.oc.foundation.element.addClass(selectedRow,"disabled")):$.oc.foundation.element.removeClass(selectedRow,"disabled"),selectedRow.firstChild.textContent=value)},ObjectListEditor.prototype.getSelectedRow=function(){if(!this.popup)throw new Error("Trying to get selected row without a popup reference.");for(var rows=this.getTableBody().children,i=0,len=rows.length;i<len;i++)if($.oc.foundation.element.hasClass(rows[i],"active"))return rows[i];return null},ObjectListEditor.prototype.createItem=function(){var selectedRow=this.getSelectedRow();if(selectedRow){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(selectedRow),$.oc.foundation.element.removeClass(selectedRow,"active")}this.disposeInspector();var row=this.buildTableRow("New item","rowlink active"),tbody=this.getTableBody(),data={};data[this.propertyDefinition.titleProperty]="New item",row.setAttribute("data-inspector-values",JSON.stringify(data)),tbody.appendChild(row),this.selectRow(row,!0),this.removeEmptyRow(),this.updateScrollpads()},ObjectListEditor.prototype.deleteItem=function(){var selectedRow=this.getSelectedRow();if(selectedRow){var nextRow=selectedRow.nextElementSibling,prevRow=selectedRow.previousElementSibling,tbody=this.getTableBody();this.disposeInspector(),tbody.removeChild(selectedRow);var newSelectedRow=nextRow||prevRow;newSelectedRow?this.selectRow(newSelectedRow):tbody.appendChild(this.buildEmptyRow()),this.updateScrollpads()}},ObjectListEditor.prototype.applyDataToParentInspector=function(){var selectedRow=this.getSelectedRow(),dataRows=this.getTableBody().querySelectorAll("tr[data-inspector-values]"),link=this.getLink(),result=this.getEmptyValue();if(selectedRow){if(!this.validateKeyValue())return;if(this.currentRowInspector&&!this.currentRowInspector.validate())return;this.applyDataToRow(selectedRow)}for(var i=0,len=dataRows.length;i<len;i++){var dataRow=dataRows[i],rowData=JSON.parse(dataRow.getAttribute("data-inspector-values"));if(this.isKeyValueMode())result[rowData[this.propertyDefinition.keyProperty]]=this.removeKeyProperty(rowData);else result.push(rowData)}return this.inspector.setPropertyValue(this.propertyDefinition.property,result),this.setLinkText(link,result),$(link).popup("hide"),!1},ObjectListEditor.prototype.validateKeyValue=function(){if(!this.isKeyValueMode())return!0;if(null===this.currentRowInspector)return!0;var data=this.currentRowInspector.getValues(),keyProperty=this.propertyDefinition.keyProperty;if(void 0===data[keyProperty])throw new Error("Key property "+keyProperty+" is not found in the Inspector data. Property: "+this.propertyDefinition.property);var keyPropertyValue=data[keyProperty],keyPropertyTitle=this.getKeyProperty().title;if("string"!=typeof keyPropertyValue)throw new Error("Key property ("+keyProperty+") value should be a string. Property: "+this.propertyDefinition.property);if(0===$.trim(keyPropertyValue).length)return $.oc.flashMsg({text:"The value of key property "+keyPropertyTitle+" cannot be empty.",class:"error",interval:3}),!1;for(var selectedRow=this.getSelectedRow(),dataRows=this.getTableBody().querySelectorAll("tr[data-inspector-values]"),i=0,len=dataRows.length;i<len;i++){var dataRow=dataRows[i],rowData=JSON.parse(dataRow.getAttribute("data-inspector-values"));if(selectedRow!=dataRow&&rowData[keyProperty]==keyPropertyValue)return $.oc.flashMsg({text:"The value of key property "+keyPropertyTitle+" should be unique.",class:"error",interval:3}),!1}return!0},ObjectListEditor.prototype.getLink=function(){return this.containerCell.querySelector("a.trigger")},ObjectListEditor.prototype.getPopupFormElement=function(){var form=this.popup.querySelector("form");return form||this.throwError("Cannot find form element in the popup window."),form},ObjectListEditor.prototype.getInspectorContainer=function(){return this.popup.querySelector("div[data-inspector-container]")},ObjectListEditor.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-table-list tbody")},ObjectListEditor.prototype.isKeyValueMode=function(){return void 0!==this.propertyDefinition.keyProperty},ObjectListEditor.prototype.getKeyProperty=function(){for(var i=0,len=this.propertyDefinition.itemProperties.length;i<len;i++){var property=this.propertyDefinition.itemProperties[i];if(property.property==this.propertyDefinition.keyProperty)return property}},ObjectListEditor.prototype.getValueKeys=function(value){var result=[];for(var key in value)result.push(key);return result},ObjectListEditor.prototype.addKeyProperty=function(key,value){return this.isKeyValueMode()?(value[this.propertyDefinition.keyProperty]=key,value):value},ObjectListEditor.prototype.removeKeyProperty=function(value){if(!this.isKeyValueMode())return value;var result=value;return void 0!==result[this.propertyDefinition.keyProperty]&&delete result[this.propertyDefinition.keyProperty],result},ObjectListEditor.prototype.getEmptyValue=function(){return this.isKeyValueMode()?{}:[]},ObjectListEditor.prototype.registerHandlers=function(){var link=this.getLink(),$link=$(link);link.addEventListener("click",this.proxy(this.onTriggerClick)),$link.on("shown.oc.popup",this.proxy(this.onPopupShown)),$link.on("hidden.oc.popup",this.proxy(this.onPopupHidden))},ObjectListEditor.prototype.unregisterHandlers=function(){var link=this.getLink(),$link=$(link);link.removeEventListener("click",this.proxy(this.onTriggerClick)),$link.off("shown.oc.popup",this.proxy(this.onPopupShown)),$link.off("hidden.oc.popup",this.proxy(this.onPopupHidden))},ObjectListEditor.prototype.onTriggerClick=function(ev){$.oc.foundation.event.stop(ev);var content=this.getPopupContent();return content=content.replace("{{property}}",this.propertyDefinition.title),$(ev.target).popup({content:content}),!1},ObjectListEditor.prototype.onPopupShown=function(ev,link,popup){$(popup).on("submit.inspector","form",this.proxy(this.onSubmit)),$(popup).on("click","tr.rowlink",this.proxy(this.onRowClick)),$(popup).on("click.inspector","[data-cmd]",this.proxy(this.onCommand)),this.popup=popup.get(0),this.buildPopupContents(this.popup),this.getRootSurface().popupDisplayed()},ObjectListEditor.prototype.onPopupHidden=function(ev,link,popup){$(popup).off(".inspector",this.proxy(this.onSubmit)),$(popup).off("click","tr.rowlink",this.proxy(this.onRowClick)),$(popup).off("click.inspector","[data-cmd]",this.proxy(this.onCommand)),this.disposeInspector(),$.oc.foundation.controlUtils.disposeControls(this.popup),this.popup=null,this.getRootSurface().popupHidden()},ObjectListEditor.prototype.onSubmit=function(ev){return this.applyDataToParentInspector(),ev.preventDefault(),!1},ObjectListEditor.prototype.onRowClick=function(ev){this.selectRow(ev.currentTarget)},ObjectListEditor.prototype.onInspectorDataChange=function(property,value){this.updateRowText(property,value)},ObjectListEditor.prototype.onCommand=function(ev){switch(ev.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},ObjectListEditor.prototype.removeControls=function(){this.popup&&this.disposeInspector(this.popup)},$.oc.inspector.propertyEditors.objectList=ObjectListEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.base,BaseProto=Base.prototype,ObjectEditor=function(inspector,propertyDefinition,containerCell,group){void 0===propertyDefinition.properties&&this.throwError("The properties property should be specified in the object editor configuration."),Base.call(this,inspector,propertyDefinition,containerCell,group)};(ObjectEditor.prototype=Object.create(BaseProto)).constructor=Base,ObjectEditor.prototype.init=function(){this.initControlGroup(),BaseProto.init.call(this)},ObjectEditor.prototype.build=function(){var currentRow=this.containerCell.parentNode,inspectorContainer=document.createElement("div"),options={enableExternalParameterEditor:!1,onChange:this.proxy(this.onInspectorDataChange),inspectorClass:this.inspector.options.inspectorClass},values=this.inspector.getPropertyValue(this.propertyDefinition.property);void 0===values&&(values={}),this.childInspector=new $.oc.inspector.surface(inspectorContainer,this.propertyDefinition.properties,values,this.inspector.getInspectorUniqueId()+"-"+this.propertyDefinition.property,options,this.inspector,this.group,this.propertyDefinition.property),this.inspector.mergeChildSurface(this.childInspector,currentRow)},ObjectEditor.prototype.cleanUpValue=function(value){if(void 0!==value&&"object"==typeof value)return void 0===this.propertyDefinition.ignoreIfPropertyEmpty?value:this.getValueOrRemove(value)},ObjectEditor.prototype.getValueOrRemove=function(value){if(void 0===this.propertyDefinition.ignoreIfPropertyEmpty)return value;var targetValue=value[this.propertyDefinition.ignoreIfPropertyEmpty];return this.isEmptyValue(targetValue)?$.oc.inspector.removedProperty:value},ObjectEditor.prototype.supportsExternalParameterEditor=function(){return!1},ObjectEditor.prototype.isGroupedEditor=function(){return!0},ObjectEditor.prototype.getUndefinedValue=function(){for(var result={},i=0,len=this.propertyDefinition.properties.length;i<len;i++){var propertyName=this.propertyDefinition.properties[i].property,editor=this.childInspector.findPropertyEditor(propertyName);editor&&(result[propertyName]=editor.getUndefinedValue())}return this.getValueOrRemove(result)},ObjectEditor.prototype.validate=function(silentMode){var values=this.childInspector.getValues();return this.cleanUpValue(values)===$.oc.inspector.removedProperty||this.childInspector.validate(silentMode)},ObjectEditor.prototype.onInspectorDataChange=function(property,value){var values=this.childInspector.getValues();this.inspector.setPropertyValue(this.propertyDefinition.property,this.cleanUpValue(values))},$.oc.inspector.propertyEditors.object=ObjectEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.text,BaseProto=Base.prototype,StringListEditor=function(inspector,propertyDefinition,containerCell,group){Base.call(this,inspector,propertyDefinition,containerCell,group)};(StringListEditor.prototype=Object.create(BaseProto)).constructor=Base,StringListEditor.prototype.setLinkText=function(link,value){void 0===(value=void 0!==value?value:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(value=this.propertyDefinition.default),this.checkValueType(value),value?($.oc.foundation.element.removeClass(link,"cell-placeholder"),link.textContent="["+value.join(", ")+"]"):(value=this.propertyDefinition.placeholder,$.oc.foundation.element.addClass(link,"cell-placeholder"),value||(value="[]"),link.textContent=value)},StringListEditor.prototype.checkValueType=function(value){value&&"[object Array]"!==Object.prototype.toString.call(value)&&this.throwError("The string list value should be an array.")},StringListEditor.prototype.configurePopup=function(popup){var $textarea=$(popup).find("textarea"),value=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.placeholder&&$textarea.attr("placeholder",this.propertyDefinition.placeholder),void 0===value&&(value=this.propertyDefinition.default),this.checkValueType(value),value&&value.length&&$textarea.val(value.join("\n")),$textarea.focus(),this.configureComment(popup)},StringListEditor.prototype.handleSubmit=function($form){var $textarea=$form.find("textarea"),value=(this.getLink(),$.trim($textarea.val())),arrayValue=[],resultValue=[];if(value.length)for(var i=0,len=(arrayValue=(value=value.replace(/\r\n/g,"\n")).split("\n")).length;i<len;i++){var currentValue=$.trim(arrayValue[i]);currentValue.length>0&&resultValue.push(currentValue)}this.inspector.setPropertyValue(this.propertyDefinition.property,resultValue)},$.oc.inspector.propertyEditors.stringList=StringListEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.popupBase,BaseProto=Base.prototype,StringListAutocomplete=function(inspector,propertyDefinition,containerCell,group){this.items=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(StringListAutocomplete.prototype=Object.create(BaseProto)).constructor=Base,StringListAutocomplete.prototype.dispose=function(){BaseProto.dispose.call(this)},StringListAutocomplete.prototype.init=function(){BaseProto.init.call(this)},StringListAutocomplete.prototype.supportsExternalParameterEditor=function(){return!1},StringListAutocomplete.prototype.setLinkText=function(link,value){void 0===(value=void 0!==value?value:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(value=this.propertyDefinition.default),this.checkValueType(value),value?($.oc.foundation.element.removeClass(link,"cell-placeholder"),link.textContent="["+value.join(", ")+"]"):(value=this.propertyDefinition.placeholder,$.oc.foundation.element.addClass(link,"cell-placeholder"),value||(value="[]"),link.textContent=value)},StringListAutocomplete.prototype.checkValueType=function(value){value&&"[object Array]"!==Object.prototype.toString.call(value)&&this.throwError("The string list value should be an array.")},StringListAutocomplete.prototype.getPopupContent=function(){return'<form>                                                                                                  <div class="modal-header">                                                                                  <h4 class="modal-title">{{property}}</h4>                                                               <button type="button" class="btn-close" data-dismiss="popup"></button>                              </div>                                                                                                  <div class="modal-body">                                                                                    <div class="control-toolbar">                                                                               <div class="toolbar-item">                                                                                  <div class="btn-group">                                                                                     <button type="button" class="btn btn-primary                                                                oc-icon-plus"                                                                                           data-cmd="create-item">Add</button>                                                                 <button type="button" class="btn btn-default                                                                empty oc-icon-trash-o"                                                                                  data-cmd="delete-item"></button>                                                                </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="form-group">                                                                                    <div class="inspector-dictionary-container">                                                                <div class="values">                                                                                        <div class="control-scrollpad"                                                                              data-control="scrollpad">                                                                               <div class="scroll-wrapper">                                                                                <table class="                                                                                              no-offset-bottom                                                                                        inspector-dictionary-table">                                                                        </table>                                                                                            </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="modal-footer">                                                                                  <button type="submit" class="btn btn-primary">OK</button>                                               <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                   </div>                                                                                                  </form>'},StringListAutocomplete.prototype.configurePopup=function(popup){this.initAutocomplete(),this.buildItemsTable(popup.get(0)),this.focusFirstInput()},StringListAutocomplete.prototype.handleSubmit=function($form){return this.applyValues()},StringListAutocomplete.prototype.buildItemsTable=function(popup){var table=popup.querySelector("table.inspector-dictionary-table"),tbody=document.createElement("tbody"),items=this.inspector.getPropertyValue(this.propertyDefinition.property);if(void 0===items&&(items=this.propertyDefinition.default),void 0===items||0===this.getValueKeys(items).length){var row=this.buildEmptyRow();tbody.appendChild(row)}else for(var key in items){row=this.buildTableRow(items[key]);tbody.appendChild(row)}table.appendChild(tbody),this.updateScrollpads()},StringListAutocomplete.prototype.buildTableRow=function(value){var row=document.createElement("tr"),valueCell=document.createElement("td");return this.createInput(valueCell,value),row.appendChild(valueCell),row},StringListAutocomplete.prototype.buildEmptyRow=function(){return this.buildTableRow(null)},StringListAutocomplete.prototype.createInput=function(container,value){var input=document.createElement("input"),controlContainer=document.createElement("div");input.setAttribute("type","text"),input.setAttribute("class","form-control"),input.value=value,controlContainer.appendChild(input),container.appendChild(controlContainer)},StringListAutocomplete.prototype.setActiveCell=function(input){for(var activeCells=this.popup.querySelectorAll("td.active"),i=activeCells.length-1;i>=0;i--)$.oc.foundation.element.removeClass(activeCells[i],"active");var activeCell=input.parentNode.parentNode;$.oc.foundation.element.addClass(activeCell,"active"),this.buildAutoComplete(input)},StringListAutocomplete.prototype.createItem=function(){var activeRow=this.getActiveRow(),newRow=this.buildEmptyRow(),tbody=this.getTableBody(),nextSibling=activeRow?activeRow.nextElementSibling:null;tbody.insertBefore(newRow,nextSibling),this.focusAndMakeActive(newRow.querySelector("input")),this.updateScrollpads()},StringListAutocomplete.prototype.deleteItem=function(){var activeRow=this.getActiveRow(),tbody=this.getTableBody();if(activeRow){var nextRow=activeRow.nextElementSibling,prevRow=activeRow.previousElementSibling,input=this.getRowInputByIndex(activeRow,0);input&&this.removeAutocomplete(input),tbody.removeChild(activeRow);var newSelectedRow=nextRow||prevRow;newSelectedRow||(newSelectedRow=this.buildEmptyRow(),tbody.appendChild(newSelectedRow)),this.focusAndMakeActive(newSelectedRow.querySelector("input")),this.updateScrollpads()}},StringListAutocomplete.prototype.applyValues=function(){for(var dataRows=this.getTableBody().querySelectorAll("tr"),link=this.getLink(),result=[],i=0,len=dataRows.length;i<len;i++){var dataRow=dataRows[i],valueInput=this.getRowInputByIndex(dataRow,0),value=$.trim(valueInput.value);0!=value.length&&result.push(value)}this.inspector.setPropertyValue(this.propertyDefinition.property,result),this.setLinkText(link,result)},StringListAutocomplete.prototype.getValueKeys=function(value){var result=[];for(var key in value)result.push(key);return result},StringListAutocomplete.prototype.getActiveRow=function(){var activeCell=this.popup.querySelector("td.active");return activeCell?activeCell.parentNode:null},StringListAutocomplete.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-dictionary-table tbody")},StringListAutocomplete.prototype.updateScrollpads=function(){$(".control-scrollpad",this.popup).scrollpad("update")},StringListAutocomplete.prototype.focusFirstInput=function(){var input=this.popup.querySelector("td input");input&&(input.focus(),this.setActiveCell(input))},StringListAutocomplete.prototype.getEditorCell=function(cell){return cell.parentNode.parentNode},StringListAutocomplete.prototype.getEditorRow=function(cell){return cell.parentNode.parentNode.parentNode},StringListAutocomplete.prototype.focusAndMakeActive=function(input){input.focus(),this.setActiveCell(input)},StringListAutocomplete.prototype.getRowInputByIndex=function(row,index){return row.cells[index].querySelector("input")},StringListAutocomplete.prototype.navigateDown=function(ev){var cell=this.getEditorCell(ev.currentTarget),nextRow=this.getEditorRow(ev.currentTarget).nextElementSibling;if(nextRow){var newActiveEditor=nextRow.cells[cell.cellIndex].querySelector("input");this.focusAndMakeActive(newActiveEditor)}},StringListAutocomplete.prototype.navigateUp=function(ev){var cell=this.getEditorCell(ev.currentTarget),prevRow=this.getEditorRow(ev.currentTarget).previousElementSibling;if(prevRow){var newActiveEditor=prevRow.cells[cell.cellIndex].querySelector("input");this.focusAndMakeActive(newActiveEditor)}},StringListAutocomplete.prototype.initAutocomplete=function(){void 0!==this.propertyDefinition.items?(this.items=this.prepareItems(this.propertyDefinition.items),this.initializeAutocompleteForCurrentInput()):this.loadDynamicItems()},StringListAutocomplete.prototype.initializeAutocompleteForCurrentInput=function(){var activeElement=document.activeElement;if(activeElement){var inputs=this.popup.querySelectorAll("td input.form-control");if(inputs)for(var i=inputs.length-1;i>=0;i--)if(inputs[i]===activeElement)return void this.buildAutoComplete(inputs[i])}},StringListAutocomplete.prototype.buildAutoComplete=function(input){null!==this.items&&$(input).autocomplete({source:this.items,matchWidth:!0,menu:'<ul class="autocomplete dropdown-menu inspector-autocomplete"></ul>',bodyContainer:!0})},StringListAutocomplete.prototype.removeAutocomplete=function(input){var $input=$(input);$input.data("autocomplete")&&$input.autocomplete("destroy")},StringListAutocomplete.prototype.prepareItems=function(items){var result={};if($.isArray(items))for(var i=0,len=items.length;i<len;i++)result[items[i]]=items[i];else result=items;return result},StringListAutocomplete.prototype.loadDynamicItems=function(){if(!this.isDisposed()){var data=this.getRootSurface().getValues(),$form=$(this.popup).find("form");!1!==this.triggerGetItems(data)&&(data.inspectorProperty=this.getPropertyPath(),data.inspectorClassName=this.inspector.options.inspectorClass,$form.request("onInspectableGetOptions",{data:data}).done(this.proxy(this.itemsRequestDone)))}},StringListAutocomplete.prototype.triggerGetItems=function(values){var $inspectable=this.getInspectableElement();if(!$inspectable)return!0;var itemsEvent=$.Event("autocompleteitems.oc.inspector");return $inspectable.trigger(itemsEvent,[{values:values,callback:this.proxy(this.itemsRequestDone),property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!itemsEvent.isDefaultPrevented()},StringListAutocomplete.prototype.itemsRequestDone=function(data){if(!this.isDisposed()){var loadedItems={};if(data.options)for(var i=data.options.length-1;i>=0;i--)loadedItems[data.options[i].value]=data.options[i].title;this.items=this.prepareItems(loadedItems),this.initializeAutocompleteForCurrentInput()}},StringListAutocomplete.prototype.removeAutocompleteFromAllRows=function(){for(var inputs=this.popup.querySelector("td input.form-control"),i=inputs.length-1;i>=0;i--)this.removeAutocomplete(inputs[i])},StringListAutocomplete.prototype.onPopupShown=function(ev,link,popup){BaseProto.onPopupShown.call(this,ev,link,popup),popup.on("focus.inspector","td input",this.proxy(this.onFocus)),popup.on("blur.inspector","td input",this.proxy(this.onBlur)),popup.on("keydown.inspector","td input",this.proxy(this.onKeyDown)),popup.on("click.inspector","[data-cmd]",this.proxy(this.onCommand))},StringListAutocomplete.prototype.onPopupHidden=function(ev,link,popup){popup.off(".inspector","td input"),popup.off(".inspector","[data-cmd]",this.proxy(this.onCommand)),this.removeAutocompleteFromAllRows(),this.items=null,BaseProto.onPopupHidden.call(this,ev,link,popup)},StringListAutocomplete.prototype.onFocus=function(ev){this.setActiveCell(ev.currentTarget)},StringListAutocomplete.prototype.onBlur=function(ev){$(ev.relatedTarget).closest("ul.inspector-autocomplete").length>0||this.removeAutocomplete(ev.currentTarget)},StringListAutocomplete.prototype.onCommand=function(ev){switch(ev.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},StringListAutocomplete.prototype.onKeyDown=function(ev){return"ArrowDown"===ev.key?this.navigateDown(ev):"ArrowUp"===ev.key?this.navigateUp(ev):void 0},$.oc.inspector.propertyEditors.stringListAutocomplete=StringListAutocomplete}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.popupBase,BaseProto=Base.prototype,DictionaryEditor=function(inspector,propertyDefinition,containerCell,group){this.keyValidationSet=null,this.valueValidationSet=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(DictionaryEditor.prototype=Object.create(BaseProto)).constructor=Base,DictionaryEditor.prototype.dispose=function(){this.disposeValidators(),this.keyValidationSet=null,this.valueValidationSet=null,BaseProto.dispose.call(this)},DictionaryEditor.prototype.init=function(){this.initValidators(),BaseProto.init.call(this)},DictionaryEditor.prototype.supportsExternalParameterEditor=function(){return!1},DictionaryEditor.prototype.setLinkText=function(link,value){if(void 0===(value=void 0!==value?value:this.inspector.getPropertyValue(this.propertyDefinition.property))&&(value=this.propertyDefinition.default),void 0===value||$.isEmptyObject(value)){var placeholder=this.propertyDefinition.placeholder;void 0!==placeholder?($.oc.foundation.element.addClass(link,"cell-placeholder"),link.textContent=placeholder):link.textContent="Items: 0"}else{"object"!=typeof value&&this.throwError("Object list value should be an object.");var itemCount=this.getValueKeys(value).length;$.oc.foundation.element.removeClass(link,"cell-placeholder"),link.textContent="Items: "+itemCount}},DictionaryEditor.prototype.getPopupContent=function(){return'<form>                                                                                                  <div class="modal-header">                                                                                  <h4 class="modal-title">{{property}}</h4>                                                               <button type="button" class="btn-close" data-dismiss="popup"></button>                              </div>                                                                                                  <div class="modal-body">                                                                                    <div class="control-toolbar">                                                                               <div class="toolbar-item">                                                                                  <div class="btn-group">                                                                                     <button type="button" class="btn btn-primary                                                                oc-icon-plus"                                                                                           data-cmd="create-item">Add</button>                                                                 <button type="button" class="btn btn-default                                                                empty oc-icon-trash-o"                                                                                  data-cmd="delete-item"></button>                                                                </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="form-group">                                                                                    <div class="inspector-dictionary-container">                                                                <table class="headers">                                                                                     <thead>                                                                                                     <tr>                                                                                                        <td>Key</td>                                                                                            <td>Value</td>                                                                                      </tr>                                                                                               </thead>                                                                                            </table>                                                                                                <div class="values">                                                                                        <div class="control-scrollpad"                                                                              data-control="scrollpad">                                                                               <div class="scroll-wrapper">                                                                                <table class="                                                                                              no-offset-bottom                                                                                        inspector-dictionary-table">                                                                        </table>                                                                                            </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                              </div>                                                                                                  <div class="modal-footer">                                                                                  <button type="submit" class="btn btn-primary">OK</button>                                               <button type="button" class="btn btn-default" data-dismiss="popup">Cancel</button>                  </div>                                                                                                  </form>'},DictionaryEditor.prototype.configurePopup=function(popup){this.buildItemsTable(popup.get(0)),this.focusFirstInput()},DictionaryEditor.prototype.handleSubmit=function($form){return this.applyValues()},DictionaryEditor.prototype.buildItemsTable=function(popup){var table=popup.querySelector("table.inspector-dictionary-table"),tbody=document.createElement("tbody"),items=this.inspector.getPropertyValue(this.propertyDefinition.property);this.propertyDefinition.titleProperty;if(void 0===items&&(items=this.propertyDefinition.default),void 0===items||0===this.getValueKeys(items).length){var row=this.buildEmptyRow();tbody.appendChild(row)}else for(var key in items){row=this.buildTableRow(key,items[key]);tbody.appendChild(row)}table.appendChild(tbody),this.updateScrollpads()},DictionaryEditor.prototype.buildTableRow=function(key,value){var row=document.createElement("tr"),keyCell=document.createElement("td"),valueCell=document.createElement("td");return this.createInput(keyCell,key),this.createInput(valueCell,value),row.appendChild(keyCell),row.appendChild(valueCell),row},DictionaryEditor.prototype.buildEmptyRow=function(){return this.buildTableRow(null,null)},DictionaryEditor.prototype.createInput=function(container,value){var input=document.createElement("input"),controlContainer=document.createElement("div");input.setAttribute("type","text"),input.setAttribute("class","form-control"),input.value=value,controlContainer.appendChild(input),container.appendChild(controlContainer)},DictionaryEditor.prototype.setActiveCell=function(input){for(var activeCells=this.popup.querySelectorAll("td.active"),i=activeCells.length-1;i>=0;i--)$.oc.foundation.element.removeClass(activeCells[i],"active");var activeCell=input.parentNode.parentNode;$.oc.foundation.element.addClass(activeCell,"active")},DictionaryEditor.prototype.createItem=function(){var activeRow=this.getActiveRow(),newRow=this.buildEmptyRow(),tbody=this.getTableBody(),nextSibling=activeRow?activeRow.nextElementSibling:null;tbody.insertBefore(newRow,nextSibling),this.focusAndMakeActive(newRow.querySelector("input")),this.updateScrollpads()},DictionaryEditor.prototype.deleteItem=function(){var activeRow=this.getActiveRow(),tbody=this.getTableBody();if(activeRow){var nextRow=activeRow.nextElementSibling,prevRow=activeRow.previousElementSibling;tbody.removeChild(activeRow);var newSelectedRow=nextRow||prevRow;newSelectedRow||(newSelectedRow=this.buildEmptyRow(),tbody.appendChild(newSelectedRow)),this.focusAndMakeActive(newSelectedRow.querySelector("input")),this.updateScrollpads()}},DictionaryEditor.prototype.applyValues=function(){for(var dataRows=this.getTableBody().querySelectorAll("tr"),link=this.getLink(),result={},i=0,len=dataRows.length;i<len;i++){var dataRow=dataRows[i],keyInput=this.getRowInputByIndex(dataRow,0),valueInput=this.getRowInputByIndex(dataRow,1),key=$.trim(keyInput.value),value=$.trim(valueInput.value);if(0!=key.length||0!=value.length){if(0==key.length)return $.oc.flashMsg({text:"The key cannot be empty.",class:"error",interval:3}),this.focusAndMakeActive(keyInput),!1;if(0==value.length)return $.oc.flashMsg({text:"The value cannot be empty.",class:"error",interval:3}),this.focusAndMakeActive(valueInput),!1;if(void 0!==result[key])return $.oc.flashMsg({text:"Keys should be unique.",class:"error",interval:3}),this.focusAndMakeActive(keyInput),!1;var validationResult=this.keyValidationSet.validate(key);if(null!==validationResult)return $.oc.flashMsg({text:validationResult,class:"error",interval:5}),!1;if(null!==(validationResult=this.valueValidationSet.validate(value)))return $.oc.flashMsg({text:validationResult,class:"error",interval:5}),!1;result[key]=value}}this.inspector.setPropertyValue(this.propertyDefinition.property,result),this.setLinkText(link,result)},DictionaryEditor.prototype.getValueKeys=function(value){var result=[];for(var key in value)result.push(key);return result},DictionaryEditor.prototype.getActiveRow=function(){var activeCell=this.popup.querySelector("td.active");return activeCell?activeCell.parentNode:null},DictionaryEditor.prototype.getTableBody=function(){return this.popup.querySelector("table.inspector-dictionary-table tbody")},DictionaryEditor.prototype.updateScrollpads=function(){$(".control-scrollpad",this.popup).scrollpad("update")},DictionaryEditor.prototype.focusFirstInput=function(){var input=this.popup.querySelector("td input");input&&(input.focus(),this.setActiveCell(input))},DictionaryEditor.prototype.getEditorCell=function(cell){return cell.parentNode.parentNode},DictionaryEditor.prototype.getEditorRow=function(cell){return cell.parentNode.parentNode.parentNode},DictionaryEditor.prototype.focusAndMakeActive=function(input){input.focus(),this.setActiveCell(input)},DictionaryEditor.prototype.getRowInputByIndex=function(row,index){return row.cells[index].querySelector("input")},DictionaryEditor.prototype.navigateDown=function(ev){var cell=this.getEditorCell(ev.currentTarget),nextRow=this.getEditorRow(ev.currentTarget).nextElementSibling;if(nextRow){var newActiveEditor=nextRow.cells[cell.cellIndex].querySelector("input");this.focusAndMakeActive(newActiveEditor)}},DictionaryEditor.prototype.navigateUp=function(ev){var cell=this.getEditorCell(ev.currentTarget),prevRow=this.getEditorRow(ev.currentTarget).previousElementSibling;if(prevRow){var newActiveEditor=prevRow.cells[cell.cellIndex].querySelector("input");this.focusAndMakeActive(newActiveEditor)}},DictionaryEditor.prototype.initValidators=function(){this.keyValidationSet=new $.oc.inspector.validationSet({validation:this.propertyDefinition.validationKey},this.propertyDefinition.property+".validationKey"),this.valueValidationSet=new $.oc.inspector.validationSet({validation:this.propertyDefinition.validationValue},this.propertyDefinition.property+".validationValue")},DictionaryEditor.prototype.disposeValidators=function(){this.keyValidationSet.dispose(),this.valueValidationSet.dispose()},DictionaryEditor.prototype.onPopupShown=function(ev,link,popup){BaseProto.onPopupShown.call(this,ev,link,popup),popup.on("focus.inspector","td input",this.proxy(this.onFocus)),popup.on("keydown.inspector","td input",this.proxy(this.onKeyDown)),popup.on("click.inspector","[data-cmd]",this.proxy(this.onCommand))},DictionaryEditor.prototype.onPopupHidden=function(ev,link,popup){popup.off(".inspector","td input"),popup.off(".inspector","[data-cmd]",this.proxy(this.onCommand)),BaseProto.onPopupHidden.call(this,ev,link,popup)},DictionaryEditor.prototype.onFocus=function(ev){this.setActiveCell(ev.currentTarget)},DictionaryEditor.prototype.onCommand=function(ev){switch(ev.currentTarget.getAttribute("data-cmd")){case"create-item":this.createItem();break;case"delete-item":this.deleteItem()}},DictionaryEditor.prototype.onKeyDown=function(ev){return"ArrowDown"===ev.key?this.navigateDown(ev):"ArrowUp"===ev.key?this.navigateUp(ev):void 0},$.oc.inspector.propertyEditors.dictionary=DictionaryEditor}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.propertyEditors.string,BaseProto=Base.prototype,AutocompleteEditor=function(inspector,propertyDefinition,containerCell,group){this.autoUpdateTimeout=null,Base.call(this,inspector,propertyDefinition,containerCell,group)};(AutocompleteEditor.prototype=Object.create(BaseProto)).constructor=Base,AutocompleteEditor.prototype.dispose=function(){this.clearAutoUpdateTimeout(),this.removeAutocomplete(),BaseProto.dispose.call(this)},AutocompleteEditor.prototype.build=function(){var container=document.createElement("div"),editor=document.createElement("input"),placeholder=void 0!==this.propertyDefinition.placeholder?this.propertyDefinition.placeholder:"",value=this.inspector.getPropertyValue(this.propertyDefinition.property);editor.setAttribute("type","text"),editor.setAttribute("class","string-editor"),editor.setAttribute("placeholder",placeholder),container.setAttribute("class","autocomplete-container"),void 0===value&&(value=this.propertyDefinition.default),void 0===value&&(value=""),editor.value=value,$.oc.foundation.element.addClass(this.containerCell,"text autocomplete"),container.appendChild(editor),this.containerCell.appendChild(container),void 0!==this.propertyDefinition.items?this.buildAutoComplete(this.propertyDefinition.items):this.loadDynamicItems()},AutocompleteEditor.prototype.buildAutoComplete=function(items){var input=this.getInput();void 0===items&&(items=[]);var $input=$(input),autocomplete=$input.data("autocomplete");autocomplete?autocomplete.source=this.prepareItems(items):$input.autocomplete({source:this.prepareItems(items),matchWidth:!0})},AutocompleteEditor.prototype.removeAutocomplete=function(){var input=this.getInput();$(input).autocomplete("destroy")},AutocompleteEditor.prototype.prepareItems=function(items){var result={};if($.isArray(items))for(var i=0,len=items.length;i<len;i++)result[items[i]]=items[i];else result=items;return result},AutocompleteEditor.prototype.supportsExternalParameterEditor=function(){return!1},AutocompleteEditor.prototype.getContainer=function(){return this.getInput().parentNode},AutocompleteEditor.prototype.registerHandlers=function(){BaseProto.registerHandlers.call(this),$(this.getInput()).on("change",this.proxy(this.onInputKeyUp))},AutocompleteEditor.prototype.unregisterHandlers=function(){BaseProto.unregisterHandlers.call(this),$(this.getInput()).off("change",this.proxy(this.onInputKeyUp))},AutocompleteEditor.prototype.saveDependencyValues=function(){this.prevDependencyValues=this.getDependencyValues()},AutocompleteEditor.prototype.getDependencyValues=function(){for(var result="",i=0,len=this.propertyDefinition.depends.length;i<len;i++){var property=this.propertyDefinition.depends[i],value=this.inspector.getPropertyValue(property);void 0===value&&(value=""),result+=property+":"+value+"-"}return result},AutocompleteEditor.prototype.onInspectorPropertyChanged=function(property){this.propertyDefinition.depends&&-1!==this.propertyDefinition.depends.indexOf(property)&&(this.clearAutoUpdateTimeout(),void 0!==this.prevDependencyValues&&this.prevDependencyValues==dependencyValues||(this.autoUpdateTimeout=setTimeout(this.proxy(this.loadDynamicItems),200)))},AutocompleteEditor.prototype.clearAutoUpdateTimeout=function(){null!==this.autoUpdateTimeout&&(clearTimeout(this.autoUpdateTimeout),this.autoUpdateTimeout=null)},AutocompleteEditor.prototype.showLoadingIndicator=function(){$(this.getContainer()).loadIndicator()},AutocompleteEditor.prototype.hideLoadingIndicator=function(){if(!this.isDisposed()){var $container=$(this.getContainer());$container.loadIndicator("hide"),$container.loadIndicator("destroy"),$container.removeClass("loading-indicator-container")}},AutocompleteEditor.prototype.loadDynamicItems=function(){if(!this.isDisposed()){this.clearAutoUpdateTimeout();var container=this.getContainer(),data=this.getRootSurface().getValues(),$form=$(container).closest("form");$.oc.foundation.element.addClass(container,"loading-indicator-container size-small"),this.showLoadingIndicator(),!1!==this.triggerGetItems(data)&&(data.inspectorProperty=this.getPropertyPath(),data.inspectorClassName=this.inspector.options.inspectorClass,$form.request("onInspectableGetOptions",{data:data}).done(this.proxy(this.itemsRequestDone)).always(this.proxy(this.hideLoadingIndicator)))}},AutocompleteEditor.prototype.triggerGetItems=function(values){var $inspectable=this.getInspectableElement();if(!$inspectable)return!0;var itemsEvent=$.Event("autocompleteitems.oc.inspector");return $inspectable.trigger(itemsEvent,[{values:values,callback:this.proxy(this.itemsRequestDone),property:this.inspector.getPropertyPath(this.propertyDefinition.property),propertyDefinition:this.propertyDefinition}]),!itemsEvent.isDefaultPrevented()},AutocompleteEditor.prototype.itemsRequestDone=function(data){if(!this.isDisposed()){this.hideLoadingIndicator();var loadedItems={};if(data.options)for(var i=data.options.length-1;i>=0;i--)loadedItems[data.options[i].value]=data.options[i].title;this.buildAutoComplete(loadedItems)}},$.oc.inspector.propertyEditors.autocomplete=AutocompleteEditor}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.inspector&&($.oc.inspector={}),$.oc.inspector.helpers={},$.oc.inspector.helpers.generateElementUniqueId=function(element){if(element.hasAttribute("data-inspector-id"))return element.getAttribute("data-inspector-id");var id=$.oc.inspector.helpers.generateUniqueId();return element.setAttribute("data-inspector-id",id),id},$.oc.inspector.helpers.generateUniqueId=function(){return"inspectorid-"+Math.floor(Math.random()*(new Date).getTime())}}(window.jQuery),function($){"use strict";void 0===$.oc.inspector.validators&&($.oc.inspector.validators={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,ValidationSet=function(options,propertyName){this.validators=[],this.options=options,this.propertyName=propertyName,Base.call(this),this.createValidators()};(ValidationSet.prototype=Object.create(BaseProto)).constructor=Base,ValidationSet.prototype.dispose=function(){this.disposeValidators(),this.validators=null,BaseProto.dispose.call(this)},ValidationSet.prototype.disposeValidators=function(){for(var i=0,len=this.validators.length;i<len;i++)this.validators[i].dispose()},ValidationSet.prototype.throwError=function(errorMessage){throw new Error(errorMessage+" Property: "+this.propertyName)},ValidationSet.prototype.createValidators=function(){if(void 0===this.options.required&&void 0===this.options.validationPattern&&void 0===this.options.validationMessage||void 0===this.options.validation||this.throwError("Legacy and new validation syntax should not be mixed."),void 0!==this.options.required&&this.options.required){var validator=new $.oc.inspector.validators.required({message:this.options.validationMessage});this.validators.push(validator)}if(void 0!==this.options.validationPattern){validator=new $.oc.inspector.validators.regex({message:this.options.validationMessage,pattern:this.options.validationPattern});this.validators.push(validator)}if(void 0!==this.options.validation)for(var validatorName in this.options.validation){null==$.oc.inspector.validators[validatorName]&&this.throwError('Inspector validator "'+validatorName+'" is not found in the $.oc.inspector.validators namespace.');validator=new $.oc.inspector.validators[validatorName](this.options.validation[validatorName]);this.validators.push(validator)}},ValidationSet.prototype.validate=function(value){try{for(var i=0,len=this.validators.length;i<len;i++){var errorMessage=this.validators[i].isValid(value);if("string"==typeof errorMessage)return errorMessage}return null}catch(err){this.throwError(err)}},$.oc.inspector.validationSet=ValidationSet}(window.jQuery),function($){"use strict";void 0===$.oc.inspector.validators&&($.oc.inspector.validators={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,BaseValidator=function(options){this.options=options,this.defaultMessage="Invalid property value.",Base.call(this)};(BaseValidator.prototype=Object.create(BaseProto)).constructor=Base,BaseValidator.prototype.dispose=function(){this.defaultMessage=null,BaseProto.dispose.call(this)},BaseValidator.prototype.getMessage=function(defaultMessage){return void 0!==this.options.message?this.options.message:void 0!==defaultMessage?defaultMessage:this.defaultMessage},BaseValidator.prototype.isScalar=function(value){return null==value||!("string"!=typeof value&&"number"!=typeof value&&"boolean"!=typeof value)},BaseValidator.prototype.isValid=function(value){return null},$.oc.inspector.validators.base=BaseValidator}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.base,BaseProto=Base.prototype,BaseNumber=function(options){Base.call(this,options)};(BaseNumber.prototype=Object.create(BaseProto)).constructor=Base,BaseNumber.prototype.doCommonChecks=function(value){if(void 0!==this.options.min||void 0!==this.options.max){if(void 0!==this.options.min){if(void 0===this.options.min.value)throw new Error("The min.value parameter is not defined in the Inspector validator configuration");if(value<this.options.min.value)return void 0!==this.options.min.message?this.options.min.message:"The value should not be less than "+this.options.min.value}if(void 0!==this.options.max){if(void 0===this.options.max.value)throw new Error("The max.value parameter is not defined in the table Inspector validator configuration");if(value>this.options.max.value)return void 0!==this.options.max.message?this.options.max.message:"The value should not be greater than "+this.options.max.value}}},$.oc.inspector.validators.baseNumber=BaseNumber}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.base,BaseProto=Base.prototype,RequiredValidator=function(options){Base.call(this,options),this.defaultMessage="The property is required."};(RequiredValidator.prototype=Object.create(BaseProto)).constructor=Base,RequiredValidator.prototype.isValid=function(value){return null==value?this.getMessage():"boolean"==typeof value?value?null:this.getMessage():"object"==typeof value?$.isEmptyObject(value)?this.getMessage():null:$.trim(String(value)).length>0?null:this.getMessage()},$.oc.inspector.validators.required=RequiredValidator}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.base,BaseProto=Base.prototype,RegexValidator=function(options){Base.call(this,options)};(RegexValidator.prototype=Object.create(BaseProto)).constructor=Base,RegexValidator.prototype.isValid=function(value){if(void 0===this.options.pattern&&this.throwError("The pattern parameter is not defined in the Regex Inspector validator configuration."),this.isScalar(value)||this.throwError("The Regex Inspector validator can only be used with string values."),null==value)return null;var string=$.trim(String(value));return 0===string.length||new RegExp(this.options.pattern,this.options.modifiers).test(string)?null:this.getMessage()},$.oc.inspector.validators.regex=RegexValidator}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.baseNumber,BaseProto=Base.prototype,IntegerValidator=function(options){Base.call(this,options)};(IntegerValidator.prototype=Object.create(BaseProto)).constructor=Base,IntegerValidator.prototype.isValid=function(value){if(this.isScalar(value)&&"boolean"!=typeof value||this.throwError("The Integer Inspector validator can only be used with string values."),null==value)return null;var string=$.trim(String(value));if(0===string.length)return null;if(!(this.options.allowNegative?/^\-?[0-9]*$/.test(string):/^[0-9]*$/.test(string))){var defaultMessage=this.options.allowNegative?"The value should be an integer.":"The value should be a positive integer.";return this.getMessage(defaultMessage)}return this.doCommonChecks(parseInt(string))},$.oc.inspector.validators.integer=IntegerValidator}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.baseNumber,BaseProto=Base.prototype,FloatValidator=function(options){Base.call(this,options)};(FloatValidator.prototype=Object.create(BaseProto)).constructor=Base,FloatValidator.prototype.isValid=function(value){if(this.isScalar(value)&&"boolean"!=typeof value||this.throwError("The Float Inspector validator can only be used with string values."),null==value)return null;var string=$.trim(String(value));if(0===string.length)return null;if(!(this.options.allowNegative?/^[-]?([0-9]+\.[0-9]+|[0-9]+)$/.test(string):/^([0-9]+\.[0-9]+|[0-9]+)$/.test(string))){var defaultMessage=this.options.allowNegative?"The value should be a floating point number.":"The value should be a positive floating point number.";return this.getMessage(defaultMessage)}return this.doCommonChecks(parseFloat(string))},$.oc.inspector.validators.float=FloatValidator}(window.jQuery),function($){"use strict";var Base=$.oc.inspector.validators.base,BaseProto=Base.prototype,LengthValidator=function(options){Base.call(this,options)};(LengthValidator.prototype=Object.create(BaseProto)).constructor=Base,LengthValidator.prototype.isValid=function(value){if(null==value)return null;"boolean"==typeof value&&this.throwError("The Length Inspector validator cannot work with Boolean values.");var length=null;if("[object Array]"===Object.prototype.toString.call(value)||"string"==typeof value?length=value.length:"object"==typeof value&&(length=this.getObjectLength(value)),void 0!==this.options.min||void 0!==this.options.max){if(void 0!==this.options.min){if(void 0===this.options.min.value)throw new Error("The min.value parameter is not defined in the Length Inspector validator configuration.");if(length<this.options.min.value)return void 0!==this.options.min.message?this.options.min.message:"The value should not be shorter than "+this.options.min.value}if(void 0!==this.options.max){if(void 0===this.options.max.value)throw new Error("The max.value parameter is not defined in the Length Inspector validator configuration.");if(length>this.options.max.value)return void 0!==this.options.max.message?this.options.max.message:"The value should not be longer than "+this.options.max.value}}},LengthValidator.prototype.getObjectLength=function(value){var result=0;for(var key in value)result++;return result},$.oc.inspector.validators.length=LengthValidator}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={}),void 0===$.oc.inspector&&($.oc.inspector={});var Base=$.oc.foundation.base,BaseProto=Base.prototype,ExternalParameterEditor=function(inspector,propertyDefinition,containerCell,initialValue){this.inspector=inspector,this.propertyDefinition=propertyDefinition,this.containerCell=containerCell,this.initialValue=initialValue,Base.call(this),this.init()};(ExternalParameterEditor.prototype=Object.create(BaseProto)).constructor=Base,ExternalParameterEditor.prototype.dispose=function(){this.disposeControls(),this.unregisterHandlers(),this.inspector=null,this.propertyDefinition=null,this.containerCell=null,this.initialValue=null,BaseProto.dispose.call(this)},ExternalParameterEditor.prototype.init=function(){this.tooltipText="Click to enter the external parameter name to load the property value from",this.build(),this.registerHandlers(),this.setInitialValue()},ExternalParameterEditor.prototype.build=function(){var container=document.createElement("div"),editor=document.createElement("div"),controls=document.createElement("div"),input=document.createElement("input"),link=document.createElement("a"),icon=document.createElement("i");for(container.setAttribute("class","external-param-editor-container"),editor.setAttribute("class","external-editor"),controls.setAttribute("class","controls"),input.setAttribute("type","text"),input.setAttribute("tabindex","-1"),link.setAttribute("href","#"),link.setAttribute("class","external-editor-link"),link.setAttribute("tabindex","-1"),link.setAttribute("title",this.tooltipText),$(link).tooltip({container:"body",delay:500}),icon.setAttribute("class","oc-icon-terminal"),link.appendChild(icon),controls.appendChild(input),controls.appendChild(link),editor.appendChild(controls);this.containerCell.firstChild;){var child=this.containerCell.firstChild;container.appendChild(child)}container.appendChild(editor),this.containerCell.appendChild(container)},ExternalParameterEditor.prototype.setInitialValue=function(){if(this.initialValue&&"string"==typeof this.initialValue){var matches;if(matches=this.initialValue.match(/^\{\{([^\}]+)\}\}$/)){var value=$.trim(matches[1]);value.length>0&&(this.showEditor(!0),this.getInput().value=value,this.inspector.setPropertyValue(this.propertyDefinition.property,null,!0,!0))}}},ExternalParameterEditor.prototype.showEditor=function(building){var editor=this.getEditor(),input=this.getInput(),container=this.getContainer(),link=this.getLink(),position=$(editor).position();building?editor.style.right=0:(editor.style.right=0,editor.style.left=position.left+"px"),setTimeout(this.proxy(this.repositionEditor),0),$.oc.foundation.element.addClass(container,"editor-visible"),link.setAttribute("data-original-title","Click to enter the property value"),this.toggleEditorVisibility(!1),input.setAttribute("tabindex",0),building||input.focus()},ExternalParameterEditor.prototype.repositionEditor=function(){this.getEditor().style.left=0,this.containerCell.scrollTop=0},ExternalParameterEditor.prototype.hideEditor=function(){var editor=this.getEditor(),container=this.getContainer();editor.style.left="auto",editor.style.right="30px",$.oc.foundation.element.removeClass(container,"editor-visible"),$.oc.foundation.element.removeClass(this.containerCell,"active");var propertyEditor=this.inspector.findPropertyEditor(this.propertyDefinition.property);propertyEditor&&propertyEditor.onExternalPropertyEditorHidden()},ExternalParameterEditor.prototype.toggleEditor=function(ev){$.oc.foundation.event.stop(ev);var link=this.getLink(),container=this.getContainer(),editor=this.getEditor();if($(link).tooltip("hide"),this.isEditorVisible()){var left=container.offsetWidth;editor.style.left=left+"px",link.setAttribute("data-original-title",this.tooltipText),this.getInput().setAttribute("tabindex","-1"),this.toggleEditorVisibility(!0),setTimeout(this.proxy(this.hideEditor),200)}else this.showEditor()},ExternalParameterEditor.prototype.toggleEditorVisibility=function(show){var container=this.getContainer(),children=container.children,height=0;show||(height=this.containerCell.getAttribute("data-inspector-cell-height"))||(height=$(this.containerCell).height(),this.containerCell.setAttribute("data-inspector-cell-height",height)),height=Math.max(height,19);for(var i=0,len=children.length;i<len;i++){var element=children[i];$.oc.foundation.element.hasClass(element,"external-editor")||(show?$.oc.foundation.element.removeClass(element,"oc-hide"):(container.style.height=height+"px",$.oc.foundation.element.addClass(element,"oc-hide")))}},ExternalParameterEditor.prototype.focus=function(){this.getInput().focus()},ExternalParameterEditor.prototype.validate=function(silentMode){return 0!==$.trim(this.getValue()).length||(silentMode||($.oc.flashMsg({text:"Please enter the external parameter name.",class:"error",interval:5}),this.focus()),!1)},ExternalParameterEditor.prototype.registerHandlers=function(){var input=this.getInput();this.getLink().addEventListener("click",this.proxy(this.toggleEditor)),input.addEventListener("focus",this.proxy(this.onInputFocus)),input.addEventListener("change",this.proxy(this.onInputChange))},ExternalParameterEditor.prototype.onInputFocus=function(){this.inspector.makeCellActive(this.containerCell)},ExternalParameterEditor.prototype.onInputChange=function(){this.inspector.markPropertyChanged(this.propertyDefinition.property,!0)},ExternalParameterEditor.prototype.unregisterHandlers=function(){var input=this.getInput();this.getLink().removeEventListener("click",this.proxy(this.toggleEditor)),input.removeEventListener("focus",this.proxy(this.onInputFocus)),input.removeEventListener("change",this.proxy(this.onInputChange))},ExternalParameterEditor.prototype.disposeControls=function(){$(this.getLink()).tooltip("dispose")},ExternalParameterEditor.prototype.getInput=function(){return this.containerCell.querySelector("div.external-editor input")},ExternalParameterEditor.prototype.getValue=function(){return this.getInput().value},ExternalParameterEditor.prototype.getLink=function(){return this.containerCell.querySelector("a.external-editor-link")},ExternalParameterEditor.prototype.getContainer=function(){return this.containerCell.querySelector("div.external-param-editor-container")},ExternalParameterEditor.prototype.getEditor=function(){return this.containerCell.querySelector("div.external-editor")},ExternalParameterEditor.prototype.getPropertyName=function(){return this.propertyDefinition.property},ExternalParameterEditor.prototype.isEditorVisible=function(){return $.oc.foundation.element.hasClass(this.getContainer(),"editor-visible")},$.oc.inspector.externalParameterEditor=ExternalParameterEditor}(window.jQuery),function($){"use strict";var BarChart=function(element,options){this.options=options||{};var $el=this.$el=$(element),size=this.size=$el.height(),self=this,values=$.oc.chartUtils.loadListValues($("ul",$el)),$legend=$.oc.chartUtils.createLegend($("ul",$el)),indicators=$.oc.chartUtils.initLegendColorIndicators($legend),isFullWidth=this.isFullWidth(),chartHeight=void 0!==this.options.height?this.options.height:size,chartWidth=isFullWidth?this.$el.width():size,barWidth=(chartWidth-(values.values.length-1)*this.options.gap)/values.values.length,$canvas=$("<div/>").addClass("canvas").height(chartHeight).width(isFullWidth?"100%":chartWidth);$el.prepend($canvas),$el.toggleClass("full-width",isFullWidth),Raphael($canvas.get(0),isFullWidth?"100%":chartWidth,chartHeight,(function(){self.paper=this,self.bars=this.set(),self.paper.customAttributes.bar=function(start,height){return{path:[["M",start,chartHeight],["L",start,chartHeight-height],["L",start+barWidth,chartHeight-height],["L",start+barWidth,chartHeight],["Z"]]}};var start=0;$.each(values.values,(function(index,valueInfo){var color=void 0!==valueInfo.color?valueInfo.color:$.oc.chartUtils.getColor(index),path=self.paper.path().attr({"stroke-width":0}).attr({bar:[start,0]}).attr({fill:color});self.bars.push(path),indicators[index].css("background-color",color),start+=barWidth+self.options.gap,path.hover((function(ev){$.oc.chartUtils.showTooltip(ev.pageX,ev.pageY,$.trim($.oc.chartUtils.getLegendLabel($legend,index))+": <strong>"+valueInfo.value+"</stong>")}),(function(){$.oc.chartUtils.hideTooltip()}))})),start=0,$.each(values.values,(function(index,valueInfo){var height=values.max&&valueInfo.value?chartHeight/values.max*valueInfo.value:0;self.bars[index].animate({bar:[start,height]},1e3,"bounce"),start+=barWidth+self.options.gap})),isFullWidth&&$(window).on("resize",(function(){chartWidth=self.$el.width(),barWidth=(chartWidth-(values.values.length-1)*self.options.gap)/values.values.length;var start=0;$.each(values.values,(function(index,valueInfo){var height=values.max&&valueInfo.value?chartHeight/values.max*valueInfo.value:0;self.bars[index].animate({bar:[start,height]},10,"bounce"),start+=barWidth+self.options.gap}))}))}))};BarChart.prototype.isFullWidth=function(){return void 0!==this.options.fullWidth&&this.options.fullWidth},BarChart.DEFAULTS={gap:2};var old=$.fn.barChart;$.fn.barChart=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.barChart"),options=$.extend({},BarChart.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.barChart",new BarChart(this,options))}))},$.fn.barChart.Constructor=BarChart,$.fn.barChart.noConflict=function(){return $.fn.barChart=old,this},$(document).render((function(){$("[data-control=chart-bar]").barChart()}))}(window.jQuery),function($){"use strict";var ChartLine=function(element,options){var self=this;this.chartOptions={xaxis:{mode:"time",tickLength:5},selection:{mode:"x"},grid:{markingsColor:"rgba(0,0,0, 0.02)",backgroundColor:{colors:["#fff","#fff"]},borderColor:"#7bafcc",borderWidth:0,color:"#ddd",hoverable:!0,clickable:!0,labelMargin:10},series:{lines:{show:!0,fill:!0},points:{show:!0}},tooltip:!0,tooltipOpts:{defaultTheme:!1,content:"%x: <strong>%y</strong>",dateFormat:"%y-%0m-%0d",shifts:{x:10,y:20}},legend:{show:!0,noColumns:2}},this.defaultDataSetOptions={shadowSize:0};var parsedOptions={};try{parsedOptions=ocJSON("{"+options.chartOptions+"}")}catch(e){throw new Error("Error parsing the data-chart-options attribute value. "+e)}this.chartOptions=$.extend({},this.chartOptions,parsedOptions),this.options=options,this.$el=$(element),this.fullDataSet=[],this.resetZoomLink=$(options.resetZoomLink),this.$el.trigger("oc.chartLineInit",[this]),this.resetZoomLink.on("click",$.proxy(this.clearZoom,this)),this.options.zoomable&&this.$el.on("plotselected",(function(event,ranges){var newCoords={xaxis:{min:ranges.xaxis.from,max:ranges.xaxis.to}};$.plot(self.$el,self.fullDataSet,$.extend(!0,{},self.chartOptions,newCoords)),self.resetZoomLink.show()})),"time"==this.chartOptions.xaxis.mode&&"weeks"==this.options.timeMode&&(this.chartOptions.markings=function(axes){var markings=[],d=new Date(axes.xaxis.min);d.setUTCDate(d.getUTCDate()-(d.getUTCDay()+1)%7),d.setUTCSeconds(0),d.setUTCMinutes(0),d.setUTCHours(0);var i=d.getTime();do{markings.push({xaxis:{from:i,to:i+1728e5}}),i+=6048e5}while(i<axes.xaxis.max);return markings}),this.initializing=!0,this.$el.find('>[data-chart="dataset"]').each((function(){var data=$(this).data(),processedData={};for(var key in data){var normalizedKey=key.substring(3),value=data[key];"data"==(normalizedKey=normalizedKey.charAt(0).toLowerCase()+normalizedKey.slice(1))&&(value=JSON.parse("["+value+"]")),processedData[normalizedKey]=value}self.addDataSet($.extend({},self.defaultDataSetOptions,processedData))})),this.initializing=!1,this.rebuildChart()};ChartLine.DEFAULTS={chartOptions:"",timeMode:null,zoomable:!1},ChartLine.prototype.addDataSet=function(dataSet){this.fullDataSet.push(dataSet),this.initializing||this.rebuildChart()},ChartLine.prototype.rebuildChart=function(){this.$el.trigger("oc.beforeChartLineRender",[this]),$.plot(this.$el,this.fullDataSet,this.chartOptions)},ChartLine.prototype.clearZoom=function(){this.rebuildChart(),this.resetZoomLink.hide()};var old=$.fn.chartLine;$.fn.chartLine=function(option){return this.each((function(){var $this=$(this),data=$this.data("october.chartLine"),options=$.extend({},ChartLine.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("october.chartLine",data=new ChartLine(this,options)),"string"==typeof option&&data[option].call($this)}))},$.fn.chartLine.Constructor=ChartLine,$.fn.chartLine.noConflict=function(){return $.fn.chartLine=old,this},$(document).render((function(){$('[data-control="chart-line"]').chartLine()}))}(window.jQuery),function($){"use strict";var GoalMeter=function(element,options){this.$el=$(element);var self=this;this.options=options||{},this.$indicatorBar=$("<span/>").text(this.options.value+"%"),this.$indicatorOuter=$("<span/>").addClass("goal-meter-indicator").append(this.$indicatorBar),$("p",this.$el).first().before(this.$indicatorOuter),window.setTimeout((function(){self.update(self.options.value)}),200)};GoalMeter.prototype.update=function(value){this.$indicatorBar.css("height",value+"%")},GoalMeter.DEFAULTS={value:50};var old=$.fn.goalMeter;$.fn.goalMeter=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.goalMeter"),options=$.extend({},GoalMeter.DEFAULTS,$this.data(),"object"==typeof option&&option);data?data.update(option):$this.data("oc.goalMeter",data=new GoalMeter(this,options))}))},$.fn.goalMeter.Constructor=GoalMeter,$.fn.goalMeter.noConflict=function(){return $.fn.goalMeter=old,this},$(document).render((function(){$("[data-control=goal-meter]").goalMeter()}))}(window.jQuery),function($){"use strict";var PieChart=function(element,options){this.options=options||{};var $el=this.$el=$(element),size=this.size=void 0!==this.options.size?this.options.size:$el.height(),outerRadius=size/2-1,innerRadius=outerRadius-outerRadius/3.5,values=$.oc.chartUtils.loadListValues($("ul",$el)),$legend=$.oc.chartUtils.createLegend($("ul",$el)),indicators=$.oc.chartUtils.initLegendColorIndicators($legend),self=this,$canvas=$("<div/>").addClass("canvas").width(size).height(size);if($el.prepend($canvas),$legend.height(size).css("overflow","hidden"),Raphael($canvas.get(0),size,size,(function(){self.paper=this,self.segments=this.set(),self.paper.customAttributes.segment=function(startAngle,endAngle){var p1=self.arcCoords(outerRadius,startAngle),p2=self.arcCoords(outerRadius,endAngle),p3=self.arcCoords(innerRadius,endAngle),p4=self.arcCoords(innerRadius,startAngle),flag=endAngle-startAngle>180;return{path:[["M",p1.x,p1.y],["A",outerRadius,outerRadius,0,+flag,0,p2.x,p2.y],["L",p3.x,p3.y],["A",innerRadius,innerRadius,0,+flag,1,p4.x,p4.y],["Z"]]}},self.paper.circle(size/2,size/2,innerRadius+(outerRadius-innerRadius)/2).attr({"stroke-width":outerRadius-innerRadius-.5}).attr({stroke:$.oc.chartUtils.defaultValueColor}),$.each(values.values,(function(index,valueInfo){var color=void 0!==valueInfo.color?valueInfo.color:$.oc.chartUtils.getColor(index),path=self.paper.path().attr({"stroke-width":0}).attr({segment:[0,0]}).attr({fill:color});self.segments.push(path),indicators[index].css("background-color",color),path.hover((function(ev){$.oc.chartUtils.showTooltip(ev.pageX,ev.pageY,$.trim($.oc.chartUtils.getLegendLabel($legend,index))+": <strong>"+valueInfo.value+"</stong>")}),(function(){$.oc.chartUtils.hideTooltip()}))}));var start=self.options.startAngle;$.each(values.values,(function(index,valueInfo){var length=values.total&&valueInfo.value?360/values.total*valueInfo.value:0;360==length&&length--,self.segments[index].animate({segment:[start,start+length]},1e3,"bounce"),start+=length}))})),void 0!==this.options.centerText){var $text=$("<span>").addClass("center").html(this.options.centerText);$canvas.append($text)}};PieChart.prototype.arcCoords=function(radius,angle){var a=Raphael.rad(angle);return{x:this.size/2+radius*Math.cos(a),y:this.size/2-radius*Math.sin(a)}},PieChart.DEFAULTS={startAngle:45};var old=$.fn.pieChart;$.fn.pieChart=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.pieChart"),options=$.extend({},PieChart.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.pieChart",new PieChart(this,options))}))},$.fn.pieChart.Constructor=PieChart,$.fn.pieChart.noConflict=function(){return $.fn.pieChart=old,this},$(document).render((function(){$("[data-control=chart-pie]").pieChart()}))}(window.jQuery),function($){"use strict";var ChartUtils=function(){};ChartUtils.prototype.defaultValueColor="#b8b8b8",ChartUtils.prototype.getColor=function(index){var colors=["#95b753","#cc3300","#e5a91a","#3366ff","#ff0f00","#ff6600","#ff9e01","#fcd202","#f8ff01","#b0de09","#04d215","#0d8ecf","#0d52d1","#2a0cd0","#8a0ccf","#cd0d74","#754deb","#dddddd","#999999","#333333","#000000","#57032a","#ca9726","#990000","#4b0c25"];return colors[index%(colors.length-1)]},ChartUtils.prototype.loadListValues=function($list){var result={values:[],total:0,max:0};return $("> li",$list).each((function(){var value=$(this).data("value")?parseFloat($(this).data("value")):parseFloat($("span",this).text());result.total+=value,result.values.push({value:value,color:$(this).data("color")}),result.max=Math.max(result.max,value)})),result},ChartUtils.prototype.getLegendLabel=function($legend,index){return $("tr:eq("+index+") td:eq(1)",$legend).html()},ChartUtils.prototype.initLegendColorIndicators=function($legend){var indicators=[];return $("tr > td:first-child",$legend).each((function(){var indicator=$("<i></i>");$(this).prepend(indicator),indicators.push(indicator)})),indicators},ChartUtils.prototype.createLegend=function($list){var $legend=$("<div>").addClass("chart-legend"),$table=$("<table>");return $legend.append($table),$("> li",$list).each((function(){var label=$(this).clone().children().remove().end().html();$table.append($("<tr>").append($('<td class="indicator">')).append($("<td>").html(label)).append($("<td>").addClass("value").html($("span",this).html())))})),$legend.insertAfter($list),$list.remove(),$legend},ChartUtils.prototype.showTooltip=function(x,y,text){var $tooltip=$("#chart-tooltip");$tooltip.length&&$tooltip.remove(),$tooltip=$('<div id="chart-tooltip">').html(text).css("visibility","hidden"),x+=10,y+=10,$(document.body).append($tooltip);var tooltipWidth=$tooltip.outerWidth();x+tooltipWidth>$(window).width()&&(x=$(window).width()-tooltipWidth-10),$tooltip.css({top:y,left:x,visibility:"visible"})},ChartUtils.prototype.hideTooltip=function(){$("#chart-tooltip").remove()},void 0===$.oc&&($.oc={}),$.oc.chartUtils=new ChartUtils}(window.jQuery),function($){$(document).on("keypress","div.custom-checkbox",(function(e){if("(Space character)"===e.key||"Spacebar"===e.key||" "===e.key){var $cb=$("input[type=checkbox]",this);if($cb.data("oc-space-timestamp")==e.timeStamp)return;return $cb.get(0).disabled||($cb.get(0).checked=!$cb.get(0).checked,$cb.data("oc-space-timestamp",e.timeStamp),$cb.trigger("change")),!1}})),$(document).render((function(){$("div.custom-checkbox.is-indeterminate > input").each((function(){var $el=$(this);switch($el.data("checked")){case 1:$el.prop("indeterminate",!0);break;case 2:$el.prop("indeterminate",!1),$el.prop("checked",!0);break;default:$el.prop("indeterminate",!1),$el.prop("checked",!1)}}))})),$(document).on("click","div.custom-checkbox.is-indeterminate > label",(function(){var $el=$(this).parent().find("input:first"),checked=$el.data("checked");switch(void 0===checked&&(checked=$el.is(":checked")?1:0),checked){case 0:$el.data("checked",1),$el.prop("indeterminate",!0);break;case 1:$el.data("checked",2),$el.prop("indeterminate",!1),$el.prop("checked",!0);break;default:$el.data("checked",0),$el.prop("indeterminate",!1),$el.prop("checked",!1)}return $el.trigger("change"),!1}))}(jQuery),$(document).render((function(){$("[data-toggle=dropdown]:not([data-bs-toggle])").attr("data-bs-toggle","dropdown"),$(".fade.in:not(.show)").addClass("show")})),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,listSortableIdCounter=0,elementsIdCounter=0,ListSortable=function(element,options){this.lists=[],this.options=options,this.listSortableId=null,this.lastMousePosition=null,Base.call(this),$.oc.foundation.controlUtils.markDisposable(element),this.init(),this.addList(element)};(ListSortable.prototype=Object.create(BaseProto)).constructor=ListSortable,ListSortable.prototype.init=function(){listSortableIdCounter++,this.listSortableId="listsortable/id/"+listSortableIdCounter},ListSortable.prototype.addList=function(list){this.lists.push(list),this.registerListHandlers(list),1==this.lists.length&&$(list).one("dispose-control",this.proxy(this.dispose))},ListSortable.prototype.registerListHandlers=function(list){var $list=$(list);$list.on("dragstart","> li",this.proxy(this.onDragStart)),$list.on("dragover","> li",this.proxy(this.onDragOver)),$list.on("dragenter","> li",this.proxy(this.onDragEnter)),$list.on("dragleave","> li",this.proxy(this.onDragLeave)),$list.on("drop","> li",this.proxy(this.onDragDrop)),$list.on("dragend","> li",this.proxy(this.onDragEnd))},ListSortable.prototype.unregisterListHandlers=function(list){var $list=$(list);$list.off("dragstart","> li",this.proxy(this.onDragStart)),$list.off("dragover","> li",this.proxy(this.onDragOver)),$list.off("dragenter","> li",this.proxy(this.onDragEnter)),$list.off("dragleave","> li",this.proxy(this.onDragLeave)),$list.off("drop","> li",this.proxy(this.onDragDrop)),$list.off("dragend","> li",this.proxy(this.onDragEnd))},ListSortable.prototype.unregisterHandlers=function(){$(document).off("dragover",this.proxy(this.onDocumentDragOver)),$(document).off("mousemove",this.proxy(this.onDocumentMouseMove)),$(this.lists[0]).off("dispose-control",this.proxy(this.dispose))},ListSortable.prototype.unbindLists=function(){for(var i=this.lists.length-1;i>0;i--){var list=this.lists[i];this.unregisterListHandlers(this.lists[i]),$(list).removeData("oc.listSortable")}},ListSortable.prototype.dispose=function(){this.unbindLists(),this.unregisterHandlers(),this.options=null,this.lists=[],BaseProto.dispose.call(this)},ListSortable.prototype.elementBelongsToManagedList=function(element){for(var i=this.lists.length-1;i>=0;i--){var list=this.lists[i];if(-1!==[].slice.call(list.children).indexOf(element))return!0}return!1},ListSortable.prototype.isDragStartAllowed=function(element){return!0},ListSortable.prototype.elementIsPlaceholder=function(element){return"list-sortable-placeholder"===element.getAttribute("class")},ListSortable.prototype.getElementSortableId=function(element){if(element.hasAttribute("data-list-sortable-element-id"))return element.getAttribute("data-list-sortable-element-id");++elementsIdCounter;return element.setAttribute("data-list-sortable-element-id",elementsIdCounter),elementsIdCounter},ListSortable.prototype.dataTransferContains=function(ev,element){return void 0!==ev.dataTransfer.types.indexOf?ev.dataTransfer.types.indexOf(element)>=0:ev.dataTransfer.types.contains(element)},ListSortable.prototype.isSourceManagedList=function(ev){return this.dataTransferContains(ev,this.listSortableId)},ListSortable.prototype.removePlaceholders=function(){for(var i=this.lists.length-1;i>=0;i--)for(var list=this.lists[i],placeholders=list.querySelectorAll(".list-sortable-placeholder"),j=placeholders.length-1;j>=0;j--)list.removeChild(placeholders[j])},ListSortable.prototype.createPlaceholder=function(element,ev){var placeholder=document.createElement("li"),placement=this.getPlaceholderPlacement(element,ev);this.removePlaceholders(),placeholder.setAttribute("class","list-sortable-placeholder"),placeholder.setAttribute("draggable",!0),"before"==placement?element.parentNode.insertBefore(placeholder,element):element.parentNode.insertBefore(placeholder,element.nextSibling)},ListSortable.prototype.moveElement=function(target,ev){var placeholder=target.parentNode.querySelector(".list-sortable-placeholder");if(placeholder){var elementId=ev.dataTransfer.getData("listsortable/elementid");if(elementId){var item=this.findDraggedItem(elementId);item&&(placeholder.parentNode.insertBefore(item,placeholder),$(item).trigger("dragged.list.sortable"))}}},ListSortable.prototype.findDraggedItem=function(elementId){for(var i=this.lists.length-1;i>=0;i--){var item=this.lists[i].querySelector('[data-list-sortable-element-id="'+elementId+'"]');if(item)return item}return null},ListSortable.prototype.getPlaceholderPlacement=function(hoverElement,ev){var mousePosition=$.oc.foundation.event.pageCoordinates(ev),elementPosition=$.oc.foundation.element.absolutePosition(hoverElement);if("vertical"==this.options.direction){var elementCenter=elementPosition.top+hoverElement.offsetHeight/2;return mousePosition.y<=elementCenter?"before":"after"}elementCenter=elementPosition.left+hoverElement.offsetWidth/2;return mousePosition.x<=elementCenter?"before":"after"},ListSortable.prototype.lastMousePositionChanged=function(ev){var mousePosition=$.oc.foundation.event.pageCoordinates(ev.originalEvent);return(null===this.lastMousePosition||this.lastMousePosition.x!=mousePosition.x||this.lastMousePosition.y!=mousePosition.y)&&(this.lastMousePosition=mousePosition,!0)},ListSortable.prototype.mouseOutsideLists=function(ev){for(var mousePosition=$.oc.foundation.event.pageCoordinates(ev),i=this.lists.length-1;i>=0;i--)if($.oc.foundation.element.elementContainsPoint(this.lists[i],mousePosition))return!1;return!0},ListSortable.prototype.getClosestDraggableParent=function(element){for(var current=element;current;){if("LI"===current.tagName&&current.hasAttribute("draggable"))return current;current=current.parentNode}return null},ListSortable.prototype.onDragStart=function(ev){this.isDragStartAllowed(ev.target)&&(ev.originalEvent.dataTransfer.effectAllowed="move",ev.originalEvent.dataTransfer.setData("listsortable/elementid",this.getElementSortableId(ev.target)),ev.originalEvent.dataTransfer.setData(this.listSortableId,this.listSortableId),$(document).on("mousemove",this.proxy(this.onDocumentMouseMove)),$(document).on("dragover",this.proxy(this.onDocumentDragOver)))},ListSortable.prototype.onDragOver=function(ev){if(this.isSourceManagedList(ev.originalEvent)){var draggable=this.getClosestDraggableParent(ev.target);draggable&&(!this.elementIsPlaceholder(draggable)&&this.lastMousePositionChanged(ev)&&this.createPlaceholder(draggable,ev.originalEvent),ev.stopPropagation(),ev.preventDefault(),ev.originalEvent.dataTransfer.dropEffect="move")}},ListSortable.prototype.onDragEnter=function(ev){if(this.isSourceManagedList(ev.originalEvent)){var draggable=this.getClosestDraggableParent(ev.target);draggable&&(this.elementIsPlaceholder(draggable)||(this.createPlaceholder(draggable,ev.originalEvent),ev.stopPropagation(),ev.preventDefault()))}},ListSortable.prototype.onDragLeave=function(ev){this.isSourceManagedList(ev.originalEvent)&&(ev.stopPropagation(),ev.preventDefault())},ListSortable.prototype.onDragDrop=function(ev){if(this.isSourceManagedList(ev.originalEvent)){var draggable=this.getClosestDraggableParent(ev.target);draggable&&(this.moveElement(draggable,ev.originalEvent),this.removePlaceholders())}},ListSortable.prototype.onDragEnd=function(ev){$(document).off("dragover",this.proxy(this.onDocumentDragOver))},ListSortable.prototype.onDocumentDragOver=function(ev){this.isSourceManagedList(ev.originalEvent)&&this.mouseOutsideLists(ev.originalEvent)&&this.removePlaceholders()},ListSortable.prototype.onDocumentMouseMove=function(ev){$(document).off("mousemove",this.proxy(this.onDocumentMouseMove)),this.removePlaceholders()},ListSortable.DEFAULTS={handle:null,direction:"vertical"};var old=$.fn.listSortable;$.fn.listSortable=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.listSortable"),options=$.extend({},ListSortable.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.listSortable",data=new ListSortable(this,options)),"string"==typeof option&&data&&data[option]){var methodArguments=Array.prototype.slice.call(args);methodArguments.shift(),data[option].apply(data,methodArguments)}}))},$.fn.listSortable.Constructor=ListSortable,$.fn.listSortable.noConflict=function(){return $.fn.listSortable=old,this},$(document).render((function(){$("[data-control=list-sortable]").listSortable()}))}(window.jQuery),void 0===$.oc&&($.oc={}),void 0===$.oc.langMessages&&($.oc.langMessages={}),$.oc.lang=function(lang,messages){return lang.load=function(locale){void 0===messages[locale]&&(messages[locale]={}),lang.loadedMessages=messages[locale]},lang.get=function(name,defaultValue){if(name){var result=lang.loadedMessages;return defaultValue||(defaultValue=name),$.each(name.split("."),(function(index,value){if(void 0===result[value])return result=defaultValue,!1;result=result[value]})),result}},void 0===lang.locale&&(lang.locale=$("html").attr("lang")||"en"),void 0===lang.loadedMessages&&lang.load(lang.locale),lang}($.oc.lang||{},$.oc.langMessages),function($){void 0===$.oc&&($.oc={}),$.oc.alert=function(message,title){var messageTitle="string"!=typeof title?$.oc.lang.get("alert.error"):title;$.oc.vueComponentHelpers.modalUtils.showAlert(messageTitle,message,{buttonText:$.oc.lang.get("alert.dismiss")})},$.oc.confirm=function(message,callback,title){"string"!=typeof title&&$.oc.lang.get("alert.confirm");$.oc.confirmPromise(message,title).then((function(){callback(!0)}),(function(){}))},$.oc.confirmPromise=function(message,title){var messageTitle="string"!=typeof title?$.oc.lang.get("alert.confirm"):title;return $.oc.vueComponentHelpers.modalUtils.showConfirm(messageTitle,message,{})}}(jQuery),$(window).on("ajaxErrorMessage",(function(event,message){message&&($.oc.alert(message),event.preventDefault())})),$(window).on("ajaxConfirmMessage",(function(event,message){if(message)return $.oc.confirm(message,(function(isConfirm){isConfirm?event.promise.resolve():event.promise.reject()})),event.preventDefault(),!0})),$(document).on("ajaxPromise","[data-request]",(function(){var $target=$(this);void 0!==$target.data("attach-loading")&&$target.addClass("oc-loading").prop("disabled",!0),$target.is("form")&&$("[data-attach-loading]",$target).addClass("oc-loading").prop("disabled",!0)})).on("ajaxFail ajaxDone","[data-request]",(function(){var $target=$(this);void 0!==$target.data("attach-loading")&&$target.removeClass("oc-loading").prop("disabled",!1),$target.is("form")&&$("[data-attach-loading]",$target).removeClass("oc-loading").prop("disabled",!1)})),function($){"use strict";void 0===$.oc&&($.oc={});$.oc.snackbar=new function(){var queue=[],lastUniqueId=0,displayedMessage=null;function runQueue(){if(null===displayedMessage){var parameters=queue.shift();void 0!==parameters&&function(parameters){displayedMessage={uniqueId:parameters.uniqueId};var $element=$('                    <div class="october-snackbar">                         <div class="snackbar-label"></div>                         <button class="snackbar-dismiss" aria-title="Dismiss">X</button>                     </div>'),$label=$element.find(".snackbar-label");if($label.text(parameters.message),$element.find(".snackbar-dismiss").one("click.snackbar",(function(){hideSnackbar($element,parameters.options)})),parameters.options&&parameters.options.action){var $actionButton=$('<button class="snackbar-action"></button>');$actionButton.text(parameters.options.action.label),$actionButton.one("click.snackbar",(function(){parameters.options.action.callback(),hideSnackbar($element,parameters.options)})),$actionButton.insertAfter($label)}$(document.body).append($element),displayedMessage.element=$element,displayedMessage.uniqueId=parameters.uniqueId,displayedMessage.options=parameters.options,setTimeout((function(){$element.addClass("enter"),setTimeout((function(){$element.addClass("show-snackbar"),function($element,options){var timeout=2e3;options&&options.timeout&&(timeout=options.timeout);options.timeoutId=setTimeout((function(){hideSnackbar($element,options)}),timeout)}($element,parameters.options)}),20)}),1)}(parameters)}}function hideSnackbar($element,options){$element.find("button").off(".snackbar"),$element.removeClass("show-snackbar"),clearTimeout(options.timeoutId),setTimeout((function(){displayedMessage=null,$element.remove(),runQueue()}),210)}function forceHideSnackbar($element,options){clearTimeout(options.timeoutId),options.timeoutId=setTimeout((function(){hideSnackbar($element,options)}),200)}this.show=function(message,options){!function(options){if(void 0!==options){if("object"!=typeof options)throw new Error("Snackbar options must be an object");if(void 0!==options.replace&&"number"!=typeof options.replace)throw new Error("Snackbar options.replace must be a number");if(void 0!==options.timeout){if("number"!=typeof options.timeout)throw new Error("Snackbar options.timeout must be a number");if(options.timeout<2e3)throw new Error("Snackbar options.timeout cannot be lower than 2000");if(options.timeout>8e3)throw new Error("Snackbar options.timeout cannot be higher than 8000")}if(void 0!==options.action){if("object"!=typeof options.action)throw new Error("Snackbar options.action must be an object");if("string"!=typeof options.action.label)throw new Error("Snackbar options.action.label must be a string");if("function"!=typeof options.action.callback)throw new Error("Snackbar options.action.callback must be a function")}}}(options),options&&options.replace&&(displayedMessage&&options.replace===displayedMessage.uniqueId?forceHideSnackbar(displayedMessage.element,displayedMessage.options):function(uniqueId){for(var index=0;index<queue.length;index++)if(queue[index].uniqueId==uniqueId)return void queue.splice(index,1)}(options.replace));var uniqueId=++lastUniqueId;return queue.push({message:message,options:options||{},uniqueId:uniqueId}),runQueue(),uniqueId},this.hide=function(uniqueId){displayedMessage&&uniqueId===displayedMessage.uniqueId&&forceHideSnackbar(displayedMessage.element,displayedMessage.options)}}}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Scrollpad=function(element,options){this.$el=$(element),this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,this.options=options,this.scrollbarSize=null,this.updateScrollbarTimer=null,this.dragOffset=null,Base.call(this),this.init(),$.oc.foundation.controlUtils.markDisposable(element)};(Scrollpad.prototype=Object.create(BaseProto)).constructor=Scrollpad,Scrollpad.prototype.dispose=function(){this.unregisterHandlers(),this.$el.get(0).removeChild(this.scrollbarElement),this.$el.removeData("oc.scrollpad"),this.$el=null,this.scrollbarElement=null,this.dragHandleElement=null,this.scrollContentElement=null,this.contentElement=null,BaseProto.dispose.call(this)},Scrollpad.prototype.scrollToStart=function(){var scrollAttr="vertical"==this.options.direction?"scrollTop":"scrollLeft";this.scrollContentElement[scrollAttr]=0},Scrollpad.prototype.update=function(){this.updateScrollbarSize()},Scrollpad.prototype.init=function(){this.build(),this.setScrollContentSize(),this.registerHandlers()},Scrollpad.prototype.build=function(){var el=this.$el.get(0);this.scrollContentElement=el.children[0],this.contentElement=this.scrollContentElement.children[0],this.$el.prepend('<div class="scrollpad-scrollbar"><div class="drag-handle"></div></div>'),this.scrollbarElement=el.querySelector(".scrollpad-scrollbar"),this.dragHandleElement=el.querySelector(".scrollpad-scrollbar > .drag-handle")},Scrollpad.prototype.registerHandlers=function(){this.$el.on("mouseenter",this.proxy(this.onMouseEnter)),this.$el.on("mouseleave",this.proxy(this.onMouseLeave)),this.$el.one("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.addEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.addEventListener("mousedown",this.proxy(this.onStartDrag))},Scrollpad.prototype.unregisterHandlers=function(){this.$el.off("mouseenter",this.proxy(this.onMouseEnter)),this.$el.off("mouseleave",this.proxy(this.onMouseLeave)),this.$el.off("dispose-control",this.proxy(this.dispose)),this.scrollContentElement.removeEventListener("scroll",this.proxy(this.onScroll)),this.dragHandleElement.removeEventListener("mousedown",this.proxy(this.onStartDrag)),document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},Scrollpad.prototype.setScrollContentSize=function(){var scrollbarSize=this.getScrollbarSize();"vertical"==this.options.direction?this.scrollContentElement.setAttribute("style","margin-right: -"+scrollbarSize+"px"):this.scrollContentElement.setAttribute("style","margin-bottom: -"+scrollbarSize+"px")},Scrollpad.prototype.getScrollbarSize=function(){if(null!==this.scrollbarSize)return this.scrollbarSize;var testerElement=document.createElement("div");testerElement.setAttribute("class","scrollpad-scrollbar-size-tester"),testerElement.appendChild(document.createElement("div")),document.body.appendChild(testerElement);var width=testerElement.offsetWidth,innerWidth=testerElement.querySelector("div").offsetWidth;return document.body.removeChild(testerElement),width===innerWidth&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?this.scrollbarSize=17:this.scrollbarSize=width-innerWidth},Scrollpad.prototype.updateScrollbarSize=function(){this.scrollbarElement.removeAttribute("data-hidden");var contentSize="vertical"==this.options.direction?this.contentElement.scrollHeight:this.contentElement.scrollWidth,scrollOffset="vertical"==this.options.direction?this.scrollContentElement.scrollTop:this.scrollContentElement.scrollLeft,scrollbarSize="vertical"==this.options.direction?this.scrollbarElement.offsetHeight:this.scrollbarElement.offsetWidth,scrollbarRatio=scrollbarSize/contentSize,handleOffset=Math.round(scrollbarRatio*scrollOffset)+2,handleSize=Math.floor(scrollbarRatio*(scrollbarSize-2))-2;scrollbarSize<contentSize?("vertical"==this.options.direction?this.dragHandleElement.setAttribute("style","top: "+handleOffset+"px; height: "+handleSize+"px"):this.dragHandleElement.setAttribute("style","left: "+handleOffset+"px; width: "+handleSize+"px"),this.scrollbarElement.removeAttribute("data-hidden")):this.scrollbarElement.setAttribute("data-hidden",!0)},Scrollpad.prototype.displayScrollbar=function(){this.clearUpdateScrollbarTimer(),this.updateScrollbarSize(),this.scrollbarElement.setAttribute("data-visible","true")},Scrollpad.prototype.hideScrollbar=function(){this.scrollbarElement.removeAttribute("data-visible")},Scrollpad.prototype.clearUpdateScrollbarTimer=function(){null!==this.updateScrollbarTimer&&(clearTimeout(this.updateScrollbarTimer),this.updateScrollbarTimer=null)},Scrollpad.prototype.onMouseEnter=function(){this.displayScrollbar()},Scrollpad.prototype.onMouseLeave=function(){this.hideScrollbar()},Scrollpad.prototype.onScroll=function(){null===this.updateScrollbarTimer&&(this.updateScrollbarTimer=setTimeout(this.proxy(this.displayScrollbar),10))},Scrollpad.prototype.onStartDrag=function(ev){$.oc.foundation.event.stop(ev);var pageCoords=$.oc.foundation.event.pageCoordinates(ev),eventOffset="vertical"==this.options.direction?pageCoords.y:pageCoords.x,handleCoords=$.oc.foundation.element.absolutePosition(this.dragHandleElement),handleOffset="vertical"==this.options.direction?handleCoords.top:handleCoords.left;this.dragOffset=eventOffset-handleOffset,document.addEventListener("mousemove",this.proxy(this.onMouseMove)),document.addEventListener("mouseup",this.proxy(this.onEndDrag))},Scrollpad.prototype.onMouseMove=function(ev){$.oc.foundation.event.stop(ev);var eventCoordsAttr="vertical"==this.options.direction?"y":"x",elementCoordsAttr="vertical"==this.options.direction?"top":"left",offsetAttr="vertical"==this.options.direction?"offsetHeight":"offsetWidth",scrollAttr="vertical"==this.options.direction?"scrollTop":"scrollLeft",dragPerc=($.oc.foundation.event.pageCoordinates(ev)[eventCoordsAttr]-$.oc.foundation.element.absolutePosition(this.scrollbarElement)[elementCoordsAttr]-this.dragOffset)/this.scrollbarElement[offsetAttr];dragPerc>1&&(dragPerc=1);var scrollPos=dragPerc*this.contentElement[offsetAttr];this.scrollContentElement[scrollAttr]=scrollPos},Scrollpad.prototype.onEndDrag=function(ev){document.removeEventListener("mousemove",this.proxy(this.onMouseMove)),document.removeEventListener("mouseup",this.proxy(this.onEndDrag))},Scrollpad.DEFAULTS={direction:"vertical"};var old=$.fn.scrollpad;$.fn.scrollpad=function(option){var args=Array.prototype.slice.call(arguments,1),result=void 0;return this.each((function(){var $this=$(this),data=$this.data("oc.scrollpad"),options=$.extend({},Scrollpad.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.scrollpad",data=new Scrollpad(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||this},$.fn.scrollpad.Constructor=Scrollpad,$.fn.scrollpad.noConflict=function(){return $.fn.scrollpad=old,this},$(document).on("render",(function(){$("div[data-control=scrollpad]").scrollpad()}))}(window.jQuery),function($){"use strict";void 0===$.oc&&($.oc={});var SideNav=function(element,options){this.options=options,this.$el=$(element),this.$list=$("ul",this.$el),this.$items=$("li",this.$list),this.init(),this.initResponsive()};function setCounterValue($counter,value){$counter.toggleClass("empty",0==value),$counter.text(value)}function setCountersValue(itemId,$el,value){setCounterValue($('span.counter[data-menu-id="'+itemId+'"]',$el),value),setCounterValue($('span.counter[data-menu-id="'+itemId+'"]',"#layout-sidenav-responsive"),value),setCounterValue($('span.counter[data-menu-id="'+itemId+'"]',"#layout-mainmenu"),value)}SideNav.DEFAULTS={activeClass:"active"},SideNav.prototype.init=function(){var self=this;this.$list.dragScroll({vertical:!0,useNative:!1,useDrag:!0,start:function(){self.$list.addClass("drag")},stop:function(){self.$list.removeClass("drag")},scrollClassContainer:self.$el,scrollMarkerContainer:self.$el}),this.$list.on("click",(function(){if(self.$list.hasClass("drag"))return!1}))},SideNav.prototype.initResponsive=function(){var $sideNav=$("#layout-sidenav-responsive"),$items=$("ul li",$sideNav),self=this;$items.click((function(){var itemId=$(this).data("menu-item");itemId&&($(this).data("no-side-panel")||($items.removeClass(self.options.activeClass).filter("[data-menu-item="+itemId+"]").addClass(self.options.activeClass),$("[data-menu-item="+itemId+"]:first",self.$list).trigger("click")))}))},SideNav.prototype.unsetActiveItem=function(itemId){this.$items.removeClass(this.options.activeClass)},SideNav.prototype.setActiveItem=function(itemId){itemId&&this.$items.removeClass(this.options.activeClass).filter("[data-menu-item="+itemId+"]").addClass(this.options.activeClass)},SideNav.prototype.setCounter=function(itemId,value){return setCountersValue(itemId,this.$el,value),this},SideNav.prototype.increaseCounter=function(itemId,value){var $counter=$('span.counter[data-menu-id="'+itemId+'"]',this.$el),originalValue=parseInt($counter.text());isNaN(originalValue)&&(originalValue=0);var newValue=value+originalValue;return setCountersValue(itemId,this.$el,newValue),this},SideNav.prototype.dropCounter=function(itemId){return this.setCounter(itemId,0),this};var old=$.fn.sideNav;$.fn.sideNav=function(option){var result,args=Array.prototype.slice.call(arguments,1);return this.each((function(){var $this=$(this),data=$this.data("oc.sideNav"),options=$.extend({},SideNav.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.sideNav",data=new SideNav(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1;void 0===$.oc.sideNav&&($.oc.sideNav=data)})),result||this},$.fn.sideNav.Constructor=SideNav,$.fn.sideNav.noConflict=function(){return $.fn.sideNav=old,this},$(document).ready((function(){$('[data-control="sidenav"]').sideNav()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Scrollbar=function(element,options){var $el=this.$el=$(element),el=$el.get(0),self=this,isNative=(options=this.options=options||{},this.sizeName=options.vertical?"height":"width",$("html").hasClass("mobile")),isTouch=this.isTouch=Modernizr.touchevents,eventElementName=(this.isScrollable=!1,this.isLocked=!1,options.vertical?"pageY":"pageX"),dragStart=0,startOffset=0;if($.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.$el.one("dispose-control",this.proxy(this.dispose)),!isNative){this.$scrollbar=$("<div />").addClass("scrollbar-scrollbar"),this.$track=$("<div />").addClass("scrollbar-track").appendTo(this.$scrollbar),this.$thumb=$("<div />").addClass("scrollbar-thumb").appendTo(this.$track),$el.addClass("drag-scrollbar").addClass(options.vertical?"vertical":"horizontal").prepend(this.$scrollbar),isTouch?this.$el.on("touchstart",(function(event){var touchEvent=event.originalEvent;1==touchEvent.touches.length&&(startDrag(touchEvent.touches[0]),event.stopPropagation())})):(this.$thumb.on("mousedown",(function(event){startDrag(event)})),this.$track.on("mouseup",(function(event){moveDrag(event)}))),$el.mousewheel((function(event){return!function(offset){startOffset=self.options.vertical?el.scrollTop:el.scrollLeft,$el.trigger("oc.scrollStart"),self.options.vertical?$el.scrollTop(startOffset+offset):$el.scrollLeft(startOffset+offset);var scrolled=self.options.vertical?el.scrollTop!=startOffset:el.scrollLeft!=startOffset;self.setThumbPosition(),isWebkit?$el.trigger("oc.scrollEnd"):(void 0!==self.endScrollTimeout&&(clearTimeout(self.endScrollTimeout),self.endScrollTimeout=void 0),self.endScrollTimeout=setTimeout((function(){$el.trigger("oc.scrollEnd"),self.endScrollTimeout=void 0}),50));return scrolled}((self.options.vertical?event.deltaFactor*event.deltaY*-1:event.deltaFactor*event.deltaX)*self.options.scrollSpeed)})),$el.on("oc.scrollbar.gotoStart",(function(event){self.options.vertical?$el.scrollTop(0):$el.scrollLeft(0),self.update(),event.stopPropagation()})),$(window).on("resize",$.proxy(this.update,this)),$(window).on("oc.updateUi",$.proxy(this.update,this));var isWebkit=$(document.documentElement).hasClass("webkit");setTimeout((function(){self.update()}),1)}function startDrag(event){$("body").addClass("drag-noselect"),$el.trigger("oc.scrollStart"),dragStart=event[eventElementName],startOffset=self.options.vertical?$el.scrollTop():$el.scrollLeft(),isTouch?($(window).on("touchmove.scrollbar",(function(event){moveDrag(event.originalEvent.touches[0])&&event.preventDefault()})),$el.on("touchend.scrollbar",stopDrag)):($(window).on("mousemove.scrollbar",(function(event){return moveDrag(event),!1})),$(window).on("mouseup.scrollbar",(function(){return stopDrag(),!1})))}function moveDrag(event){self.isLocked=!0;var offset,dragTo=event[eventElementName];if(self.isTouch)offset=dragStart-dragTo;else{var ratio=self.getCanvasSize()/self.getViewportSize();offset=(dragTo-dragStart)*ratio}return self.options.vertical?$el.scrollTop(startOffset+offset):$el.scrollLeft(startOffset+offset),self.setThumbPosition(),self.options.vertical?el.scrollTop!=startOffset:el.scrollLeft!=startOffset}function stopDrag(){$("body").removeClass("drag-noselect"),$el.trigger("oc.scrollEnd"),$(window).off(".scrollbar")}};(Scrollbar.prototype=Object.create(BaseProto)).constructor=Scrollbar,Scrollbar.prototype.dispose=function(){this.unregisterHandlers(),BaseProto.dispose.call(this)},Scrollbar.prototype.unregisterHandlers=function(){},Scrollbar.DEFAULTS={vertical:!0,scrollSpeed:2,animation:!0,start:function(){},drag:function(){},stop:function(){}},Scrollbar.prototype.update=function(){this.$scrollbar&&(this.$scrollbar.hide(),this.setThumbSize(),this.setThumbPosition(),this.$scrollbar.show())},Scrollbar.prototype.setThumbSize=function(){var properties=this.calculateProperties();this.isScrollable=!(properties.thumbSizeRatio>=1),this.$scrollbar.toggleClass("disabled",!this.isScrollable),this.options.vertical?(this.$track.height(properties.canvasSize),this.$thumb.height(properties.thumbSize)):(this.$track.width(properties.canvasSize),this.$thumb.width(properties.thumbSize))},Scrollbar.prototype.setThumbPosition=function(){var properties=this.calculateProperties();this.options.vertical?this.$thumb.css({top:properties.thumbPosition}):this.$thumb.css({left:properties.thumbPosition})},Scrollbar.prototype.calculateProperties=function(){var $el=this.$el,properties={};properties.viewportSize=this.getViewportSize(),properties.canvasSize=this.getCanvasSize(),properties.scrollAmount=this.options.vertical?$el.scrollTop():$el.scrollLeft();return properties.thumbSizeRatio=properties.viewportSize/(properties.canvasSize-1),properties.thumbSize=properties.viewportSize*properties.thumbSizeRatio,properties.thumbPositionRatio=properties.scrollAmount/(properties.canvasSize-properties.viewportSize),properties.thumbPosition=(properties.viewportSize-properties.thumbSize)*properties.thumbPositionRatio+properties.scrollAmount,isNaN(properties.thumbPosition)&&(properties.thumbPosition=0),properties},Scrollbar.prototype.getViewportSize=function(){return this.options.vertical?this.$el.height():this.$el.width()},Scrollbar.prototype.getCanvasSize=function(){return this.options.vertical?this.$el.get(0).scrollHeight:this.$el.get(0).scrollWidth},Scrollbar.prototype.gotoElement=function(element,callback){var $el=$(element);if($el.length){var offset=0,animated=!1,params={duration:300,queue:!1,complete:function(){void 0!==callback&&callback()}};return this.options.vertical?(offset=$el.get(0).offsetTop-this.$el.scrollTop(),this.options.animation?offset<0?(this.$el.animate({scrollTop:$el.get(0).offsetTop},params),animated=!0):(offset=$el.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&(this.$el.animate({scrollTop:$el.get(0).offsetTop+$el.outerHeight()-this.$el.outerHeight()},params),animated=!0):offset<0?this.$el.scrollTop($el.get(0).offsetTop):(offset=$el.get(0).offsetTop-(this.$el.scrollTop()+this.$el.outerHeight()))>0&&this.$el.scrollTop($el.get(0).offsetTop+$el.outerHeight()-this.$el.outerHeight())):(offset=$el.get(0).offsetLeft-this.$el.scrollLeft())<0?(this.$el.animate({scrollLeft:$el.get(0).offsetLeft},params),animated=!0):(offset=$el.get(0).offsetLeft+$el.outerWidth()-(this.$el.scrollLeft()+this.$el.outerWidth()))>0&&(this.$el.animate({scrollLeft:$el.get(0).offsetLeft+$el.outerWidth()-this.$el.outerWidth()},params),animated=!0),animated||void 0===callback||callback(),this}},Scrollbar.prototype.dispose=function(){this.$el=null,this.$scrollbar=null,this.$track=null,this.$thumb=null};var old=$.fn.scrollbar;$.fn.scrollbar=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.scrollbar"),options=$.extend({},Scrollbar.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.scrollbar",data=new Scrollbar(this,options)),"string"==typeof option&&data[option].call($this)}))},$.fn.scrollbar.Constructor=Scrollbar,$.fn.scrollbar.noConflict=function(){return $.fn.scrollbar=old,this},$(document).render((function(){$("[data-control=scrollbar]").scrollbar()}))}(window.jQuery),function($){"use strict";var FileList=function(element,options){this.options=options,this.$el=$(element),this.init()};FileList.DEFAULTS={ignoreItemClick:!1},FileList.prototype.init=function(){var self=this;this.$el.on("click","li.group > h4 > a, li.group > div.group",(function(){return self.toggleGroup($(this).closest("li")),!1})),this.options.ignoreItemClick||this.$el.on("click","li.item > a",(function(event){var e=$.Event("open.oc.list",{relatedTarget:$(this).parent().get(0),clickEvent:event});return self.$el.trigger(e,this),!1})),this.$el.on("ajaxUpdate",$.proxy(this.update,this))},FileList.prototype.toggleGroup=function(group){var $group=$(group);"expanded"==$group.attr("data-status")?this.collapseGroup($group):this.expandGroup($group)},FileList.prototype.collapseGroup=function(group){var $list=$("> ul, > div.subitems",group);$list.css("overflow","hidden"),$list.animate({height:0},{duration:100,queue:!1,complete:function(){$list.css({overflow:"visible",display:"none"}),$(group).attr("data-status","collapsed"),$(window).trigger("resize")}}),this.sendGroupStatusRequest(group,0)},FileList.prototype.expandGroup=function(group){var $list=$("> ul, > div.subitems",group);$list.css({overflow:"hidden",display:"block",height:0}),$list.animate({height:$list[0].scrollHeight},{duration:100,queue:!1,complete:function(){$list.css({overflow:"visible",height:"auto"}),$(group).attr("data-status","expanded"),$(window).trigger("resize")}}),this.sendGroupStatusRequest(group,1)},FileList.prototype.sendGroupStatusRequest=function(group,status){if(void 0!==this.options.groupStatusHandler){var groupId=$(group).data("group-id");void 0===groupId&&(groupId=$("> h4 a",group).text()),$(group).request(this.options.groupStatusHandler,{data:{group:groupId,status:status}})}},FileList.prototype.markActive=function(dataId){$("li.item",this.$el).removeClass("active"),dataId&&$('li.item[data-id="'+dataId+'"]',this.$el).addClass("active"),this.dataId=dataId},FileList.prototype.update=function(){void 0!==this.dataId&&this.markActive(this.dataId)};var old=$.fn.fileList;$.fn.fileList=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.fileList"),options=$.extend({},FileList.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.fileList",data=new FileList(this,options)),"string"==typeof option){for(var methodArgs=[],i=1;i<args.length;i++)methodArgs.push(args[i]);data[option].apply(data,methodArgs)}}))},$.fn.fileList.Constructor=FileList,$.fn.fileList.noConflict=function(){return $.fn.fileList=old,this},$(document).ready((function(){$("[data-control=filelist]").fileList()}))}(window.jQuery),function($){var OctoberLayout=function(){};OctoberLayout.prototype.setPageTitle=function(title){var $title=$("title");void 0===this.pageTitleTemplate&&(this.pageTitleTemplate=$title.data("titleTemplate")),$title.text(this.pageTitleTemplate.replace("%s",title))},OctoberLayout.prototype.updateLayout=function(title){var $children,$el,fixedWidth,margin;$("[data-calculate-width]").each((function(){($children=$(this).children()).length>0&&(fixedWidth=0,$children.each((function(){$el=$(this),void 0===(margin=$el.data("oc.layoutMargin"))&&(margin=parseInt($el.css("marginRight"))+parseInt($el.css("marginLeft")),$el.data("oc.layoutMargin",margin)),fixedWidth+=$el.get(0).offsetWidth+margin})),$(this).width(fixedWidth),$(this).trigger("oc.widthFixed"))}))},void 0===$.oc&&($.oc={}),$.oc.layout=new OctoberLayout,$(document).ready((function(){$.oc.layout.updateLayout(),window.setTimeout($.oc.layout.updateLayout,100)})),$(window).on("resize",(function(){$.oc.layout.updateLayout()})),$(window).on("oc.updateUi",(function(){$.oc.layout.updateLayout()}))}(jQuery),function($){"use strict";var SidePanelTab=function(element,options){this.options=options,this.$el=$(element),this.init()};SidePanelTab.prototype.init=function(){var self=this;this.tabOpenDelay=200,this.tabOpenTimeout=void 0,this.panelOpenTimeout=void 0,this.$sideNav=$("#layout-sidenav"),this.$sideNavRes=$("#layout-sidenav-responsive"),this.$sideNavItems=$("ul li",this.$sideNav),this.$sidePanelItems=$("[data-content-id]",this.$el),this.sideNavWidth=$("#layout-sidenav").outerWidth(),this.mainNavHeight=$.oc.backendCalculateTopContainerOffset(),this.panelVisible=!1,this.visibleItemId=!1,this.$sideNavItems.click((function(){if(!$(this).data("no-side-panel")){if($(window).width()<self.options.breakpoint){if($(this).data("menu-item")==self.visibleItemId&&self.panelVisible)return void self.hideSidePanel();self.displaySidePanel()}return self.displayTab(this),!1}})),$("#layout-body").click((function(){if(self.panelVisible)return self.hideSidePanel(),!1})),self.$el.on("close.oc.sidePanel",(function(){self.hideSidePanel()})),this.updateActiveTab()},SidePanelTab.prototype.displayTab=function(menuItem){var menuItemId=$(menuItem).data("menu-item");this.visibleItemId=menuItemId,$.oc.sideNav.setActiveItem(menuItemId),this.$sidePanelItems.each((function(){var $el=$(this);$el.toggleClass("oc-hide",$el.data("content-id")!=menuItemId)})),$(window).trigger("resize")},SidePanelTab.prototype.displaySidePanel=function(){$(document.body).addClass("display-side-panel"),this.$sideNavRes.is(":visible")&&(this.mainNavHeight=$.oc.backendCalculateTopContainerOffset()+this.$sideNavRes.outerHeight()),$("#layout-sidenav").is(":visible")?this.sideNavWidth=$("#layout-sidenav").outerWidth():this.sideNavWidth=0,this.$el.appendTo("#layout-canvas"),this.panelVisible=!0,this.$el.css({left:this.sideNavWidth,top:this.mainNavHeight}),this.updatePanelPosition(),$(window).trigger("resize")},SidePanelTab.prototype.hideSidePanel=function(){$(document.body).removeClass("display-side-panel"),0==this.$el.next("#layout-body").length&&$("#layout-body").before(this.$el),this.panelVisible=!1,this.updateActiveTab()},SidePanelTab.prototype.updatePanelPosition=function(){this.$el.height($(document).height()-this.mainNavHeight),this.panelVisible&&$(window).width()>this.options.breakpoint&&this.hideSidePanel()},SidePanelTab.prototype.updateActiveTab=function(){!this.panelVisible&&$(window).width()<this.options.breakpoint?$.oc.sideNav.unsetActiveItem():$.oc.sideNav.setActiveItem(this.visibleItemId)},SidePanelTab.DEFAULTS={breakpoint:769};var old=$.fn.sidePanelTab;$.fn.sidePanelTab=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.sidePanelTab"),options=$.extend({},SidePanelTab.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.sidePanelTab",data=new SidePanelTab(this,options)),"string"==typeof option&&data[option].call(data)}))},$.fn.sidePanelTab.Constructor=SidePanelTab,$.fn.sidePanelTab.noConflict=function(){return $.fn.sidePanelTab=old,this},$(document).ready((function(){$("[data-control=layout-sidepanel]").sidePanelTab()}))}(window.jQuery),function($){"use strict";var SimpleList=function(element,options){var $el=this.$el=$(element);if(this.options=options||{},$el.hasClass("is-sortable")){var sortableOptions={distance:10};this.options.sortableHandle&&(sortableOptions.handle=this.options.sortableHandle),$el.find(".drag-handle").length>0&&(sortableOptions.handle=".drag-handle"),$el.find("> ul, > ol").each((function(){Sortable.create(this,sortableOptions)}))}$el.hasClass("is-scrollable")&&($el.wrapInner($("<div />").addClass("control-scrollbar")),$el.find(">.control-scrollbar:first").scrollbar())};SimpleList.DEFAULTS={sortableHandle:null};var old=$.fn.simplelist;$.fn.simplelist=function(option){return this.each((function(){var $this=$(this),data=$this.data("oc.simplelist"),options=$.extend({},SimpleList.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("oc.simplelist",data=new SimpleList(this,options))}))},$.fn.simplelist.Constructor=SimpleList,$.fn.simplelist.noConflict=function(){return $.fn.simplelist=old,this},$(document).render((function(){$('[data-control="simplelist"]').simplelist()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,TreeListWidget=function(element,options){this.$el=$(element),this.options=options||{},Base.call(this),$.oc.foundation.controlUtils.markDisposable(element),this.init()};(TreeListWidget.prototype=Object.create(BaseProto)).constructor=TreeListWidget,TreeListWidget.prototype.init=function(){var sortableOptions={handle:this.options.handle,nested:this.options.nested,onDrop:this.proxy(this.onDrop),afterMove:this.proxy(this.onAfterMove)};this.$el.find("> ol").sortable($.extend(sortableOptions,this.options)),this.options.nested||this.$el.find("> ol ol").sortable($.extend(sortableOptions,this.options)),this.$el.one("dispose-control",this.proxy(this.dispose))},TreeListWidget.prototype.dispose=function(){this.unbind(),BaseProto.dispose.call(this)},TreeListWidget.prototype.unbind=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.find("> ol").sortable("destroy"),this.options.nested||this.$el.find("> ol ol").sortable("destroy"),this.$el.removeData("oc.treelist"),this.$el=null,this.options=null},TreeListWidget.DEFAULTS={handle:null,nested:!0},TreeListWidget.prototype.onDrop=function($item,container,_super){this.$el&&(this.$el.trigger("move.oc.treelist",{item:$item,container:container}),_super($item,container))},TreeListWidget.prototype.onAfterMove=function($placeholder,container,$closestEl){this.$el&&this.$el.trigger("aftermove.oc.treelist",{placeholder:$placeholder,container:container,closestEl:$closestEl})};var old=$.fn.treeListWidget;$.fn.treeListWidget=function(option){var result;return this.each((function(){var $this=$(this),data=$this.data("oc.treelist"),options=$.extend({},TreeListWidget.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.treelist",data=new TreeListWidget(this,options)),"string"==typeof option&&(result=data[option].call(data)),void 0!==result)return!1})),result||this},$.fn.treeListWidget.Constructor=TreeListWidget,$.fn.treeListWidget.noConflict=function(){return $.fn.treeListWidget=old,this},$(document).render((function(){$('[data-control="treelist"]').treeListWidget()}))}(window.jQuery),function($){"use strict";var SidenavTree=function(element,options){this.options=options,this.$el=$(element),this.init()};SidenavTree.DEFAULTS={treeName:"sidenav_tree",rememberSearch:!1},SidenavTree.prototype.init=function(){var self=this;if($(document.body).addClass("has-sidenav-tree"),this.statusCookieName=this.options.treeName+"groupStatus",this.searchCookieName=this.options.treeName+"search",this.$searchInput=$(this.options.searchInput),this.$el.on("click","li > div.group",(function(){return self.toggleGroup($(this).closest("li")),!1})),this.$searchInput.on("input",(function(){self.handleSearchChange()})),this.options.rememberSearch){var searchTerm=$.cookie(this.searchCookieName);void 0!==searchTerm&&searchTerm.length>0&&(this.$searchInput.val(searchTerm),this.applySearch())}var scrollbar=$("[data-control=scrollbar]",this.$el).data("oc.scrollbar"),active=$("li.active",this.$el);active.length>0&&scrollbar.gotoElement(active)},SidenavTree.prototype.toggleGroup=function(group){var $group=$(group),status=$group.attr("data-status");void 0===status||"expanded"==status?this.collapseGroup($group):this.expandGroup($group)},SidenavTree.prototype.collapseGroup=function(group){var $list=$("> ul",group),self=this;$list.css("overflow","hidden"),$list.animate({height:0},{duration:100,queue:!1,complete:function(){$list.css({overflow:"visible",display:"none"}),$(group).attr("data-status","collapsed"),$(window).trigger("oc.updateUi"),self.saveGroupStatus($(group).data("group-code"),!0)}})},SidenavTree.prototype.expandGroup=function(group,duration){var $list=$("> ul",group),self=this;duration=void 0===duration?100:duration,$list.css({overflow:"hidden",height:0}),$list.animate({height:$list[0].scrollHeight},{duration:duration,queue:!1,complete:function(){$list.css({overflow:"visible",height:"auto",display:""}),$(group).attr("data-status","expanded"),$(window).trigger("oc.updateUi"),self.saveGroupStatus($(group).data("group-code"),!1)}})},SidenavTree.prototype.saveGroupStatus=function(groupCode,collapsed){var collapsedGroups=$.cookie(this.statusCookieName),updatedGroups=[];void 0===collapsedGroups&&(collapsedGroups=""),collapsedGroups=collapsedGroups.split("|"),$.each(collapsedGroups,(function(){groupCode!=this&&updatedGroups.push(this)})),collapsed&&updatedGroups.push(groupCode),$.cookie(this.statusCookieName,updatedGroups.join("|"),{expires:30,path:"/"})},SidenavTree.prototype.handleSearchChange=function(){var lastValue=this.$searchInput.data("oc.lastvalue");if(void 0===lastValue||lastValue!=this.$searchInput.val()){this.$searchInput.data("oc.lastvalue",this.$searchInput.val()),void 0!==this.dataTrackInputTimer&&window.clearTimeout(this.dataTrackInputTimer);var self=this;this.dataTrackInputTimer=window.setTimeout((function(){self.applySearch()}),300),$.cookie(this.searchCookieName,$.trim(this.$searchInput.val()),{expires:30,path:"/"})}},SidenavTree.prototype.applySearch=function(){var query=$.trim(this.$searchInput.val()),words=query.toLowerCase().split(" "),visibleGroups=[],visibleItems=[],self=this;return 0==query.length?($("li",this.$el).removeClass("hidden"),void this.$el.removeClass("is-searching")):(this.$el.addClass("is-searching"),$("ul.top-level > li",this.$el).each((function(){var $li=$(this);self.textContainsWords($("div.group h3",$li).text(),words)?(visibleGroups.push($li.get(0)),$("ul li",$li).each((function(){visibleItems.push(this)}))):$("ul li",$li).each((function(){(self.textContainsWords($(this).text(),words)||self.textContainsWords($(this).data("keywords"),words))&&(visibleGroups.push($li.get(0)),visibleItems.push(this))}))})),$("ul.top-level > li",this.$el).each((function(){var $li=$(this),groupIsVisible=-1!==$.inArray(this,visibleGroups);$li.toggleClass("hidden",!groupIsVisible),groupIsVisible&&self.expandGroup($li,0),$("ul li",$li).each((function(){$(this).toggleClass("hidden",-1==$.inArray(this,visibleItems))}))})),$(window).trigger("resize"),!1)},SidenavTree.prototype.textContainsWords=function(text,words){text=text.toLowerCase();for(var i=0;i<words.length;i++)if(-1===text.indexOf(words[i]))return!1;return!0};var old=$.fn.sidenavTree;$.fn.sidenavTree=function(option){var args=arguments;return this.each((function(){var $this=$(this),data=$this.data("oc.sidenavTree"),options=$.extend({},SidenavTree.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.sidenavTree",data=new SidenavTree(this,options)),"string"==typeof option){for(var methodArgs=[],i=1;i<args.length;i++)methodArgs.push(args[i]);data[option].apply(data,methodArgs)}}))},$.fn.sidenavTree.Constructor=SidenavTree,$.fn.sidenavTree.noConflict=function(){return $.fn.sidenavTree=old,this},$(document).ready((function(){$("[data-control=sidenav-tree]").sidenavTree()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,DateTimeConverter=function(element,options){this.$el=$(element),this.options=options||{},$.oc.foundation.controlUtils.markDisposable(element),Base.call(this),this.init()};(DateTimeConverter.prototype=Object.create(BaseProto)).constructor=DateTimeConverter,DateTimeConverter.prototype.init=function(){this.initDefaults(),this.$el.text(this.getDateTimeValue()),this.$el.one("dispose-control",this.proxy(this.dispose))},DateTimeConverter.prototype.dispose=function(){this.$el.off("dispose-control",this.proxy(this.dispose)),this.$el.removeData("oc.dateTimeConverter"),this.$el=null,this.options=null,BaseProto.dispose.call(this)},DateTimeConverter.prototype.initDefaults=function(){this.options.timezone||(this.options.timezone=$('meta[name="backend-timezone"]').attr("content")),this.options.locale||(this.options.locale=$('meta[name="backend-locale"]').attr("content")),this.options.format||(this.options.format="llll"),this.options.formatAlias&&(this.options.format=this.getFormatFromAlias(this.options.formatAlias)),this.appTimezone=$('meta[name="app-timezone"]').attr("content"),this.appTimezone||(this.appTimezone="UTC")},DateTimeConverter.prototype.getDateTimeValue=function(){this.datetime=this.$el.attr("datetime"),this.$el.get(0).hasAttribute("data-ignore-timezone")&&(this.appTimezone="UTC",this.options.timezone="UTC");var momentObj=moment.tz(this.datetime,this.appTimezone);return this.options.locale&&(momentObj=momentObj.locale(this.options.locale)),this.options.timezone&&(momentObj=momentObj.tz(this.options.timezone)),this.options.timeSince?momentObj.fromNow():this.options.timeTense?momentObj.calendar():momentObj.format(this.options.format)},DateTimeConverter.prototype.getFormatFromAlias=function(alias){var map={time:"LT",timeLong:"LTS",date:"L",dateMin:"l",dateLong:"LL",dateLongMin:"ll",dateTime:"LLL",dateTimeMin:"lll",dateTimeLong:"LLLL",dateTimeLongMin:"llll"};return map[alias]?map[alias]:"llll"},DateTimeConverter.DEFAULTS={format:null,formatAlias:null,timezone:null,locale:null,timeTense:!1,timeSince:!1};var old=$.fn.dateTimeConverter;$.fn.dateTimeConverter=function(option){var items,result,args=Array.prototype.slice.call(arguments,1);return items=this.each((function(){var $this=$(this),data=$this.data("oc.dateTimeConverter"),options=$.extend({},DateTimeConverter.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.dateTimeConverter",data=new DateTimeConverter(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||items},$.fn.dateTimeConverter.Constructor=DateTimeConverter,$.fn.dateTimeConverter.noConflict=function(){return $.fn.dateTimeConverter=old,this},$(document).render((function(){$("time[data-datetime-control]").dateTimeConverter()}))}(window.jQuery),function($){"use strict";$.oc.responsiveMenu=function(closeCallback){var $mainMenuElement=$("#layout-mainmenu .navbar ul.mainmenu-items"),$menuContainer=$mainMenuElement.closest(".layout-row"),$responsiveMenuContainer=$("#layout-mainmenu-responsive-container"),$responsiveMainMenuPane=$responsiveMenuContainer.find(".mainmenu-pane"),$responsiveSubMenuPane=$responsiveMenuContainer.find(".submenu-pane"),$responsiveMainMenu=$responsiveMainMenuPane.find("ul.mainmenu-items"),$responsiveSubMenu=$responsiveSubMenuPane.find("ul.mainmenu-items"),$subMenuHeader=$responsiveSubMenuPane.find(".menu-header"),$subMenuHeaderMenuItem=$subMenuHeader.find(".mainmenu-item");function initScrollablePanel(el){el.addEventListener("scroll",(function(evt){!function(el){$(el.parentElement).toggleClass("scrolled",el.scrollTop>0)}(evt.target)}),{capture:!0,passive:!0})}function initMenuScroll($menu){$menu.dragScroll({vertical:!0,useNative:!1,useDrag:!0})}function onMainMenuItemClick(ev){var $menuItem=$(ev.currentTarget),$item=$menuItem.closest(".mainmenu-item");if($item.hasClass("has-subitems")){var submenuIndex=$item.data("submenuIndex"),$submenu=$menuContainer.find(".mainmenu-submenu-dropdown[data-submenu-index="+submenuIndex+"]");$responsiveSubMenu.html($submenu.html()),$subMenuHeaderMenuItem.html($menuItem.html()),$subMenuHeader.attr("data-submenu-index",submenuIndex),$(document.body).addClass("responsive-submenu-displayed"),ev.preventDefault()}}function onCloseSubmenuClick(ev){$(document.body).removeClass("responsive-submenu-displayed"),ev.preventDefault()}function onMenuMenuCloseClick(){closeCallback()}this.show=function(){$responsiveMainMenu.dragScroll("goToStart"),$responsiveSubMenu.dragScroll("goToStart"),$(document.body).addClass("responsive-menu-displayed")},this.hide=function(){$(document.body).removeClass("responsive-menu-displayed"),window.setTimeout((function(){$(document.body).removeClass("responsive-submenu-displayed")}),250)},$mainMenuElement.length&&(initMenuScroll($responsiveMainMenu),initMenuScroll($responsiveSubMenu),$(document.body).on("click",".mainmenu-items",(function(){if($(document.body).hasClass("drag"))return!1})),initScrollablePanel($responsiveMainMenu.get(0)),initScrollablePanel($responsiveSubMenu.get(0)),$responsiveMainMenuPane.on("click",".mainmenu-item",onMainMenuItemClick),$responsiveSubMenuPane.on("click","a.go-back-link",onCloseSubmenuClick),$responsiveMainMenuPane.on("click","a.close-link",onMenuMenuCloseClick))}}(window.jQuery),function($){"use strict";function MainMenu(){var $mainMenuElement=$(".layout-mainmenu .navbar ul.mainmenu-items"),$leftMenuElement=$("#layout-mainmenu-left"),$leftMenuMainMenu=$leftMenuElement.find("[data-control=toolbar]"),$leftMenuExtrasMenu=$leftMenuElement.find(".mainmenu-extras"),$mainMenuToolbar=$(".layout-mainmenu [data-control=toolbar]"),$menuContainer=$("#layout-mainmenu").closest(".layout-row"),menuHeight=$.oc.backendCalculateTopContainerOffset(),responsiveMenu=new $.oc.responsiveMenu(hideMenus),leftMenuDebounceTimer=null,leftMenuWidth=null,leftMenuLeaveDebounceTimer=null,$overlay=null,isTouch=!1,$leftMenuOverlay=null;function onKeyDown(ev){27==ev.keyCode&&hideMenus(null,!0)}function onLeftMenuTouch(ev){isTouch=!0}function onLeftMenuItemClick(ev){if(isTouch&&!$(document.body).hasClass("reveal-left-side-menu"))return onLeftMenuMouseEnter(),ev.stopPropagation(),ev.preventDefault(),!1}function onLeftMenuMouseEnter(){leftMenuLeaveDebounceTimer&&(window.clearTimeout(leftMenuLeaveDebounceTimer),leftMenuLeaveDebounceTimer=null),$(document.body).hasClass("reveal-left-side-menu")||(leftMenuDebounceTimer&&window.clearTimeout(leftMenuDebounceTimer),leftMenuDebounceTimer=window.setTimeout(showLeftMenu,100))}function onLeftMenuMouseLeave(){$(document.body).hasClass("left-menu-submenu-displayed")||(leftMenuDebounceTimer&&(window.clearTimeout(leftMenuDebounceTimer),leftMenuDebounceTimer=null),leftMenuLeaveDebounceTimer&&window.clearTimeout(leftMenuLeaveDebounceTimer),leftMenuLeaveDebounceTimer=window.setTimeout(hideLeftMenu,300))}function showLeftMenu(){$(document.body).addClass("reveal-left-side-menu"),$leftMenuElement.data("original-width")||$leftMenuElement.data("original-width",$leftMenuElement.width()),addKeyListener(),getLeftMenuOverlay().addClass("oc-show"),$leftMenuElement.width(function(){if(null!==leftMenuWidth)return leftMenuWidth;var leftMenuContainer=$leftMenuElement.closest(".left-side-menu-container");leftMenuContainer.addClass("width-check");var extrasWidth=0;return $(".nav-label",$leftMenuExtrasMenu).each((function(){var labelTotalWidth=$(this).offset().left+$(this).outerWidth(!0)+20;extrasWidth=Math.max(extrasWidth,labelTotalWidth)})),leftMenuWidth=Math.max($leftMenuMainMenu.outerWidth(),extrasWidth),leftMenuContainer.removeClass("width-check"),leftMenuWidth}())}function hideLeftMenu(){leftMenuLeaveDebounceTimer&&(window.clearTimeout(leftMenuLeaveDebounceTimer),leftMenuLeaveDebounceTimer=null),$leftMenuElement.width($leftMenuElement.data("original-width")),getLeftMenuOverlay().removeClass("oc-show"),$(document.body).removeClass("reveal-left-side-menu")}function addKeyListener(){$(document).on("keydown.mainmenusubmenu",onKeyDown)}function hideMenus(ev,hideAll){var isSubmenuDisplayed=$(document.body).hasClass("left-menu-submenu-displayed");getOverlay().removeClass("oc-show"),$(".mainmenu-submenu-dropdown.oc-show",$menuContainer).removeClass("oc-show"),$(document.body).removeClass("left-menu-submenu-displayed"),$(document).off(".mainmenusubmenu"),isSubmenuDisplayed&&!hideAll||(hideLeftMenu(),responsiveMenu.hide())}function getOverlay(){return $overlay||(($overlay=$('<div class="mainmenu-submenu-overlay"></div>').appendTo(document.body)).on("click",(function(ev){hideMenus(0,ev.pageX>$leftMenuElement.outerWidth())})),$overlay)}function getLeftMenuOverlay(){return $leftMenuOverlay||(($leftMenuOverlay=$('<div class="mainmenu-leftmenu-overlay"></div>').appendTo(document.body)).on("click",hideMenus),$leftMenuOverlay)}function onItemClick(ev){var $li=$(ev.currentTarget).closest("li");return ev.preventDefault(),$(document.body).hasClass("drag")||function($li){var submenuIndex=$li.data("submenuIndex"),$submenu=$menuContainer.find(".mainmenu-submenu-dropdown[data-submenu-index="+submenuIndex+"]"),isLeftSideMenu=$li.closest("#layout-mainmenu-left").length>0;if(getOverlay().addClass("oc-show"),isLeftSideMenu){$(document.body).addClass("left-menu-submenu-displayed");var menuTop=$li.offset().top;$submenu.css({top:menuTop,left:$leftMenuElement.outerWidth()})}else{var menuLeft=$li.offset().left;$submenu.css({top:menuHeight,left:menuLeft})}if($submenu.addClass("oc-invisible"),$submenu.addClass("oc-show"),isLeftSideMenu){var submenuPosition=$submenu.position(),menuBottom=$submenu.height()+submenuPosition.top,windowHeight=window.scrollY+$(document.body).height();menuBottom>windowHeight-20&&$submenu.css({top:submenuPosition.top-(menuBottom-windowHeight)-20})}else{var menuRight=menuLeft+$submenu.width(),windowWidth=$(window).width();menuRight>windowWidth-20&&$submenu.css({left:menuLeft-(menuRight-windowWidth)-20})}$submenu.removeClass("oc-invisible"),addKeyListener()}($li),!1}function onShowResponsiveMenuClick(ev){return ev.preventDefault(),addKeyListener(),getOverlay().addClass("oc-show"),responsiveMenu.show(),!1}$leftMenuElement.find("li a").on("touchstart",onLeftMenuTouch).on("click",onLeftMenuItemClick),$mainMenuElement.on("click","li.has-subitems",onItemClick),$mainMenuElement.on("click",".mainmenu-toggle",onShowResponsiveMenuClick),$leftMenuElement.on("mouseenter",onLeftMenuMouseEnter),$leftMenuElement.on("mouseleave",onLeftMenuMouseLeave),$mainMenuToolbar.each((function(){var dragScroll=$(this).data("oc.dragScroll");dragScroll&&dragScroll.goToElement($(this).find("ul.mainmenu-items > li.active"),void 0,{duration:0,alignBottom:!0})})),this.reload=function(mainMenuHtml,mainMenuLeftHtml,sidenavResponsiveHtml){$("#layout-mainmenu").html(mainMenuHtml),$("#layout-mainmenu-left").html(mainMenuLeftHtml),$("#layout-sidenav-responsive").html(sidenavResponsiveHtml),$.oc.mainMenu=new MainMenu}}$(document).ready((function(){$.oc.mainMenu=new MainMenu}))}(window.jQuery),function($){"use strict";$.oc.modalFocusManager=new function(){var modalStack=[];function addEventAndCall(callback){$(document).on("focusin.octoberfocusmanager",callback),callback(null)}function removeCallbacks(){$(document).off(".octoberfocusmanager")}this.push=function(focusInCallback,type,uid,isHotkeyBlocking){removeCallbacks(),addEventAndCall(focusInCallback),modalStack.push({focusInCallback:focusInCallback,type:type,uid:uid,isHotkeyBlocking:isHotkeyBlocking})},this.hasHotkeyBlockingAbove=function(uid){for(var uidIndex=function(uid){for(var index=0;index<modalStack.length;index++)if(modalStack[index].uid==uid)return index;return null}(uid),index=null!==uidIndex?uidIndex:0;index<modalStack.length;index++)if(modalStack[index].isHotkeyBlocking)return!0;return!1},this.getTop=function(){return modalStack.length>0?modalStack[modalStack.length-1]:null},this.isUidTop=function(uid){var top=this.getTop();return null!==top&&void 0!==top.uid&&top.uid===uid},this.getNumberOfType=function(type){for(var result=0,index=0;index<modalStack.length;index++)modalStack[index].type==type&&result++;return result},this.pop=function(){(modalStack.pop(),removeCallbacks(),modalStack.length>0)&&addEventAndCall(modalStack[modalStack.length-1].focusInCallback)}}}(window.jQuery),function($){"use strict";window.jQuery.oc.domIdManager=new function(){var indexes=1;this.generate=function(prefix){var result="id-"+indexes++;return"string"==typeof prefix&&(result=prefix+"-"+result),result}}}(),function($){"use strict";$.oc.vueUtils=new function(){function findTraverseObjects(objectArray,currentKey,keyProperty){for(var index=0;index<objectArray.length;index++)if(objectArray[index][keyProperty]===currentKey)return objectArray[index];return null}this.getObjectProperty=function(obj,propertyPath){for(var pathParts=propertyPath.split("."),currentObject=obj,index=0;index<pathParts.length;index++){var currentProperty=pathParts[index];if(void 0===currentObject[currentProperty])return;currentObject=currentObject[currentProperty]}return currentObject},this.getCleanObject=function(obj){return JSON.parse(JSON.stringify(obj))},this.findObjectByKeyPath=function(objectArray,keyPathArray,childrenListProperty,keyProperty){for(var keyPathCopy=keyPathArray.slice(),currentKey=keyPathCopy.shift(),obj=null;void 0!==currentKey;){if(!objectArray)return null;if(null===(obj=findTraverseObjects(objectArray,currentKey,keyProperty)))return obj;void 0===(objectArray=this.getObjectProperty(obj,childrenListProperty))&&(objectArray=[]),currentKey=keyPathCopy.shift()}return obj},this.findObjectsByProperty=function(objectArray,childrenListProperty,propertyName,propertyValue,path){var result=[];return function traverse(objects){for(var index=0;index<objects.length;index++){var object=objects[index];object[propertyName]===propertyValue&&result.push(object),traverse(object[childrenListProperty]||[])}}(objectArray),result},this.getObjectPathByProperty=function(objectArray,childrenListProperty,propertyName,propertyValue){return function traverse(objects,path){for(var index=0;index<objects.length;index++){var object=objects[index],currentPropertyValue=object[propertyName];if(currentPropertyValue===propertyValue)return path.concat(currentPropertyValue);var childPath=traverse(object[childrenListProperty]||[],path.concat(currentPropertyValue));if(childPath)return childPath}}(objectArray,[])},this.findObjectParentInfoByProperty=function(objectArray,childrenListProperty,propertyName,propertyValue){return function traverse(objects){for(var index=0;index<objects.length;index++){var object=objects[index];if(object[propertyName]===propertyValue)return{parentArray:objects,index:index,object:object};var subtreeResult=traverse(object[childrenListProperty]||[]);if(subtreeResult)return subtreeResult}}(objectArray)},this.getFlattenNodes=function(objectArray,childrenListProperty){var result=[];return function traverse(objects){for(var index=0;index<objects.length;index++){var object=objects[index];traverse(object[childrenListProperty]||[]),result.push(object)}}(objectArray),result},this.stringHashCode=function(value){var i,hash=0;for(i=0;i<value.length;i++)hash=(hash<<5)-hash+value.charCodeAt(i),hash|=0;return hash},this.syncObjectProperties=function(srcObj,destObj){for(var srcProp in srcObj)srcObj.hasOwnProperty(srcProp)&&(destObj[srcProp]=srcObj[srcProp]);for(var destProp in destObj)destObj.hasOwnProperty(destProp)&&(srcObj.hasOwnProperty(destProp)||delete destObj[destProp])},this.stringFuzzySearch=function(query,str){for(var queryArray=query.split(" "),wordsFound=0,index=0;index<queryArray.length;index++)-1!==str.indexOf(queryArray[index])&&wordsFound++;return wordsFound==queryArray.length},this.getRelativeOffset=function(element1,element2){var offset1=$(element1).offset(),offset2=$(element2).offset();return{left:offset1.left-offset2.left,top:offset1.top-offset2.top}}}}(window.jQuery),function($){"use strict";var tooltips=new function(){var $tooltipElement=null,tooltipTimeout=null;function clearTooltipTimeout(){null!==tooltipTimeout&&clearTimeout(tooltipTimeout),tooltipTimeout=null}function destroyTooltip(){$tooltipElement&&($tooltipElement.addClass("tooltip-invisible"),setTimeout((function(){$tooltipElement.addClass("tooltip-hidden")}),150))}function onMouseEnter(ev){ev.target&&ev.target.getAttribute&&ev.target.dataset&&ev.target.getAttribute("data-tooltip-text")&&(clearTooltipTimeout(),destroyTooltip(),tooltipTimeout=setTimeout((function(){!function(element){$tooltipElement||($tooltipElement=$('<div class="october-tooltip tooltip-hidden tooltip-invisible"><span class="tooltip-text"></span><span class="tooltip-hotkey"></span></div>'),$(document.body).append($tooltipElement)),$tooltipElement.find(".tooltip-text").text(element.getAttribute("data-tooltip-text"));var tooltipHotkey=element.getAttribute("data-tooltip-hotkey"),hotkeySpan=$tooltipElement.find(".tooltip-hotkey").html("");tooltipHotkey&&tooltipHotkey.split(",").forEach((function(hotkeys){hotkeySpan.append($("<i>").text(hotkeys.trim()))})),$tooltipElement.removeClass("tooltip-hidden"),$tooltipElement.css("left",0);var $element=$(element),elementOffset=$element.offset(),elementWidth=$element.outerWidth(),elementHeight=$element.height(),tooltipWidth=$tooltipElement.outerWidth(),bodyWidth=$(document.body).width(),left=Math.round(elementOffset.left+elementWidth/2-tooltipWidth/2);left<0&&(left=15);var rightDiff=left+tooltipWidth-bodyWidth;rightDiff>0&&(left-=rightDiff+15),$tooltipElement.css({left:left,top:elementOffset.top+elementHeight+5}),$tooltipElement.removeClass("tooltip-invisible")}(ev.target)}),300))}function onMouseLeave(ev){ev.target&&ev.target.getAttribute&&ev.target.dataset&&ev.target.getAttribute("data-tooltip-text")&&(clearTooltipTimeout(),destroyTooltip())}function onMouseDown(ev){destroyTooltip()}function onKeyDown(ev){destroyTooltip()}document.addEventListener("mouseenter",onMouseEnter,!0),document.addEventListener("mouseleave",onMouseLeave,!0),document.addEventListener("mousedown",onMouseDown),document.addEventListener("click",onMouseDown),document.addEventListener("keydown",onKeyDown),this.clear=function(){clearTooltipTimeout(),destroyTooltip()}};$.oc.octoberTooltips={clear:function(){tooltips.clear()}}}(window.jQuery),function($){"use strict";$.oc.module=new function(){this.modules=new Map,this.register=function(namespace,registrationFn){this.modules.has(namespace)?console.info("Module namespace is already registered: "+namespace):this.modules.set(namespace,registrationFn())},this.import=function(namespace){if(!this.exists(namespace))throw new Error("Module namespace is not registered: "+namespace);return this.modules.get(namespace)},this.exists=function(namespace){return this.modules.has(namespace)}}}($),$.oc.module.register("backend.october.vueapp",(function(){"use strict";return class{state;methods;containers;constructor(){this.methods={},this.containers={},this.state={processing:!1,lang:{}},this.registerMethods(),document.addEventListener("DOMContentLoaded",(()=>{this.loadInitialState(),this.initListeners(),this.initContainers()}),!1)}registerMethod(name,fn){this.methods[name]=fn}registerMethods(){this.registerMethod("onCommand",((command,isHotkey,ev,targetElement,customData)=>this.onCommand(command,isHotkey,ev,targetElement,customData)))}getLangString(key){return this.state.lang[key]}loadInitialState(){document.querySelectorAll("[data-vue-state]").forEach((element=>{const stateIndex=element.getAttribute("data-vue-state");this.state[stateIndex]=JSON.parse(element.innerHTML)}))}onBeforeContainersInit(){}async onCommand(command,isHotkey,ev,targetElement,customData){let parts=command.split(":");if(2==parts.length&&"form"!==parts[0])throw new Error("Unknown command: "+command);let requestData={},customDataOptions=customData||{};if(customDataOptions.request&&(requestData=customData.request),customDataOptions.confirm)try{await $.oc.confirmPromise(customDataOptions.confirm)}catch(error){return Promise.reject()}return this.state.processing=!0,this.ajaxRequest(targetElement,parts[1],requestData).finally((()=>{this.state.processing=!1}))}isFormCommand(command){let parts=command.split(":");return 2===parts.length&&"form"===parts[0]}ajaxRequest(element,handler,requestData){return new Promise((function(resolve,reject,onCancel){const request=$(element).request(handler,requestData);request.fail&&request.fail((function(data){reject(data)})),request.done&&request.done((function(data){resolve(data)})),onCancel((function(){request.abort()}))}))}initContainers(){document.querySelectorAll("[data-vue-container]").forEach((element=>{this.initContainerLang(element)})),this.onBeforeContainersInit(),document.querySelectorAll("[data-vue-container]").forEach((element=>{const containerName=element.getAttribute("data-vue-container"),vm=new Vue({data:{state:this.state},el:element,methods:this.methods});containerName&&(this.containers[containerName]=vm)}))}initContainerLang(element){const dataElements=Object.assign({},element.dataset);Object.keys(dataElements).forEach(((key,index)=>{key.startsWith("lang")&&(this.state.lang[key.substring(4)]=dataElements[key])}))}initListeners(){}}})),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,Flyout=function(element,options){this.$el=$(element),this.$overlay=null,this.options=options,this.$proxyContainer=$("#layout-sidenav-responsive"),Base.call(this),this.init()};(Flyout.prototype=Object.create(BaseProto)).constructor=Flyout,Flyout.prototype.dispose=function(){this.removeOverlay(),this.$el.removeData("oc.flyout"),this.$el=null,this.options.flyoutToggle&&this.removeToggle(),BaseProto.dispose.call(this)},Flyout.prototype.toggle=function(){$(document.body).hasClass("flyout-visible")?this.hide():this.show()},Flyout.prototype.show=function(){var $cells=this.$el.find("> .layout-cell"),$flyout=this.$el.find("> .flyout");$("[data-control=layout-sidepanel]").sidePanelTab("hideSidePanel"),this.removeOverlay();for(var i=0;i<$cells.length;i++){var $cell=$($cells[i]),width=$cell.width();$cell.css("width",width)}this.createOverlay(),window.setTimeout(this.proxy(this.setBodyClass),1),$flyout.css("width",this.options.flyoutWidth),this.hideToggle()},Flyout.prototype.hide=function(){for(var $cells=this.$el.find("> .layout-cell"),$flyout=this.$el.find("> .flyout"),i=0;i<$cells.length;i++){$($cells[i]).css("width","")}$flyout.css("width",0),window.setTimeout(this.proxy(this.removeBodyClass),1),window.setTimeout(this.proxy(this.removeOverlayAndShowToggle),300)},Flyout.prototype.init=function(){this.build()},Flyout.prototype.build=function(){this.options.flyoutToggle&&this.buildToggle()},Flyout.prototype.buildToggle=function(){var $toggleContainer=$(this.options.flyoutToggle),$toggle=$('<div class="flyout-toggle"><i class="icon-chevron-right"></i></div>');$toggle.on("click",this.proxy(this.show)),$toggleContainer.append($toggle);var $proxyToggle=$('<div class="flyout-toggle"><i class="icon-chevron-right"></i></div>');$proxyToggle.on("click",this.proxy(this.toggle)),this.$proxyContainer.append($proxyToggle),this.$proxyContainer.addClass("has-toggle")},Flyout.prototype.removeToggle=function(){var $toggle=this.getToggle();$toggle.off("click",this.proxy(this.show)),$toggle.remove();var $proxyToggle=this.getProxyToggle();$proxyToggle.off("click",this.proxy(this.show)),$proxyToggle.remove()},Flyout.prototype.hideToggle=function(){this.options.flyoutToggle&&this.getToggle().hide()},Flyout.prototype.showToggle=function(){this.options.flyoutToggle&&(this.getToggle().show(),this.getProxyToggle().show())},Flyout.prototype.getToggle=function(){return $(this.options.flyoutToggle).find(".flyout-toggle")},Flyout.prototype.getProxyToggle=function(){return this.$proxyContainer.find(".flyout-toggle")},Flyout.prototype.setBodyClass=function(){$(document.body).addClass("flyout-visible")},Flyout.prototype.removeBodyClass=function(){$(document.body).removeClass("flyout-visible")},Flyout.prototype.createOverlay=function(){this.$overlay=$('<div class="flyout-overlay"/>');var position=this.$el.offset();this.$overlay.css({top:position.top,left:this.options.flyoutWidth}),this.$overlay.on("click",this.proxy(this.onOverlayClick)),$(document.body).on("keydown",this.proxy(this.onDocumentKeydown)),$(document.body).append(this.$overlay)},Flyout.prototype.removeOverlay=function(){this.$overlay&&(this.$overlay.off("click",this.proxy(this.onOverlayClick)),$(document.body).off("keydown",this.proxy(this.onDocumentKeydown)),this.$overlay.remove(),this.$overlay=null)},Flyout.prototype.removeOverlayAndShowToggle=function(){this.removeOverlay(),this.showToggle()},Flyout.prototype.onOverlayClick=function(){this.hide()},Flyout.prototype.onDocumentKeydown=function(ev){"Escape"===ev.key&&this.hide()},Flyout.DEFAULTS={flyoutWidth:400,flyoutToggle:null};var old=$.fn.flyout;$.fn.flyout=function(option){var args=Array.prototype.slice.call(arguments,1),result=void 0;return this.each((function(){var $this=$(this),data=$this.data("oc.flyout"),options=$.extend({},Flyout.DEFAULTS,$this.data(),"object"==typeof option&&option);if(data||$this.data("oc.flyout",data=new Flyout(this,options)),"string"==typeof option&&(result=data[option].apply(data,args)),void 0!==result)return!1})),result||this},$.fn.flyout.Constructor=Flyout,$.fn.flyout.noConflict=function(){return $.fn.flyout=old,this},$(document).ready((function(){$("div[data-control=flyout]").flyout()}))}(window.jQuery),function($){"use strict";var Base=$.oc.foundation.base,BaseProto=Base.prototype,TabFormExpandControls=function($tabsControlElement,options){this.$tabsControlElement=$tabsControlElement,this.options=$.extend(TabFormExpandControls.DEFAULTS,"object"==typeof options&&options),this.tabsControlId=null,Base.call(this),this.init()};TabFormExpandControls.prototype=Object.create(BaseProto),TabFormExpandControls.prototype.constructor=TabFormExpandControls,TabFormExpandControls.prototype.init=function(){if(this.tabsControlId=this.$tabsControlElement.attr("id"),!this.tabsControlId)throw new Error("The tab controls element should have the id attribute value.");this.registerHandlers()},TabFormExpandControls.prototype.dispose=function(){this.unregisterHandlers(),this.$tabsControlElement=null,BaseProto.dispose.call(this)},TabFormExpandControls.prototype.registerHandlers=function(){this.$tabsControlElement.on("initTab.oc.tab",this.proxy(this.initTab)),this.$tabsControlElement.on("click",'[data-control="tabless-collapse-icon"]',this.proxy(this.tablessCollapseClicked)),this.$tabsControlElement.on("click",'[data-control="primary-collapse-icon"]',this.proxy(this.primaryCollapseClicked))},TabFormExpandControls.prototype.unregisterHandlers=function(){this.$tabsControlElement.off("initTab.oc.tab",this.proxy(this.initTab)),this.$tabsControlElement.off("click",'[data-control="tabless-collapse-icon"]',this.proxy(this.tablessCollapseClicked)),this.$tabsControlElement.off("click",'[data-control="primary-collapse-icon"]',this.proxy(this.primaryCollapseClicked))},TabFormExpandControls.prototype.initTab=function(ev,data){if($(ev.target).attr("id")==this.tabsControlId){var $primaryPanel=this.findPrimaryPanel(data.pane),$panel=$(".form-tabless-fields",data.pane),$secondaryPanel=this.findSecondaryPanel(data.pane),hasSecondaryTabs=$secondaryPanel.length>0;$secondaryPanel.addClass("secondary-content-tabs"),$panel.append(this.createTablessCollapseIcon()),hasSecondaryTabs||$(".tab-pane",$primaryPanel).addClass("pane-compact"),$(".nav-tabs",$primaryPanel).addClass("master-area"),$primaryPanel.length>0?$secondaryPanel.append(this.createPrimaryCollapseIcon()):$secondaryPanel.addClass("primary-collapsed"),$("a",data.tab).hasClass("new-template")||1!=this.getLocalStorageValue("tabless",0)||$panel.addClass("collapsed"),1==this.getLocalStorageValue("primary",0)&&hasSecondaryTabs&&($primaryPanel.addClass("collapsed"),$secondaryPanel.addClass("primary-collapsed")),this.options.onInitTab&&this.options.onInitTab($("form",data.pane))}},TabFormExpandControls.prototype.tablessCollapseClicked=function(ev){var $panel=$(ev.target).closest(".form-tabless-fields");return $panel.toggleClass("collapsed"),this.setLocalStorageValue("tabless",$panel.hasClass("collapsed")?1:0),window.setTimeout(this.proxy(this.updateUi),500),ev.stopPropagation(),!1},TabFormExpandControls.prototype.primaryCollapseClicked=function(ev){var $pane=$(ev.target).closest(".tab-pane"),$primaryPanel=this.findPrimaryPanel($pane),$secondaryPanel=this.findSecondaryPanel($pane);return $primaryPanel.toggleClass("collapsed"),$secondaryPanel.toggleClass("primary-collapsed"),this.updateUi(),this.setLocalStorageValue("primary",$primaryPanel.hasClass("collapsed")?1:0),!1},TabFormExpandControls.prototype.updateUi=function(){$(window).trigger("oc.updateUi")},TabFormExpandControls.prototype.createTablessCollapseIcon=function(){return $('<a href="javascript:;" class="tab-collapse-icon tabless" data-control="tabless-collapse-icon"><i class="icon-chevron-up"></i></a>')},TabFormExpandControls.prototype.createPrimaryCollapseIcon=function(){return $('<a href="javascript:;" class="tab-collapse-icon primary" data-control="primary-collapse-icon"><i class="icon-chevron-down"></i></a>')},TabFormExpandControls.prototype.generateStorageKey=function(section){return"oc"+section+this.tabsControlId.replace("-","")+"collapsed"},TabFormExpandControls.prototype.findPrimaryPanel=function(pane){return $(pane).find(".control-tabs.primary-tabs")},TabFormExpandControls.prototype.findSecondaryPanel=function(pane){return $(pane).find(".control-tabs.secondary-tabs")},TabFormExpandControls.prototype.getLocalStorageValue=function(section,defaultValue){var key=this.generateStorageKey(section);return"undefined"!=typeof localStorage?localStorage[key]:defaultValue},TabFormExpandControls.prototype.setLocalStorageValue=function(section,value){var key=this.generateStorageKey(section);"undefined"!=typeof localStorage&&(localStorage[key]=value)},TabFormExpandControls.DEFAULTS={onInitTab:null},$.oc.tabFormExpandControls=TabFormExpandControls}(window.jQuery),$.ajaxPrefilter((function(options){var token=$('meta[name="csrf-token"]').attr("content");token&&(options.headers||(options.headers={}),options.headers["X-CSRF-TOKEN"]=token)})),void 0===$.oc&&($.oc={}),$.oc.backendUrl=function(url){var backendBasePath=$('meta[name="backend-base-path"]').attr("content");return backendBasePath?("/"==url.substr(0,1)&&(url=url.substr(1)),backendBasePath+"/"+url):url},$.oc.backendCalculateTopContainerOffset=function(){var height=$("#layout-mainmenu > .main-menu-container").outerHeight();return $("#layout-banner-area").length&&(height+=$("#layout-banner-area").outerHeight()),height};var AssetManager=function(){var o={load:function(collection,callback){var jsList=collection.js?collection.js:[],cssList=collection.css?collection.css:[],imgList=collection.img?collection.img:[];jsList=$.grep(jsList,(function(item){return 0==$('head script[src="'+item+'"]').length})),cssList=$.grep(cssList,(function(item){return 0==$('head link[href="'+item+'"]').length}));var cssCounter=0,jsLoaded=!1,imgLoaded=!1;function checkLoaded(){return!!imgLoaded&&(!!jsLoaded&&(!(cssCounter<cssList.length)&&void(callback&&callback())))}0!==jsList.length||0!==cssList.length||0!==imgList.length?(o.loadJavaScript(jsList,(function(){jsLoaded=!0,checkLoaded()})),$.each(cssList,(function(index,source){o.loadStyleSheet(source,(function(){cssCounter++,checkLoaded()}))})),o.loadImage(imgList,(function(){imgLoaded=!0,checkLoaded()}))):callback&&callback()},loadStyleSheet:function(source,callback){var cssElement=document.createElement("link");return cssElement.setAttribute("rel","stylesheet"),cssElement.setAttribute("type","text/css"),cssElement.setAttribute("href",source),cssElement.addEventListener("load",callback,!1),void 0!==cssElement&&document.getElementsByTagName("head")[0].appendChild(cssElement),cssElement},loadJavaScript:function(sources,callback){if(sources.length<=0)return callback();var source=sources.shift(),jsElement=document.createElement("script");jsElement.setAttribute("type","text/javascript"),jsElement.setAttribute("src",source),jsElement.addEventListener("load",(function(){o.loadJavaScript(sources,callback)}),!1),void 0!==jsElement&&document.getElementsByTagName("head")[0].appendChild(jsElement)},loadImage:function(sources,callback){if(sources.length<=0)return callback();var loaded=0;$.each(sources,(function(index,source){var img=new Image;img.onload=function(){++loaded==sources.length&&callback&&callback()},img.src=source}))}};return o},assetManager=new AssetManager;if(void 0===$.oc&&($.oc={}),$.oc.escapeHtmlString=function(string){var htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return(""+string).replace(/[&<>"'\/]/g,(function(match){return htmlEscapes[match]}))},window.addEventListener("touchstart",(function onFirstTouch(){window.removeEventListener("touchstart",onFirstTouch,!1),$.cookie("oc-user-touch",1,{expires:365,path:"/"}),$(document.documentElement).addClass("user-touch")}),!1),window.MSInputMethodContext&&document.documentMode){function fixMediaManager(){var $el=$('div[data-control="media-manager"] .control-scrollpad');$el.height($el.parent().height())}function fixSidebar(){$("#layout-sidenav").height(Math.max($("#layout-body").innerHeight(),$(window).height()-$("#layout-mainmenu").height()))}$(window).on("resize",(function(){fixMediaManager(),fixSidebar()}))}/Firefox\/\d+[\d\.]*/.test(navigator.userAgent)&&"function"==typeof window.DragEvent&&"function"==typeof window.addEventListener&&function(){var cx,cy,px,py,ox,oy,sx,sy,lx,ly;function update(e){cx=e.clientX,cy=e.clientY,px=e.pageX,py=e.pageY,ox=e.offsetX,oy=e.offsetY,sx=e.screenX,sy=e.screenY,lx=e.layerX,ly=e.layerY}function assign(e){e._ffix_cx=cx,e._ffix_cy=cy,e._ffix_px=px,e._ffix_py=py,e._ffix_ox=ox,e._ffix_oy=oy,e._ffix_sx=sx,e._ffix_sy=sy,e._ffix_lx=lx,e._ffix_ly=ly}window.addEventListener("mousemove",update,!0),window.addEventListener("dragover",update,!0),window.addEventListener("dragstart",assign,!0),window.addEventListener("drag",assign,!0),window.addEventListener("dragend",assign,!0);var me=Object.getOwnPropertyDescriptors(window.MouseEvent.prototype),ue=Object.getOwnPropertyDescriptors(window.UIEvent.prototype);function getter(prop,repl){return function(){return me[prop]&&me[prop].get.call(this)||Number(this[repl])||0}}function layerGetter(prop,repl){return function(){return"dragover"===this.type&&ue[prop]?ue[prop].get.call(this):Number(this[repl])||0}}Object.defineProperties(window.DragEvent.prototype,{clientX:{get:getter("clientX","_ffix_cx")},clientY:{get:getter("clientY","_ffix_cy")},pageX:{get:getter("pageX","_ffix_px")},pageY:{get:getter("pageY","_ffix_py")},offsetX:{get:getter("offsetX","_ffix_ox")},offsetY:{get:getter("offsetY","_ffix_oy")},screenX:{get:getter("screenX","_ffix_sx")},screenY:{get:getter("screenY","_ffix_sy")},x:{get:getter("x","_ffix_cx")},y:{get:getter("y","_ffix_cy")},layerX:{get:layerGetter("layerX","_ffix_lx")},layerY:{get:layerGetter("layerY","_ffix_ly")}})}();
